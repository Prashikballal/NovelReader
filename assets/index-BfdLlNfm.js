var lM=Object.defineProperty;var O_=l=>{throw TypeError(l)};var cM=(l,t,e)=>t in l?lM(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var Et=(l,t,e)=>cM(l,typeof t!="symbol"?t+"":t,e),Eb=(l,t,e)=>t.has(l)||O_("Cannot "+e);var h=(l,t,e)=>(Eb(l,t,"read from private field"),e?e.call(l):t.get(l)),C=(l,t,e)=>t.has(l)?O_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,e),_=(l,t,e,i)=>(Eb(l,t,"write to private field"),i?i.call(l,e):t.set(l,e),e),T=(l,t,e)=>(Eb(l,t,"access private method"),e);var Tn=(l,t,e,i)=>({set _(a){_(l,t,a,e)},get _(){return h(l,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function uM(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var _b={exports:{}},hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function hM(){if(N_)return hh;N_=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:l,type:i,key:u,ref:a!==void 0?a:null,props:o}}return hh.Fragment=t,hh.jsx=e,hh.jsxs=e,hh}var k_;function dM(){return k_||(k_=1,_b.exports=hM()),_b.exports}var yt=dM(),wb={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function fM(){if(P_)return Lt;P_=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function M(N,K,nt){this.props=N,this.context=K,this.refs=w,this.updater=nt||S}M.prototype.isReactComponent={},M.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},M.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function x(){}x.prototype=M.prototype;function L(N,K,nt){this.props=N,this.context=K,this.refs=w,this.updater=nt||S}var O=L.prototype=new x;O.constructor=L,A(O,M.prototype),O.isPureReactComponent=!0;var P=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function V(N,K,nt,et,lt,Tt){return nt=Tt.ref,{$$typeof:l,type:N,key:K,ref:nt!==void 0?nt:null,props:Tt}}function W(N,K){return V(N.type,K,void 0,void 0,void 0,N.props)}function tt(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function at(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return K[nt]})}var st=/\/+/g;function gt(N,K){return typeof N=="object"&&N!==null&&N.key!=null?at(""+N.key):K.toString(36)}function bt(){}function ft(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(bt,bt):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ht(N,K,nt,et,lt){var Tt=typeof N;(Tt==="undefined"||Tt==="boolean")&&(N=null);var ct=!1;if(N===null)ct=!0;else switch(Tt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(N.$$typeof){case l:case t:ct=!0;break;case m:return ct=N._init,ht(ct(N._payload),K,nt,et,lt)}}if(ct)return lt=lt(N),ct=et===""?"."+gt(N,0):et,P(lt)?(nt="",ct!=null&&(nt=ct.replace(st,"$&/")+"/"),ht(lt,K,nt,"",function(Ce){return Ce})):lt!=null&&(tt(lt)&&(lt=W(lt,nt+(lt.key==null||N&&N.key===lt.key?"":(""+lt.key).replace(st,"$&/")+"/")+ct)),K.push(lt)),1;ct=0;var xt=et===""?".":et+":";if(P(N))for(var Bt=0;Bt<N.length;Bt++)et=N[Bt],Tt=xt+gt(et,Bt),ct+=ht(et,K,nt,Tt,lt);else if(Bt=v(N),typeof Bt=="function")for(N=Bt.call(N),Bt=0;!(et=N.next()).done;)et=et.value,Tt=xt+gt(et,Bt++),ct+=ht(et,K,nt,Tt,lt);else if(Tt==="object"){if(typeof N.then=="function")return ht(ft(N),K,nt,et,lt);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ct}function B(N,K,nt){if(N==null)return N;var et=[],lt=0;return ht(N,et,"","",function(Tt){return K.call(nt,Tt,lt++)}),et}function Y(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var J=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function wt(){}return Lt.Children={map:B,forEach:function(N,K,nt){B(N,function(){K.apply(this,arguments)},nt)},count:function(N){var K=0;return B(N,function(){K++}),K},toArray:function(N){return B(N,function(K){return K})||[]},only:function(N){if(!tt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Lt.Component=M,Lt.Fragment=e,Lt.Profiler=a,Lt.PureComponent=L,Lt.StrictMode=i,Lt.Suspense=f,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return F.H.useMemoCache(N)}},Lt.cache=function(N){return function(){return N.apply(null,arguments)}},Lt.cloneElement=function(N,K,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var et=A({},N.props),lt=N.key,Tt=void 0;if(K!=null)for(ct in K.ref!==void 0&&(Tt=void 0),K.key!==void 0&&(lt=""+K.key),K)!j.call(K,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&K.ref===void 0||(et[ct]=K[ct]);var ct=arguments.length-2;if(ct===1)et.children=nt;else if(1<ct){for(var xt=Array(ct),Bt=0;Bt<ct;Bt++)xt[Bt]=arguments[Bt+2];et.children=xt}return V(N.type,lt,void 0,void 0,Tt,et)},Lt.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},Lt.createElement=function(N,K,nt){var et,lt={},Tt=null;if(K!=null)for(et in K.key!==void 0&&(Tt=""+K.key),K)j.call(K,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(lt[et]=K[et]);var ct=arguments.length-2;if(ct===1)lt.children=nt;else if(1<ct){for(var xt=Array(ct),Bt=0;Bt<ct;Bt++)xt[Bt]=arguments[Bt+2];lt.children=xt}if(N&&N.defaultProps)for(et in ct=N.defaultProps,ct)lt[et]===void 0&&(lt[et]=ct[et]);return V(N,Tt,void 0,void 0,null,lt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(N){return{$$typeof:d,render:N}},Lt.isValidElement=tt,Lt.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:Y}},Lt.memo=function(N,K){return{$$typeof:p,type:N,compare:K===void 0?null:K}},Lt.startTransition=function(N){var K=F.T,nt={};F.T=nt;try{var et=N(),lt=F.S;lt!==null&&lt(nt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(wt,J)}catch(Tt){J(Tt)}finally{F.T=K}},Lt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Lt.use=function(N){return F.H.use(N)},Lt.useActionState=function(N,K,nt){return F.H.useActionState(N,K,nt)},Lt.useCallback=function(N,K){return F.H.useCallback(N,K)},Lt.useContext=function(N){return F.H.useContext(N)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(N,K){return F.H.useDeferredValue(N,K)},Lt.useEffect=function(N,K,nt){var et=F.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(N,K)},Lt.useId=function(){return F.H.useId()},Lt.useImperativeHandle=function(N,K,nt){return F.H.useImperativeHandle(N,K,nt)},Lt.useInsertionEffect=function(N,K){return F.H.useInsertionEffect(N,K)},Lt.useLayoutEffect=function(N,K){return F.H.useLayoutEffect(N,K)},Lt.useMemo=function(N,K){return F.H.useMemo(N,K)},Lt.useOptimistic=function(N,K){return F.H.useOptimistic(N,K)},Lt.useReducer=function(N,K,nt){return F.H.useReducer(N,K,nt)},Lt.useRef=function(N){return F.H.useRef(N)},Lt.useState=function(N){return F.H.useState(N)},Lt.useSyncExternalStore=function(N,K,nt){return F.H.useSyncExternalStore(N,K,nt)},Lt.useTransition=function(){return F.H.useTransition()},Lt.version="19.1.0",Lt}var F_;function m0(){return F_||(F_=1,wb.exports=fM()),wb.exports}var z=m0(),Tb={exports:{}},dh={},xb={exports:{}},Rb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function pM(){return H_||(H_=1,function(l){function t(B,Y){var J=B.length;B.push(Y);t:for(;0<J;){var wt=J-1>>>1,N=B[wt];if(0<a(N,Y))B[wt]=Y,B[J]=N,J=wt;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Y=B[0],J=B.pop();if(J!==Y){B[0]=J;t:for(var wt=0,N=B.length,K=N>>>1;wt<K;){var nt=2*(wt+1)-1,et=B[nt],lt=nt+1,Tt=B[lt];if(0>a(et,J))lt<N&&0>a(Tt,et)?(B[wt]=Tt,B[lt]=J,wt=lt):(B[wt]=et,B[nt]=J,wt=nt);else if(lt<N&&0>a(Tt,J))B[wt]=Tt,B[lt]=J,wt=lt;else break t}}return Y}function a(B,Y){var J=B.sortIndex-Y.sortIndex;return J!==0?J:B.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();l.unstable_now=function(){return u.now()-d}}var f=[],p=[],m=1,b=null,v=3,S=!1,A=!1,w=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var Y=e(p);Y!==null;){if(Y.callback===null)i(p);else if(Y.startTime<=B)i(p),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=e(p)}}function F(B){if(w=!1,P(B),!A)if(e(f)!==null)A=!0,j||(j=!0,gt());else{var Y=e(p);Y!==null&&ht(F,Y.startTime-B)}}var j=!1,V=-1,W=5,tt=-1;function at(){return M?!0:!(l.unstable_now()-tt<W)}function st(){if(M=!1,j){var B=l.unstable_now();tt=B;var Y=!0;try{t:{A=!1,w&&(w=!1,L(V),V=-1),S=!0;var J=v;try{e:{for(P(B),b=e(f);b!==null&&!(b.expirationTime>B&&at());){var wt=b.callback;if(typeof wt=="function"){b.callback=null,v=b.priorityLevel;var N=wt(b.expirationTime<=B);if(B=l.unstable_now(),typeof N=="function"){b.callback=N,P(B),Y=!0;break e}b===e(f)&&i(f),P(B)}else i(f);b=e(f)}if(b!==null)Y=!0;else{var K=e(p);K!==null&&ht(F,K.startTime-B),Y=!1}}break t}finally{b=null,v=J,S=!1}Y=void 0}}finally{Y?gt():j=!1}}}var gt;if(typeof O=="function")gt=function(){O(st)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,ft=bt.port2;bt.port1.onmessage=st,gt=function(){ft.postMessage(null)}}else gt=function(){x(st,0)};function ht(B,Y){V=x(function(){B(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(B){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var J=v;v=Y;try{return B()}finally{v=J}},l.unstable_requestPaint=function(){M=!0},l.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=v;v=B;try{return Y()}finally{v=J}},l.unstable_scheduleCallback=function(B,Y,J){var wt=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?wt+J:wt):J=wt,B){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=J+N,B={id:m++,callback:Y,priorityLevel:B,startTime:J,expirationTime:N,sortIndex:-1},J>wt?(B.sortIndex=J,t(p,B),e(f)===null&&B===e(p)&&(w?(L(V),V=-1):w=!0,ht(F,J-wt))):(B.sortIndex=N,t(f,B),A||S||(A=!0,j||(j=!0,gt()))),B},l.unstable_shouldYield=at,l.unstable_wrapCallback=function(B){var Y=v;return function(){var J=v;v=Y;try{return B.apply(this,arguments)}finally{v=J}}}}(Rb)),Rb}var z_;function gM(){return z_||(z_=1,xb.exports=pM()),xb.exports}var Cb={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function mM(){if(U_)return pn;U_=1;var l=m0();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:m}}var u=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(f,p,null,m)},pn.flushSync=function(f){var p=u.T,m=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=p,i.p=m,i.d.f()}},pn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},pn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},pn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,b=d(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:S}):m==="script"&&i.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},pn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,b=d(m,p.crossOrigin);i.d.L(f,m,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},pn.requestFormReset=function(f){i.d.r(f)},pn.unstable_batchedUpdates=function(f,p){return f(p)},pn.useFormState=function(f,p,m){return u.H.useFormState(f,p,m)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var B_;function yM(){if(B_)return Cb.exports;B_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Cb.exports=mM(),Cb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function bM(){if(I_)return dh;I_=1;var l=gM(),t=m0(),e=yM();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,r=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(r=s.return),n=s.return;while(n)}return s.tag===3?r:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var r=n,c=s;;){var g=r.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){r=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===r)return d(g),n;if(y===c)return d(g),s;y=y.sibling}throw Error(i(188))}if(r.return!==c.return)r=g,c=y;else{for(var E=!1,R=g.child;R;){if(R===r){E=!0,r=g,c=y;break}if(R===c){E=!0,c=g,r=y;break}R=R.sibling}if(!E){for(R=y.child;R;){if(R===r){E=!0,r=y,c=g;break}if(R===c){E=!0,c=y,r=g;break}R=R.sibling}if(!E)throw Error(i(189))}}if(r.alternate!==c)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function gt(n){return n===null||typeof n!="object"?null:(n=st&&n[st]||n["@@iterator"],typeof n=="function"?n:null)}var bt=Symbol.for("react.client.reference");function ft(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===bt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList";case tt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case O:return(n.displayName||"Context")+".Provider";case L:return(n._context.displayName||"Context")+".Consumer";case P:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return s=n.displayName||null,s!==null?s:ft(n.type)||"Memo";case W:s=n._payload,n=n._init;try{return ft(n(s))}catch{}}return null}var ht=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},wt=[],N=-1;function K(n){return{current:n}}function nt(n){0>N||(n.current=wt[N],wt[N]=null,N--)}function et(n,s){N++,wt[N]=n.current,n.current=s}var lt=K(null),Tt=K(null),ct=K(null),xt=K(null);function Bt(n,s){switch(et(ct,s),et(Tt,n),et(lt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?r_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=r_(s),n=o_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}nt(lt),et(lt,n)}function Ce(){nt(lt),nt(Tt),nt(ct)}function Jt(n){n.memoizedState!==null&&et(xt,n);var s=lt.current,r=o_(s,n.type);s!==r&&(et(Tt,n),et(lt,r))}function Qi(n){Tt.current===n&&(nt(lt),nt(Tt)),xt.current===n&&(nt(xt),rh._currentValue=J)}var Ts=Object.prototype.hasOwnProperty,Xt=l.unstable_scheduleCallback,ue=l.unstable_cancelCallback,Ge=l.unstable_shouldYield,Me=l.unstable_requestPaint,nn=l.unstable_now,Lr=l.unstable_getCurrentPriorityLevel,df=l.unstable_ImmediatePriority,ff=l.unstable_UserBlockingPriority,xs=l.unstable_NormalPriority,lm=l.unstable_LowPriority,pf=l.unstable_IdlePriority,cm=l.log,um=l.unstable_setDisableYieldValue,Dr=null,Le=null;function Xn(n){if(typeof cm=="function"&&um(n),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Dr,n)}catch{}}var Ve=Math.clz32?Math.clz32:$x,pu=Math.log,Yx=Math.LN2;function $x(n){return n>>>=0,n===0?32:31-(pu(n)/Yx|0)|0}var gf=256,mf=4194304;function Or(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function yf(n,s,r){var c=n.pendingLanes;if(c===0)return 0;var g=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var R=c&134217727;return R!==0?(c=R&~y,c!==0?g=Or(c):(E&=R,E!==0?g=Or(E):r||(r=R&~n,r!==0&&(g=Or(r))))):(R=c&~y,R!==0?g=Or(R):E!==0?g=Or(E):r||(r=c&~n,r!==0&&(g=Or(r)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,r=s&-s,y>=r||y===32&&(r&4194048)!==0)?s:g}function gu(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Kx(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q0(){var n=gf;return gf<<=1,(gf&4194048)===0&&(gf=256),n}function G0(){var n=mf;return mf<<=1,(mf&62914560)===0&&(mf=4194304),n}function hm(n){for(var s=[],r=0;31>r;r++)s.push(n);return s}function mu(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Wx(n,s,r,c,g,y){var E=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var R=n.entanglements,D=n.expirationTimes,I=n.hiddenUpdates;for(r=E&~r;0<r;){var $=31-Ve(r),Z=1<<$;R[$]=0,D[$]=-1;var q=I[$];if(q!==null)for(I[$]=null,$=0;$<q.length;$++){var G=q[$];G!==null&&(G.lane&=-536870913)}r&=~Z}c!==0&&V0(n,c,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~s))}function V0(n,s,r){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Ve(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|r&4194090}function X0(n,s){var r=n.entangledLanes|=s;for(n=n.entanglements;r;){var c=31-Ve(r),g=1<<c;g&s|n[c]&s&&(n[c]|=s),r&=~g}}function dm(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function fm(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Y0(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:x_(n.type))}function Qx(n,s){var r=Y.p;try{return Y.p=n,s()}finally{Y.p=r}}var xa=Math.random().toString(36).slice(2),dn="__reactFiber$"+xa,On="__reactProps$"+xa,fl="__reactContainer$"+xa,pm="__reactEvents$"+xa,Zx="__reactListeners$"+xa,Jx="__reactHandles$"+xa,$0="__reactResources$"+xa,yu="__reactMarker$"+xa;function gm(n){delete n[dn],delete n[On],delete n[pm],delete n[Zx],delete n[Jx]}function pl(n){var s=n[dn];if(s)return s;for(var r=n.parentNode;r;){if(s=r[fl]||r[dn]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(n=h_(n);n!==null;){if(r=n[dn])return r;n=h_(n)}return s}n=r,r=n.parentNode}return null}function gl(n){if(n=n[dn]||n[fl]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function bu(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function ml(n){var s=n[$0];return s||(s=n[$0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Xe(n){n[yu]=!0}var K0=new Set,W0={};function Nr(n,s){yl(n,s),yl(n+"Capture",s)}function yl(n,s){for(W0[n]=s,n=0;n<s.length;n++)K0.add(s[n])}var tR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Q0={},Z0={};function eR(n){return Ts.call(Z0,n)?!0:Ts.call(Q0,n)?!1:tR.test(n)?Z0[n]=!0:(Q0[n]=!0,!1)}function bf(n,s,r){if(eR(s))if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+r)}}function vf(n,s,r){if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+r)}}function Rs(n,s,r,c){if(c===null)n.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(s,r,""+c)}}var mm,J0;function bl(n){if(mm===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);mm=s&&s[1]||"",J0=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mm+n+J0}var ym=!1;function bm(n,s){if(!n||ym)return"";ym=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var q=G}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(G){q=G}n.call(Z.prototype)}}else{try{throw Error()}catch(G){q=G}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],R=y[1];if(E&&R){var D=E.split(`
`),I=R.split(`
`);for(g=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;g<I.length&&!I[g].includes("DetermineComponentFrameRoot");)g++;if(c===D.length||g===I.length)for(c=D.length-1,g=I.length-1;1<=c&&0<=g&&D[c]!==I[g];)g--;for(;1<=c&&0<=g;c--,g--)if(D[c]!==I[g]){if(c!==1||g!==1)do if(c--,g--,0>g||D[c]!==I[g]){var $=`
`+D[c].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=c&&0<=g);break}}}finally{ym=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?bl(r):""}function nR(n){switch(n.tag){case 26:case 27:case 5:return bl(n.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 15:return bm(n.type,!1);case 11:return bm(n.type.render,!1);case 1:return bm(n.type,!0);case 31:return bl("Activity");default:return""}}function tA(n){try{var s="";do s+=nR(n),n=n.return;while(n);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function di(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eA(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function iR(n){var s=eA(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var g=r.get,y=r.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(E){c=""+E,y.call(this,E)}}),Object.defineProperty(n,s,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Af(n){n._valueTracker||(n._valueTracker=iR(n))}function nA(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var r=s.getValue(),c="";return n&&(c=eA(n)?n.checked?"true":"false":n.value),n=c,n!==r?(s.setValue(n),!0):!1}function Sf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var sR=/[\n"\\]/g;function fi(n){return n.replace(sR,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vm(n,s,r,c,g,y,E,R){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+di(s)):n.value!==""+di(s)&&(n.value=""+di(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Am(n,E,di(s)):r!=null?Am(n,E,di(r)):c!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+di(R):n.removeAttribute("name")}function iA(n,s,r,c,g,y,E,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;r=r!=null?""+di(r):"",s=s!=null?""+di(s):r,R||s===n.value||(n.value=s),n.defaultValue=s}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=R?n.checked:!!c,n.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Am(n,s,r){s==="number"&&Sf(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function vl(n,s,r,c){if(n=n.options,s){s={};for(var g=0;g<r.length;g++)s["$"+r[g]]=!0;for(r=0;r<n.length;r++)g=s.hasOwnProperty("$"+n[r].value),n[r].selected!==g&&(n[r].selected=g),g&&c&&(n[r].defaultSelected=!0)}else{for(r=""+di(r),s=null,g=0;g<n.length;g++){if(n[g].value===r){n[g].selected=!0,c&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function sA(n,s,r){if(s!=null&&(s=""+di(s),s!==n.value&&(n.value=s),r==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=r!=null?""+di(r):""}function aA(n,s,r,c){if(s==null){if(c!=null){if(r!=null)throw Error(i(92));if(ht(c)){if(1<c.length)throw Error(i(93));c=c[0]}r=c}r==null&&(r=""),s=r}r=di(s),n.defaultValue=r,c=n.textContent,c===r&&c!==""&&c!==null&&(n.value=c)}function Al(n,s){if(s){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=s;return}}n.textContent=s}var aR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rA(n,s,r){var c=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,r):typeof r!="number"||r===0||aR.has(s)?s==="float"?n.cssFloat=r:n[s]=(""+r).trim():n[s]=r+"px"}function oA(n,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var g in s)c=s[g],s.hasOwnProperty(g)&&r[g]!==c&&rA(n,g,c)}else for(var y in s)s.hasOwnProperty(y)&&rA(n,y,s[y])}function Sm(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ef(n){return oR.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Em=null;function _m(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Sl=null,El=null;function lA(n){var s=gl(n);if(s&&(n=s.stateNode)){var r=n[On]||null;t:switch(n=s.stateNode,s.type){case"input":if(vm(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fi(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var c=r[s];if(c!==n&&c.form===n.form){var g=c[On]||null;if(!g)throw Error(i(90));vm(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<r.length;s++)c=r[s],c.form===n.form&&nA(c)}break t;case"textarea":sA(n,r.value,r.defaultValue);break t;case"select":s=r.value,s!=null&&vl(n,!!r.multiple,s,!1)}}}var wm=!1;function cA(n,s,r){if(wm)return n(s,r);wm=!0;try{var c=n(s);return c}finally{if(wm=!1,(Sl!==null||El!==null)&&(op(),Sl&&(s=Sl,n=El,El=Sl=null,lA(s),n)))for(s=0;s<n.length;s++)lA(n[s])}}function vu(n,s){var r=n.stateNode;if(r===null)return null;var c=r[On]||null;if(c===null)return null;r=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=!1;if(Cs)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Tm=!1}var Ra=null,xm=null,_f=null;function uA(){if(_f)return _f;var n,s=xm,r=s.length,c,g="value"in Ra?Ra.value:Ra.textContent,y=g.length;for(n=0;n<r&&s[n]===g[n];n++);var E=r-n;for(c=1;c<=E&&s[r-c]===g[y-c];c++);return _f=g.slice(n,1<c?1-c:void 0)}function wf(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Tf(){return!0}function hA(){return!1}function Nn(n){function s(r,c,g,y,E){this._reactName=r,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(r=n[R],this[R]=r?r(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Tf:hA,this.isPropagationStopped=hA,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tf)},persist:function(){},isPersistent:Tf}),s}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xf=Nn(kr),Su=m({},kr,{view:0,detail:0}),lR=Nn(Su),Rm,Cm,Eu,Rf=m({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Eu&&(Eu&&n.type==="mousemove"?(Rm=n.screenX-Eu.screenX,Cm=n.screenY-Eu.screenY):Cm=Rm=0,Eu=n),Rm)},movementY:function(n){return"movementY"in n?n.movementY:Cm}}),dA=Nn(Rf),cR=m({},Rf,{dataTransfer:0}),uR=Nn(cR),hR=m({},Su,{relatedTarget:0}),Mm=Nn(hR),dR=m({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),fR=Nn(dR),pR=m({},kr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gR=Nn(pR),mR=m({},kr,{data:0}),fA=Nn(mR),yR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AR(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=vR[n])?!!s[n]:!1}function Lm(){return AR}var SR=m({},Su,{key:function(n){if(n.key){var s=yR[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=wf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(n){return n.type==="keypress"?wf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ER=Nn(SR),_R=m({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=Nn(_R),wR=m({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),TR=Nn(wR),xR=m({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),RR=Nn(xR),CR=m({},Rf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),MR=Nn(CR),LR=m({},kr,{newState:0,oldState:0}),DR=Nn(LR),OR=[9,13,27,32],Dm=Cs&&"CompositionEvent"in window,_u=null;Cs&&"documentMode"in document&&(_u=document.documentMode);var NR=Cs&&"TextEvent"in window&&!_u,gA=Cs&&(!Dm||_u&&8<_u&&11>=_u),mA=" ",yA=!1;function bA(n,s){switch(n){case"keyup":return OR.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _l=!1;function kR(n,s){switch(n){case"compositionend":return vA(s);case"keypress":return s.which!==32?null:(yA=!0,mA);case"textInput":return n=s.data,n===mA&&yA?null:n;default:return null}}function PR(n,s){if(_l)return n==="compositionend"||!Dm&&bA(n,s)?(n=uA(),_f=xm=Ra=null,_l=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gA&&s.locale!=="ko"?null:s.data;default:return null}}var FR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AA(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!FR[n.type]:s==="textarea"}function SA(n,s,r,c){Sl?El?El.push(c):El=[c]:Sl=c,s=fp(s,"onChange"),0<s.length&&(r=new xf("onChange","change",null,r,c),n.push({event:r,listeners:s}))}var wu=null,Tu=null;function HR(n){e_(n,0)}function Cf(n){var s=bu(n);if(nA(s))return n}function EA(n,s){if(n==="change")return s}var _A=!1;if(Cs){var Om;if(Cs){var Nm="oninput"in document;if(!Nm){var wA=document.createElement("div");wA.setAttribute("oninput","return;"),Nm=typeof wA.oninput=="function"}Om=Nm}else Om=!1;_A=Om&&(!document.documentMode||9<document.documentMode)}function TA(){wu&&(wu.detachEvent("onpropertychange",xA),Tu=wu=null)}function xA(n){if(n.propertyName==="value"&&Cf(Tu)){var s=[];SA(s,Tu,n,_m(n)),cA(HR,s)}}function zR(n,s,r){n==="focusin"?(TA(),wu=s,Tu=r,wu.attachEvent("onpropertychange",xA)):n==="focusout"&&TA()}function UR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cf(Tu)}function BR(n,s){if(n==="click")return Cf(s)}function IR(n,s){if(n==="input"||n==="change")return Cf(s)}function jR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Yn=typeof Object.is=="function"?Object.is:jR;function xu(n,s){if(Yn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var r=Object.keys(n),c=Object.keys(s);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var g=r[c];if(!Ts.call(s,g)||!Yn(n[g],s[g]))return!1}return!0}function RA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function CA(n,s){var r=RA(n);n=0;for(var c;r;){if(r.nodeType===3){if(c=n+r.textContent.length,n<=s&&c>=s)return{node:r,offset:s-n};n=c}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=RA(r)}}function MA(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?MA(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function LA(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Sf(n.document);s instanceof n.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)n=s.contentWindow;else break;s=Sf(n.document)}return s}function km(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var qR=Cs&&"documentMode"in document&&11>=document.documentMode,wl=null,Pm=null,Ru=null,Fm=!1;function DA(n,s,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fm||wl==null||wl!==Sf(c)||(c=wl,"selectionStart"in c&&km(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ru&&xu(Ru,c)||(Ru=c,c=fp(Pm,"onSelect"),0<c.length&&(s=new xf("onSelect","select",null,s,r),n.push({event:s,listeners:c}),s.target=wl)))}function Pr(n,s){var r={};return r[n.toLowerCase()]=s.toLowerCase(),r["Webkit"+n]="webkit"+s,r["Moz"+n]="moz"+s,r}var Tl={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Hm={},OA={};Cs&&(OA=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function Fr(n){if(Hm[n])return Hm[n];if(!Tl[n])return n;var s=Tl[n],r;for(r in s)if(s.hasOwnProperty(r)&&r in OA)return Hm[n]=s[r];return n}var NA=Fr("animationend"),kA=Fr("animationiteration"),PA=Fr("animationstart"),GR=Fr("transitionrun"),VR=Fr("transitionstart"),XR=Fr("transitioncancel"),FA=Fr("transitionend"),HA=new Map,zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zm.push("scrollEnd");function Di(n,s){HA.set(n,s),Nr(s,[n])}var zA=new WeakMap;function pi(n,s){if(typeof n=="object"&&n!==null){var r=zA.get(n);return r!==void 0?r:(s={value:n,source:s,stack:tA(s)},zA.set(n,s),s)}return{value:n,source:s,stack:tA(s)}}var gi=[],xl=0,Um=0;function Mf(){for(var n=xl,s=Um=xl=0;s<n;){var r=gi[s];gi[s++]=null;var c=gi[s];gi[s++]=null;var g=gi[s];gi[s++]=null;var y=gi[s];if(gi[s++]=null,c!==null&&g!==null){var E=c.pending;E===null?g.next=g:(g.next=E.next,E.next=g),c.pending=g}y!==0&&UA(r,g,y)}}function Lf(n,s,r,c){gi[xl++]=n,gi[xl++]=s,gi[xl++]=r,gi[xl++]=c,Um|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Bm(n,s,r,c){return Lf(n,s,r,c),Df(n)}function Rl(n,s){return Lf(n,null,null,s),Df(n)}function UA(n,s,r){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r);for(var g=!1,y=n.return;y!==null;)y.childLanes|=r,c=y.alternate,c!==null&&(c.childLanes|=r),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&s!==null&&(g=31-Ve(r),n=y.hiddenUpdates,c=n[g],c===null?n[g]=[s]:c.push(s),s.lane=r|536870912),y):null}function Df(n){if(50<Zu)throw Zu=0,Xy=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Cl={};function YR(n,s,r,c){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(n,s,r,c){return new YR(n,s,r,c)}function Im(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ms(n,s){var r=n.alternate;return r===null?(r=$n(n.tag,s,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=s,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,s=n.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function BA(n,s){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,s=r.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Of(n,s,r,c,g,y){var E=0;if(c=n,typeof n=="function")Im(n)&&(E=1);else if(typeof n=="string")E=KC(n,r,lt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case tt:return n=$n(31,r,s,g),n.elementType=tt,n.lanes=y,n;case A:return Hr(r.children,g,y,s);case w:E=8,g|=24;break;case M:return n=$n(12,r,s,g|2),n.elementType=M,n.lanes=y,n;case F:return n=$n(13,r,s,g),n.elementType=F,n.lanes=y,n;case j:return n=$n(19,r,s,g),n.elementType=j,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case O:E=10;break t;case L:E=9;break t;case P:E=11;break t;case V:E=14;break t;case W:E=16,c=null;break t}E=29,r=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=$n(E,r,s,g),s.elementType=n,s.type=c,s.lanes=y,s}function Hr(n,s,r,c){return n=$n(7,n,c,s),n.lanes=r,n}function jm(n,s,r){return n=$n(6,n,null,s),n.lanes=r,n}function qm(n,s,r){return s=$n(4,n.children!==null?n.children:[],n.key,s),s.lanes=r,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ml=[],Ll=0,Nf=null,kf=0,mi=[],yi=0,zr=null,Ls=1,Ds="";function Ur(n,s){Ml[Ll++]=kf,Ml[Ll++]=Nf,Nf=n,kf=s}function IA(n,s,r){mi[yi++]=Ls,mi[yi++]=Ds,mi[yi++]=zr,zr=n;var c=Ls;n=Ds;var g=32-Ve(c)-1;c&=~(1<<g),r+=1;var y=32-Ve(s)+g;if(30<y){var E=g-g%5;y=(c&(1<<E)-1).toString(32),c>>=E,g-=E,Ls=1<<32-Ve(s)+g|r<<g|c,Ds=y+n}else Ls=1<<y|r<<g|c,Ds=n}function Gm(n){n.return!==null&&(Ur(n,1),IA(n,1,0))}function Vm(n){for(;n===Nf;)Nf=Ml[--Ll],Ml[Ll]=null,kf=Ml[--Ll],Ml[Ll]=null;for(;n===zr;)zr=mi[--yi],mi[yi]=null,Ds=mi[--yi],mi[yi]=null,Ls=mi[--yi],mi[yi]=null}var wn=null,ve=null,Gt=!1,Br=null,Zi=!1,Xm=Error(i(519));function Ir(n){var s=Error(i(418,""));throw Lu(pi(s,n)),Xm}function jA(n){var s=n.stateNode,r=n.type,c=n.memoizedProps;switch(s[dn]=n,s[On]=c,r){case"dialog":zt("cancel",s),zt("close",s);break;case"iframe":case"object":case"embed":zt("load",s);break;case"video":case"audio":for(r=0;r<th.length;r++)zt(th[r],s);break;case"source":zt("error",s);break;case"img":case"image":case"link":zt("error",s),zt("load",s);break;case"details":zt("toggle",s);break;case"input":zt("invalid",s),iA(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Af(s);break;case"select":zt("invalid",s);break;case"textarea":zt("invalid",s),aA(s,c.value,c.defaultValue,c.children),Af(s)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||c.suppressHydrationWarning===!0||a_(s.textContent,r)?(c.popover!=null&&(zt("beforetoggle",s),zt("toggle",s)),c.onScroll!=null&&zt("scroll",s),c.onScrollEnd!=null&&zt("scrollend",s),c.onClick!=null&&(s.onclick=pp),s=!0):s=!1,s||Ir(n)}function qA(n){for(wn=n.return;wn;)switch(wn.tag){case 5:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:wn=wn.return}}function Cu(n){if(n!==wn)return!1;if(!Gt)return qA(n),Gt=!0,!1;var s=n.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||lb(n.type,n.memoizedProps)),r=!r),r&&ve&&Ir(n),qA(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){ve=Ni(n.nextSibling);break t}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++;n=n.nextSibling}ve=null}}else s===27?(s=ve,qa(n.type)?(n=db,db=null,ve=n):ve=s):ve=wn?Ni(n.stateNode.nextSibling):null;return!0}function Mu(){ve=wn=null,Gt=!1}function GA(){var n=Br;return n!==null&&(Fn===null?Fn=n:Fn.push.apply(Fn,n),Br=null),n}function Lu(n){Br===null?Br=[n]:Br.push(n)}var Ym=K(null),jr=null,Os=null;function Ca(n,s,r){et(Ym,s._currentValue),s._currentValue=r}function Ns(n){n._currentValue=Ym.current,nt(Ym)}function $m(n,s,r){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===r)break;n=n.return}}function Km(n,s,r,c){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=g;for(var D=0;D<s.length;D++)if(R.context===s[D]){y.lanes|=r,R=y.alternate,R!==null&&(R.lanes|=r),$m(y.return,r,n),c||(E=null);break t}y=R.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=r,y=E.alternate,y!==null&&(y.lanes|=r),$m(E,r,n),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===n){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Du(n,s,r,c){n=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var R=g.type;Yn(g.pendingProps.value,E.value)||(n!==null?n.push(R):n=[R])}}else if(g===xt.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(rh):n=[rh])}g=g.return}n!==null&&Km(s,n,r,c),s.flags|=262144}function Pf(n){for(n=n.firstContext;n!==null;){if(!Yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qr(n){jr=n,Os=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function fn(n){return VA(jr,n)}function Ff(n,s){return jr===null&&qr(n),VA(n,s)}function VA(n,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Os===null){if(n===null)throw Error(i(308));Os=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Os=Os.next=s;return r}var $R=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(r,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(r){return r()})}},KR=l.unstable_scheduleCallback,WR=l.unstable_NormalPriority,Fe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wm(){return{controller:new $R,data:new Map,refCount:0}}function Ou(n){n.refCount--,n.refCount===0&&KR(WR,function(){n.controller.abort()})}var Nu=null,Qm=0,Dl=0,Ol=null;function QR(n,s){if(Nu===null){var r=Nu=[];Qm=0,Dl=Jy(),Ol={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Qm++,s.then(XA,XA),s}function XA(){if(--Qm===0&&Nu!==null){Ol!==null&&(Ol.status="fulfilled");var n=Nu;Nu=null,Dl=0,Ol=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ZR(n,s){var r=[],c={status:"pending",value:null,reason:null,then:function(g){r.push(g)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var g=0;g<r.length;g++)(0,r[g])(s)},function(g){for(c.status="rejected",c.reason=g,g=0;g<r.length;g++)(0,r[g])(void 0)}),c}var YA=B.S;B.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&QR(n,s),YA!==null&&YA(n,s)};var Gr=K(null);function Zm(){var n=Gr.current;return n!==null?n:oe.pooledCache}function Hf(n,s){s===null?et(Gr,Gr.current):et(Gr,s.pool)}function $A(){var n=Zm();return n===null?null:{parent:Fe._currentValue,pool:n}}var ku=Error(i(460)),KA=Error(i(474)),zf=Error(i(542)),Jm={then:function(){}};function WA(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Uf(){}function QA(n,s,r){switch(r=n[r],r===void 0?n.push(s):r!==s&&(s.then(Uf,Uf),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,JA(n),n;default:if(typeof s.status=="string")s.then(Uf,Uf);else{if(n=oe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=c}},function(c){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,JA(n),n}throw Pu=s,ku}}var Pu=null;function ZA(){if(Pu===null)throw Error(i(459));var n=Pu;return Pu=null,n}function JA(n){if(n===ku||n===zf)throw Error(i(483))}var Ma=!1;function ty(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ey(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function La(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Da(n,s,r){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,($t&2)!==0){var g=c.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),c.pending=s,s=Df(n),UA(n,null,r),s}return Lf(n,c,s,r),Df(n)}function Fu(n,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,r|=c,s.lanes=r,X0(n,r)}}function ny(n,s){var r=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var g=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,r=r.next}while(r!==null);y===null?g=y=s:y=y.next=s}else g=y=s;r={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=s:n.next=s,r.lastBaseUpdate=s}var iy=!1;function Hu(){if(iy){var n=Ol;if(n!==null)throw n}}function zu(n,s,r,c){iy=!1;var g=n.updateQueue;Ma=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var D=R,I=D.next;D.next=null,E===null?y=I:E.next=I,E=D;var $=n.alternate;$!==null&&($=$.updateQueue,R=$.lastBaseUpdate,R!==E&&(R===null?$.firstBaseUpdate=I:R.next=I,$.lastBaseUpdate=D))}if(y!==null){var Z=g.baseState;E=0,$=I=D=null,R=y;do{var q=R.lane&-536870913,G=q!==R.lane;if(G?(jt&q)===q:(c&q)===q){q!==0&&q===Dl&&(iy=!0),$!==null&&($=$.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var St=n,vt=R;q=s;var ne=r;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){Z=St.call(ne,Z,q);break t}Z=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,q=typeof St=="function"?St.call(ne,Z,q):St,q==null)break t;Z=m({},Z,q);break t;case 2:Ma=!0}}q=R.callback,q!==null&&(n.flags|=64,G&&(n.flags|=8192),G=g.callbacks,G===null?g.callbacks=[q]:G.push(q))}else G={lane:q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},$===null?(I=$=G,D=Z):$=$.next=G,E|=q;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;G=R,R=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);$===null&&(D=Z),g.baseState=D,g.firstBaseUpdate=I,g.lastBaseUpdate=$,y===null&&(g.shared.lanes=0),Ua|=E,n.lanes=E,n.memoizedState=Z}}function tS(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function eS(n,s){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)tS(r[n],s)}var Nl=K(null),Bf=K(0);function nS(n,s){n=Bs,et(Bf,n),et(Nl,s),Bs=n|s.baseLanes}function sy(){et(Bf,Bs),et(Nl,Nl.current)}function ay(){Bs=Bf.current,nt(Nl),nt(Bf)}var Oa=0,Nt=null,te=null,De=null,If=!1,kl=!1,Vr=!1,jf=0,Uu=0,Pl=null,JR=0;function _e(){throw Error(i(321))}function ry(n,s){if(s===null)return!1;for(var r=0;r<s.length&&r<n.length;r++)if(!Yn(n[r],s[r]))return!1;return!0}function oy(n,s,r,c,g,y){return Oa=y,Nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?US:BS,Vr=!1,y=r(c,g),Vr=!1,kl&&(y=sS(s,r,c,g)),iS(n),y}function iS(n){B.H=$f;var s=te!==null&&te.next!==null;if(Oa=0,De=te=Nt=null,If=!1,Uu=0,Pl=null,s)throw Error(i(300));n===null||Ye||(n=n.dependencies,n!==null&&Pf(n)&&(Ye=!0))}function sS(n,s,r,c){Nt=n;var g=0;do{if(kl&&(Pl=null),Uu=0,kl=!1,25<=g)throw Error(i(301));if(g+=1,De=te=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=rC,y=s(r,c)}while(kl);return y}function tC(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?Bu(s):s,n=n.useState()[0],(te!==null?te.memoizedState:null)!==n&&(Nt.flags|=1024),s}function ly(){var n=jf!==0;return jf=0,n}function cy(n,s,r){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~r}function uy(n){if(If){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}If=!1}Oa=0,De=te=Nt=null,kl=!1,Uu=jf=0,Pl=null}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Nt.memoizedState=De=n:De=De.next=n,De}function Oe(){if(te===null){var n=Nt.alternate;n=n!==null?n.memoizedState:null}else n=te.next;var s=De===null?Nt.memoizedState:De.next;if(s!==null)De=s,te=n;else{if(n===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));te=n,n={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},De===null?Nt.memoizedState=De=n:De=De.next=n}return De}function hy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(n){var s=Uu;return Uu+=1,Pl===null&&(Pl=[]),n=QA(Pl,n,s),s=Nt,(De===null?s.memoizedState:De.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?US:BS),n}function qf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bu(n);if(n.$$typeof===O)return fn(n)}throw Error(i(438,String(n)))}function dy(n){var s=null,r=Nt.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var c=Nt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=hy(),Nt.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(n),c=0;c<n;c++)r[c]=at;return s.index++,r}function ks(n,s){return typeof s=="function"?s(n):s}function Gf(n){var s=Oe();return fy(s,te,n)}function fy(n,s,r){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var g=n.baseQueue,y=c.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}s.baseQueue=g=y,c.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{s=g.next;var R=E=null,D=null,I=s,$=!1;do{var Z=I.lane&-536870913;if(Z!==I.lane?(jt&Z)===Z:(Oa&Z)===Z){var q=I.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Z===Dl&&($=!0);else if((Oa&q)===q){I=I.next,q===Dl&&($=!0);continue}else Z={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},D===null?(R=D=Z,E=y):D=D.next=Z,Nt.lanes|=q,Ua|=q;Z=I.action,Vr&&r(y,Z),y=I.hasEagerState?I.eagerState:r(y,Z)}else q={lane:Z,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},D===null?(R=D=q,E=y):D=D.next=q,Nt.lanes|=Z,Ua|=Z;I=I.next}while(I!==null&&I!==s);if(D===null?E=y:D.next=R,!Yn(y,n.memoizedState)&&(Ye=!0,$&&(r=Ol,r!==null)))throw r;n.memoizedState=y,n.baseState=E,n.baseQueue=D,c.lastRenderedState=y}return g===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function py(n){var s=Oe(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var c=r.dispatch,g=r.pending,y=s.memoizedState;if(g!==null){r.pending=null;var E=g=g.next;do y=n(y,E.action),E=E.next;while(E!==g);Yn(y,s.memoizedState)||(Ye=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),r.lastRenderedState=y}return[y,c]}function aS(n,s,r){var c=Nt,g=Oe(),y=Gt;if(y){if(r===void 0)throw Error(i(407));r=r()}else r=s();var E=!Yn((te||g).memoizedState,r);E&&(g.memoizedState=r,Ye=!0),g=g.queue;var R=lS.bind(null,c,g,n);if(Iu(2048,8,R,[n]),g.getSnapshot!==s||E||De!==null&&De.memoizedState.tag&1){if(c.flags|=2048,Fl(9,Vf(),oS.bind(null,c,g,r,s),null),oe===null)throw Error(i(349));y||(Oa&124)!==0||rS(c,s,r)}return r}function rS(n,s,r){n.flags|=16384,n={getSnapshot:s,value:r},s=Nt.updateQueue,s===null?(s=hy(),Nt.updateQueue=s,s.stores=[n]):(r=s.stores,r===null?s.stores=[n]:r.push(n))}function oS(n,s,r,c){s.value=r,s.getSnapshot=c,cS(s)&&uS(n)}function lS(n,s,r){return r(function(){cS(s)&&uS(n)})}function cS(n){var s=n.getSnapshot;n=n.value;try{var r=s();return!Yn(n,r)}catch{return!0}}function uS(n){var s=Rl(n,2);s!==null&&Jn(s,n,2)}function gy(n){var s=kn();if(typeof n=="function"){var r=n;if(n=r(),Vr){Xn(!0);try{r()}finally{Xn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:n},s}function hS(n,s,r,c){return n.baseState=r,fy(n,te,typeof c=="function"?c:ks)}function eC(n,s,r,c,g){if(Yf(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};B.T!==null?r(!0):y.isTransition=!1,c(y),r=s.pending,r===null?(y.next=s.pending=y,dS(s,y)):(y.next=r.next,s.pending=r.next=y)}}function dS(n,s){var r=s.action,c=s.payload,g=n.state;if(s.isTransition){var y=B.T,E={};B.T=E;try{var R=r(g,c),D=B.S;D!==null&&D(E,R),fS(n,s,R)}catch(I){my(n,s,I)}finally{B.T=y}}else try{y=r(g,c),fS(n,s,y)}catch(I){my(n,s,I)}}function fS(n,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){pS(n,s,c)},function(c){return my(n,s,c)}):pS(n,s,r)}function pS(n,s,r){s.status="fulfilled",s.value=r,gS(s),n.state=r,s=n.pending,s!==null&&(r=s.next,r===s?n.pending=null:(r=r.next,s.next=r,dS(n,r)))}function my(n,s,r){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=r,gS(s),s=s.next;while(s!==c)}n.action=null}function gS(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function mS(n,s){return s}function yS(n,s){if(Gt){var r=oe.formState;if(r!==null){t:{var c=Nt;if(Gt){if(ve){e:{for(var g=ve,y=Zi;g.nodeType!==8;){if(!y){g=null;break e}if(g=Ni(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ve=Ni(g.nextSibling),c=g.data==="F!";break t}}Ir(c)}c=!1}c&&(s=r[0])}}return r=kn(),r.memoizedState=r.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mS,lastRenderedState:s},r.queue=c,r=FS.bind(null,Nt,c),c.dispatch=r,c=gy(!1),y=Sy.bind(null,Nt,!1,c.queue),c=kn(),g={state:s,dispatch:null,action:n,pending:null},c.queue=g,r=eC.bind(null,Nt,g,y,r),g.dispatch=r,c.memoizedState=n,[s,r,!1]}function bS(n){var s=Oe();return vS(s,te,n)}function vS(n,s,r){if(s=fy(n,s,mS)[0],n=Gf(ks)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Bu(s)}catch(E){throw E===ku?zf:E}else c=s;s=Oe();var g=s.queue,y=g.dispatch;return r!==s.memoizedState&&(Nt.flags|=2048,Fl(9,Vf(),nC.bind(null,g,r),null)),[c,y,n]}function nC(n,s){n.action=s}function AS(n){var s=Oe(),r=te;if(r!==null)return vS(s,r,n);Oe(),s=s.memoizedState,r=Oe();var c=r.queue.dispatch;return r.memoizedState=n,[s,c,!1]}function Fl(n,s,r,c){return n={tag:n,create:r,deps:c,inst:s,next:null},s=Nt.updateQueue,s===null&&(s=hy(),Nt.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=n.next=n:(c=r.next,r.next=n,n.next=c,s.lastEffect=n),n}function Vf(){return{destroy:void 0,resource:void 0}}function SS(){return Oe().memoizedState}function Xf(n,s,r,c){var g=kn();c=c===void 0?null:c,Nt.flags|=n,g.memoizedState=Fl(1|s,Vf(),r,c)}function Iu(n,s,r,c){var g=Oe();c=c===void 0?null:c;var y=g.memoizedState.inst;te!==null&&c!==null&&ry(c,te.memoizedState.deps)?g.memoizedState=Fl(s,y,r,c):(Nt.flags|=n,g.memoizedState=Fl(1|s,y,r,c))}function ES(n,s){Xf(8390656,8,n,s)}function _S(n,s){Iu(2048,8,n,s)}function wS(n,s){return Iu(4,2,n,s)}function TS(n,s){return Iu(4,4,n,s)}function xS(n,s){if(typeof s=="function"){n=n();var r=s(n);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function RS(n,s,r){r=r!=null?r.concat([n]):null,Iu(4,4,xS.bind(null,s,n),r)}function yy(){}function CS(n,s){var r=Oe();s=s===void 0?null:s;var c=r.memoizedState;return s!==null&&ry(s,c[1])?c[0]:(r.memoizedState=[n,s],n)}function MS(n,s){var r=Oe();s=s===void 0?null:s;var c=r.memoizedState;if(s!==null&&ry(s,c[1]))return c[0];if(c=n(),Vr){Xn(!0);try{n()}finally{Xn(!1)}}return r.memoizedState=[c,s],c}function by(n,s,r){return r===void 0||(Oa&1073741824)!==0?n.memoizedState=s:(n.memoizedState=r,n=OE(),Nt.lanes|=n,Ua|=n,r)}function LS(n,s,r,c){return Yn(r,s)?r:Nl.current!==null?(n=by(n,r,c),Yn(n,s)||(Ye=!0),n):(Oa&42)===0?(Ye=!0,n.memoizedState=r):(n=OE(),Nt.lanes|=n,Ua|=n,s)}function DS(n,s,r,c,g){var y=Y.p;Y.p=y!==0&&8>y?y:8;var E=B.T,R={};B.T=R,Sy(n,!1,s,r);try{var D=g(),I=B.S;if(I!==null&&I(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=ZR(D,c);ju(n,s,$,Zn(n))}else ju(n,s,c,Zn(n))}catch(Z){ju(n,s,{then:function(){},status:"rejected",reason:Z},Zn())}finally{Y.p=y,B.T=E}}function iC(){}function vy(n,s,r,c){if(n.tag!==5)throw Error(i(476));var g=OS(n).queue;DS(n,g,s,J,r===null?iC:function(){return NS(n),r(c)})}function OS(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:J},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:r},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function NS(n){var s=OS(n).next.queue;ju(n,s,{},Zn())}function Ay(){return fn(rh)}function kS(){return Oe().memoizedState}function PS(){return Oe().memoizedState}function sC(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var r=Zn();n=La(r);var c=Da(s,n,r);c!==null&&(Jn(c,s,r),Fu(c,s,r)),s={cache:Wm()},n.payload=s;return}s=s.return}}function aC(n,s,r){var c=Zn();r={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Yf(n)?HS(s,r):(r=Bm(n,s,r,c),r!==null&&(Jn(r,n,c),zS(r,s,c)))}function FS(n,s,r){var c=Zn();ju(n,s,r,c)}function ju(n,s,r,c){var g={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yf(n))HS(s,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,R=y(E,r);if(g.hasEagerState=!0,g.eagerState=R,Yn(R,E))return Lf(n,s,g,0),oe===null&&Mf(),!1}catch{}finally{}if(r=Bm(n,s,g,c),r!==null)return Jn(r,n,c),zS(r,s,c),!0}return!1}function Sy(n,s,r,c){if(c={lane:2,revertLane:Jy(),action:c,hasEagerState:!1,eagerState:null,next:null},Yf(n)){if(s)throw Error(i(479))}else s=Bm(n,r,c,2),s!==null&&Jn(s,n,2)}function Yf(n){var s=n.alternate;return n===Nt||s!==null&&s===Nt}function HS(n,s){kl=If=!0;var r=n.pending;r===null?s.next=s:(s.next=r.next,r.next=s),n.pending=s}function zS(n,s,r){if((r&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,r|=c,s.lanes=r,X0(n,r)}}var $f={readContext:fn,use:qf,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},US={readContext:fn,use:qf,useCallback:function(n,s){return kn().memoizedState=[n,s===void 0?null:s],n},useContext:fn,useEffect:ES,useImperativeHandle:function(n,s,r){r=r!=null?r.concat([n]):null,Xf(4194308,4,xS.bind(null,s,n),r)},useLayoutEffect:function(n,s){return Xf(4194308,4,n,s)},useInsertionEffect:function(n,s){Xf(4,2,n,s)},useMemo:function(n,s){var r=kn();s=s===void 0?null:s;var c=n();if(Vr){Xn(!0);try{n()}finally{Xn(!1)}}return r.memoizedState=[c,s],c},useReducer:function(n,s,r){var c=kn();if(r!==void 0){var g=r(s);if(Vr){Xn(!0);try{r(s)}finally{Xn(!1)}}}else g=s;return c.memoizedState=c.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},c.queue=n,n=n.dispatch=aC.bind(null,Nt,n),[c.memoizedState,n]},useRef:function(n){var s=kn();return n={current:n},s.memoizedState=n},useState:function(n){n=gy(n);var s=n.queue,r=FS.bind(null,Nt,s);return s.dispatch=r,[n.memoizedState,r]},useDebugValue:yy,useDeferredValue:function(n,s){var r=kn();return by(r,n,s)},useTransition:function(){var n=gy(!1);return n=DS.bind(null,Nt,n.queue,!0,!1),kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,r){var c=Nt,g=kn();if(Gt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),oe===null)throw Error(i(349));(jt&124)!==0||rS(c,s,r)}g.memoizedState=r;var y={value:r,getSnapshot:s};return g.queue=y,ES(lS.bind(null,c,y,n),[n]),c.flags|=2048,Fl(9,Vf(),oS.bind(null,c,y,r,s),null),r},useId:function(){var n=kn(),s=oe.identifierPrefix;if(Gt){var r=Ds,c=Ls;r=(c&~(1<<32-Ve(c)-1)).toString(32)+r,s=""+s+"R"+r,r=jf++,0<r&&(s+="H"+r.toString(32)),s+=""}else r=JR++,s=""+s+"r"+r.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Ay,useFormState:yS,useActionState:yS,useOptimistic:function(n){var s=kn();s.memoizedState=s.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Sy.bind(null,Nt,!0,r),r.dispatch=s,[n,s]},useMemoCache:dy,useCacheRefresh:function(){return kn().memoizedState=sC.bind(null,Nt)}},BS={readContext:fn,use:qf,useCallback:CS,useContext:fn,useEffect:_S,useImperativeHandle:RS,useInsertionEffect:wS,useLayoutEffect:TS,useMemo:MS,useReducer:Gf,useRef:SS,useState:function(){return Gf(ks)},useDebugValue:yy,useDeferredValue:function(n,s){var r=Oe();return LS(r,te.memoizedState,n,s)},useTransition:function(){var n=Gf(ks)[0],s=Oe().memoizedState;return[typeof n=="boolean"?n:Bu(n),s]},useSyncExternalStore:aS,useId:kS,useHostTransitionStatus:Ay,useFormState:bS,useActionState:bS,useOptimistic:function(n,s){var r=Oe();return hS(r,te,n,s)},useMemoCache:dy,useCacheRefresh:PS},rC={readContext:fn,use:qf,useCallback:CS,useContext:fn,useEffect:_S,useImperativeHandle:RS,useInsertionEffect:wS,useLayoutEffect:TS,useMemo:MS,useReducer:py,useRef:SS,useState:function(){return py(ks)},useDebugValue:yy,useDeferredValue:function(n,s){var r=Oe();return te===null?by(r,n,s):LS(r,te.memoizedState,n,s)},useTransition:function(){var n=py(ks)[0],s=Oe().memoizedState;return[typeof n=="boolean"?n:Bu(n),s]},useSyncExternalStore:aS,useId:kS,useHostTransitionStatus:Ay,useFormState:AS,useActionState:AS,useOptimistic:function(n,s){var r=Oe();return te!==null?hS(r,te,n,s):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:dy,useCacheRefresh:PS},Hl=null,qu=0;function Kf(n){var s=qu;return qu+=1,Hl===null&&(Hl=[]),QA(Hl,n,s)}function Gu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Wf(n,s){throw s.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function IS(n){var s=n._init;return s(n._payload)}function jS(n){function s(H,k){if(n){var U=H.deletions;U===null?(H.deletions=[k],H.flags|=16):U.push(k)}}function r(H,k){if(!n)return null;for(;k!==null;)s(H,k),k=k.sibling;return null}function c(H){for(var k=new Map;H!==null;)H.key!==null?k.set(H.key,H):k.set(H.index,H),H=H.sibling;return k}function g(H,k){return H=Ms(H,k),H.index=0,H.sibling=null,H}function y(H,k,U){return H.index=U,n?(U=H.alternate,U!==null?(U=U.index,U<k?(H.flags|=67108866,k):U):(H.flags|=67108866,k)):(H.flags|=1048576,k)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function R(H,k,U,Q){return k===null||k.tag!==6?(k=jm(U,H.mode,Q),k.return=H,k):(k=g(k,U),k.return=H,k)}function D(H,k,U,Q){var ut=U.type;return ut===A?$(H,k,U.props.children,Q,U.key):k!==null&&(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===W&&IS(ut)===k.type)?(k=g(k,U.props),Gu(k,U),k.return=H,k):(k=Of(U.type,U.key,U.props,null,H.mode,Q),Gu(k,U),k.return=H,k)}function I(H,k,U,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=qm(U,H.mode,Q),k.return=H,k):(k=g(k,U.children||[]),k.return=H,k)}function $(H,k,U,Q,ut){return k===null||k.tag!==7?(k=Hr(U,H.mode,Q,ut),k.return=H,k):(k=g(k,U),k.return=H,k)}function Z(H,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=jm(""+k,H.mode,U),k.return=H,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case v:return U=Of(k.type,k.key,k.props,null,H.mode,U),Gu(U,k),U.return=H,U;case S:return k=qm(k,H.mode,U),k.return=H,k;case W:var Q=k._init;return k=Q(k._payload),Z(H,k,U)}if(ht(k)||gt(k))return k=Hr(k,H.mode,U,null),k.return=H,k;if(typeof k.then=="function")return Z(H,Kf(k),U);if(k.$$typeof===O)return Z(H,Ff(H,k),U);Wf(H,k)}return null}function q(H,k,U,Q){var ut=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:R(H,k,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===ut?D(H,k,U,Q):null;case S:return U.key===ut?I(H,k,U,Q):null;case W:return ut=U._init,U=ut(U._payload),q(H,k,U,Q)}if(ht(U)||gt(U))return ut!==null?null:$(H,k,U,Q,null);if(typeof U.then=="function")return q(H,k,Kf(U),Q);if(U.$$typeof===O)return q(H,k,Ff(H,U),Q);Wf(H,U)}return null}function G(H,k,U,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return H=H.get(U)||null,R(k,H,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return H=H.get(Q.key===null?U:Q.key)||null,D(k,H,Q,ut);case S:return H=H.get(Q.key===null?U:Q.key)||null,I(k,H,Q,ut);case W:var Pt=Q._init;return Q=Pt(Q._payload),G(H,k,U,Q,ut)}if(ht(Q)||gt(Q))return H=H.get(U)||null,$(k,H,Q,ut,null);if(typeof Q.then=="function")return G(H,k,U,Kf(Q),ut);if(Q.$$typeof===O)return G(H,k,U,Ff(k,Q),ut);Wf(k,Q)}return null}function St(H,k,U,Q){for(var ut=null,Pt=null,pt=k,At=k=0,Ke=null;pt!==null&&At<U.length;At++){pt.index>At?(Ke=pt,pt=null):Ke=pt.sibling;var qt=q(H,pt,U[At],Q);if(qt===null){pt===null&&(pt=Ke);break}n&&pt&&qt.alternate===null&&s(H,pt),k=y(qt,k,At),Pt===null?ut=qt:Pt.sibling=qt,Pt=qt,pt=Ke}if(At===U.length)return r(H,pt),Gt&&Ur(H,At),ut;if(pt===null){for(;At<U.length;At++)pt=Z(H,U[At],Q),pt!==null&&(k=y(pt,k,At),Pt===null?ut=pt:Pt.sibling=pt,Pt=pt);return Gt&&Ur(H,At),ut}for(pt=c(pt);At<U.length;At++)Ke=G(pt,H,At,U[At],Q),Ke!==null&&(n&&Ke.alternate!==null&&pt.delete(Ke.key===null?At:Ke.key),k=y(Ke,k,At),Pt===null?ut=Ke:Pt.sibling=Ke,Pt=Ke);return n&&pt.forEach(function($a){return s(H,$a)}),Gt&&Ur(H,At),ut}function vt(H,k,U,Q){if(U==null)throw Error(i(151));for(var ut=null,Pt=null,pt=k,At=k=0,Ke=null,qt=U.next();pt!==null&&!qt.done;At++,qt=U.next()){pt.index>At?(Ke=pt,pt=null):Ke=pt.sibling;var $a=q(H,pt,qt.value,Q);if($a===null){pt===null&&(pt=Ke);break}n&&pt&&$a.alternate===null&&s(H,pt),k=y($a,k,At),Pt===null?ut=$a:Pt.sibling=$a,Pt=$a,pt=Ke}if(qt.done)return r(H,pt),Gt&&Ur(H,At),ut;if(pt===null){for(;!qt.done;At++,qt=U.next())qt=Z(H,qt.value,Q),qt!==null&&(k=y(qt,k,At),Pt===null?ut=qt:Pt.sibling=qt,Pt=qt);return Gt&&Ur(H,At),ut}for(pt=c(pt);!qt.done;At++,qt=U.next())qt=G(pt,H,At,qt.value,Q),qt!==null&&(n&&qt.alternate!==null&&pt.delete(qt.key===null?At:qt.key),k=y(qt,k,At),Pt===null?ut=qt:Pt.sibling=qt,Pt=qt);return n&&pt.forEach(function(oM){return s(H,oM)}),Gt&&Ur(H,At),ut}function ne(H,k,U,Q){if(typeof U=="object"&&U!==null&&U.type===A&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:t:{for(var ut=U.key;k!==null;){if(k.key===ut){if(ut=U.type,ut===A){if(k.tag===7){r(H,k.sibling),Q=g(k,U.props.children),Q.return=H,H=Q;break t}}else if(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===W&&IS(ut)===k.type){r(H,k.sibling),Q=g(k,U.props),Gu(Q,U),Q.return=H,H=Q;break t}r(H,k);break}else s(H,k);k=k.sibling}U.type===A?(Q=Hr(U.props.children,H.mode,Q,U.key),Q.return=H,H=Q):(Q=Of(U.type,U.key,U.props,null,H.mode,Q),Gu(Q,U),Q.return=H,H=Q)}return E(H);case S:t:{for(ut=U.key;k!==null;){if(k.key===ut)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){r(H,k.sibling),Q=g(k,U.children||[]),Q.return=H,H=Q;break t}else{r(H,k);break}else s(H,k);k=k.sibling}Q=qm(U,H.mode,Q),Q.return=H,H=Q}return E(H);case W:return ut=U._init,U=ut(U._payload),ne(H,k,U,Q)}if(ht(U))return St(H,k,U,Q);if(gt(U)){if(ut=gt(U),typeof ut!="function")throw Error(i(150));return U=ut.call(U),vt(H,k,U,Q)}if(typeof U.then=="function")return ne(H,k,Kf(U),Q);if(U.$$typeof===O)return ne(H,k,Ff(H,U),Q);Wf(H,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(r(H,k.sibling),Q=g(k,U),Q.return=H,H=Q):(r(H,k),Q=jm(U,H.mode,Q),Q.return=H,H=Q),E(H)):r(H,k)}return function(H,k,U,Q){try{qu=0;var ut=ne(H,k,U,Q);return Hl=null,ut}catch(pt){if(pt===ku||pt===zf)throw pt;var Pt=$n(29,pt,null,H.mode);return Pt.lanes=Q,Pt.return=H,Pt}finally{}}}var zl=jS(!0),qS=jS(!1),bi=K(null),Ji=null;function Na(n){var s=n.alternate;et(He,He.current&1),et(bi,n),Ji===null&&(s===null||Nl.current!==null||s.memoizedState!==null)&&(Ji=n)}function GS(n){if(n.tag===22){if(et(He,He.current),et(bi,n),Ji===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ji=n)}}else ka()}function ka(){et(He,He.current),et(bi,bi.current)}function Ps(n){nt(bi),Ji===n&&(Ji=null),nt(He)}var He=K(0);function Qf(n){for(var s=n;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||hb(r)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ey(n,s,r,c){s=n.memoizedState,r=r(c,s),r=r==null?s:m({},s,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var _y={enqueueSetState:function(n,s,r){n=n._reactInternals;var c=Zn(),g=La(c);g.payload=s,r!=null&&(g.callback=r),s=Da(n,g,c),s!==null&&(Jn(s,n,c),Fu(s,n,c))},enqueueReplaceState:function(n,s,r){n=n._reactInternals;var c=Zn(),g=La(c);g.tag=1,g.payload=s,r!=null&&(g.callback=r),s=Da(n,g,c),s!==null&&(Jn(s,n,c),Fu(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var r=Zn(),c=La(r);c.tag=2,s!=null&&(c.callback=s),s=Da(n,c,r),s!==null&&(Jn(s,n,r),Fu(s,n,r))}};function VS(n,s,r,c,g,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,E):s.prototype&&s.prototype.isPureReactComponent?!xu(r,c)||!xu(g,y):!0}function XS(n,s,r,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,c),s.state!==n&&_y.enqueueReplaceState(s,s.state,null)}function Xr(n,s){var r=s;if("ref"in s){r={};for(var c in s)c!=="ref"&&(r[c]=s[c])}if(n=n.defaultProps){r===s&&(r=m({},r));for(var g in n)r[g]===void 0&&(r[g]=n[g])}return r}var Zf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function YS(n){Zf(n)}function $S(n){console.error(n)}function KS(n){Zf(n)}function Jf(n,s){try{var r=n.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function WS(n,s,r){try{var c=n.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function wy(n,s,r){return r=La(r),r.tag=3,r.payload={element:null},r.callback=function(){Jf(n,s)},r}function QS(n){return n=La(n),n.tag=3,n}function ZS(n,s,r,c){var g=r.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;n.payload=function(){return g(y)},n.callback=function(){WS(s,r,c)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){WS(s,r,c),typeof g!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function oC(n,s,r,c,g){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=r.alternate,s!==null&&Du(s,r,g,!0),r=bi.current,r!==null){switch(r.tag){case 13:return Ji===null?$y():r.alternate===null&&Ae===0&&(Ae=3),r.flags&=-257,r.flags|=65536,r.lanes=g,c===Jm?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([c]):s.add(c),Wy(n,c,g)),!1;case 22:return r.flags|=65536,c===Jm?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([c]):r.add(c)),Wy(n,c,g)),!1}throw Error(i(435,r.tag))}return Wy(n,c,g),$y(),!1}if(Gt)return s=bi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,c!==Xm&&(n=Error(i(422),{cause:c}),Lu(pi(n,r)))):(c!==Xm&&(s=Error(i(423),{cause:c}),Lu(pi(s,r))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,c=pi(c,r),g=wy(n.stateNode,c,g),ny(n,g),Ae!==4&&(Ae=2)),!1;var y=Error(i(520),{cause:c});if(y=pi(y,r),Qu===null?Qu=[y]:Qu.push(y),Ae!==4&&(Ae=2),s===null)return!0;c=pi(c,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,n=g&-g,r.lanes|=n,n=wy(r.stateNode,c,n),ny(r,n),!1;case 1:if(s=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ba===null||!Ba.has(y))))return r.flags|=65536,g&=-g,r.lanes|=g,g=QS(g),ZS(g,n,r,c),ny(r,g),!1}r=r.return}while(r!==null);return!1}var JS=Error(i(461)),Ye=!1;function sn(n,s,r,c){s.child=n===null?qS(s,null,r,c):zl(s,n.child,r,c)}function tE(n,s,r,c,g){r=r.render;var y=s.ref;if("ref"in c){var E={};for(var R in c)R!=="ref"&&(E[R]=c[R])}else E=c;return qr(s),c=oy(n,s,r,E,y,g),R=ly(),n!==null&&!Ye?(cy(n,s,g),Fs(n,s,g)):(Gt&&R&&Gm(s),s.flags|=1,sn(n,s,c,g),s.child)}function eE(n,s,r,c,g){if(n===null){var y=r.type;return typeof y=="function"&&!Im(y)&&y.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=y,nE(n,s,y,c,g)):(n=Of(r.type,null,c,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Oy(n,g)){var E=y.memoizedProps;if(r=r.compare,r=r!==null?r:xu,r(E,c)&&n.ref===s.ref)return Fs(n,s,g)}return s.flags|=1,n=Ms(y,c),n.ref=s.ref,n.return=s,s.child=n}function nE(n,s,r,c,g){if(n!==null){var y=n.memoizedProps;if(xu(y,c)&&n.ref===s.ref)if(Ye=!1,s.pendingProps=c=y,Oy(n,g))(n.flags&131072)!==0&&(Ye=!0);else return s.lanes=n.lanes,Fs(n,s,g)}return Ty(n,s,r,c,g)}function iE(n,s,r){var c=s.pendingProps,g=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|r:r,n!==null){for(g=s.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return sE(n,s,c,r)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Hf(s,y!==null?y.cachePool:null),y!==null?nS(s,y):sy(),GS(s);else return s.lanes=s.childLanes=536870912,sE(n,s,y!==null?y.baseLanes|r:r,r)}else y!==null?(Hf(s,y.cachePool),nS(s,y),ka(),s.memoizedState=null):(n!==null&&Hf(s,null),sy(),ka());return sn(n,s,g,r),s.child}function sE(n,s,r,c){var g=Zm();return g=g===null?null:{parent:Fe._currentValue,pool:g},s.memoizedState={baseLanes:r,cachePool:g},n!==null&&Hf(s,null),sy(),GS(s),n!==null&&Du(n,s,c,!0),null}function tp(n,s){var r=s.ref;if(r===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(n===null||n.ref!==r)&&(s.flags|=4194816)}}function Ty(n,s,r,c,g){return qr(s),r=oy(n,s,r,c,void 0,g),c=ly(),n!==null&&!Ye?(cy(n,s,g),Fs(n,s,g)):(Gt&&c&&Gm(s),s.flags|=1,sn(n,s,r,g),s.child)}function aE(n,s,r,c,g,y){return qr(s),s.updateQueue=null,r=sS(s,c,r,g),iS(n),c=ly(),n!==null&&!Ye?(cy(n,s,y),Fs(n,s,y)):(Gt&&c&&Gm(s),s.flags|=1,sn(n,s,r,y),s.child)}function rE(n,s,r,c,g){if(qr(s),s.stateNode===null){var y=Cl,E=r.contextType;typeof E=="object"&&E!==null&&(y=fn(E)),y=new r(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=_y,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},ty(s),E=r.contextType,y.context=typeof E=="object"&&E!==null?fn(E):Cl,y.state=s.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(Ey(s,r,E,c),y.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&_y.enqueueReplaceState(y,y.state,null),zu(s,c,y,g),Hu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){y=s.stateNode;var R=s.memoizedProps,D=Xr(r,R);y.props=D;var I=y.context,$=r.contextType;E=Cl,typeof $=="object"&&$!==null&&(E=fn($));var Z=r.getDerivedStateFromProps;$=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,$||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||I!==E)&&XS(s,y,c,E),Ma=!1;var q=s.memoizedState;y.state=q,zu(s,c,y,g),Hu(),I=s.memoizedState,R||q!==I||Ma?(typeof Z=="function"&&(Ey(s,r,Z,c),I=s.memoizedState),(D=Ma||VS(s,r,D,c,q,I,E))?($||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=I),y.props=c,y.state=I,y.context=E,c=D):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,ey(n,s),E=s.memoizedProps,$=Xr(r,E),y.props=$,Z=s.pendingProps,q=y.context,I=r.contextType,D=Cl,typeof I=="object"&&I!==null&&(D=fn(I)),R=r.getDerivedStateFromProps,(I=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==Z||q!==D)&&XS(s,y,c,D),Ma=!1,q=s.memoizedState,y.state=q,zu(s,c,y,g),Hu();var G=s.memoizedState;E!==Z||q!==G||Ma||n!==null&&n.dependencies!==null&&Pf(n.dependencies)?(typeof R=="function"&&(Ey(s,r,R,c),G=s.memoizedState),($=Ma||VS(s,r,$,c,q,G,D)||n!==null&&n.dependencies!==null&&Pf(n.dependencies))?(I||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,G,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,G,D)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=G),y.props=c,y.state=G,y.context=D,c=$):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),c=!1)}return y=c,tp(n,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&c?(s.child=zl(s,n.child,null,g),s.child=zl(s,null,r,g)):sn(n,s,r,g),s.memoizedState=y.state,n=s.child):n=Fs(n,s,g),n}function oE(n,s,r,c){return Mu(),s.flags|=256,sn(n,s,r,c),s.child}var xy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ry(n){return{baseLanes:n,cachePool:$A()}}function Cy(n,s,r){return n=n!==null?n.childLanes&~r:0,s&&(n|=vi),n}function lE(n,s,r){var c=s.pendingProps,g=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(He.current&2)!==0),E&&(g=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Gt){if(g?Na(s):ka(),Gt){var R=ve,D;if(D=R){t:{for(D=R,R=Zi;D.nodeType!==8;){if(!R){R=null;break t}if(D=Ni(D.nextSibling),D===null){R=null;break t}}R=D}R!==null?(s.memoizedState={dehydrated:R,treeContext:zr!==null?{id:Ls,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},D=$n(18,null,null,0),D.stateNode=R,D.return=s,s.child=D,wn=s,ve=null,D=!0):D=!1}D||Ir(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return hb(R)?s.lanes=32:s.lanes=536870912,null;Ps(s)}return R=c.children,c=c.fallback,g?(ka(),g=s.mode,R=ep({mode:"hidden",children:R},g),c=Hr(c,g,r,null),R.return=s,c.return=s,R.sibling=c,s.child=R,g=s.child,g.memoizedState=Ry(r),g.childLanes=Cy(n,E,r),s.memoizedState=xy,c):(Na(s),My(s,R))}if(D=n.memoizedState,D!==null&&(R=D.dehydrated,R!==null)){if(y)s.flags&256?(Na(s),s.flags&=-257,s=Ly(n,s,r)):s.memoizedState!==null?(ka(),s.child=n.child,s.flags|=128,s=null):(ka(),g=c.fallback,R=s.mode,c=ep({mode:"visible",children:c.children},R),g=Hr(g,R,r,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,zl(s,n.child,null,r),c=s.child,c.memoizedState=Ry(r),c.childLanes=Cy(n,E,r),s.memoizedState=xy,s=g);else if(Na(s),hb(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var I=E.dgst;E=I,c=Error(i(419)),c.stack="",c.digest=E,Lu({value:c,source:null,stack:null}),s=Ly(n,s,r)}else if(Ye||Du(n,s,r,!1),E=(r&n.childLanes)!==0,Ye||E){if(E=oe,E!==null&&(c=r&-r,c=(c&42)!==0?1:dm(c),c=(c&(E.suspendedLanes|r))!==0?0:c,c!==0&&c!==D.retryLane))throw D.retryLane=c,Rl(n,c),Jn(E,n,c),JS;R.data==="$?"||$y(),s=Ly(n,s,r)}else R.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,ve=Ni(R.nextSibling),wn=s,Gt=!0,Br=null,Zi=!1,n!==null&&(mi[yi++]=Ls,mi[yi++]=Ds,mi[yi++]=zr,Ls=n.id,Ds=n.overflow,zr=s),s=My(s,c.children),s.flags|=4096);return s}return g?(ka(),g=c.fallback,R=s.mode,D=n.child,I=D.sibling,c=Ms(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,I!==null?g=Ms(I,g):(g=Hr(g,R,r,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,R=n.child.memoizedState,R===null?R=Ry(r):(D=R.cachePool,D!==null?(I=Fe._currentValue,D=D.parent!==I?{parent:I,pool:I}:D):D=$A(),R={baseLanes:R.baseLanes|r,cachePool:D}),g.memoizedState=R,g.childLanes=Cy(n,E,r),s.memoizedState=xy,c):(Na(s),r=n.child,n=r.sibling,r=Ms(r,{mode:"visible",children:c.children}),r.return=s,r.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=r,s.memoizedState=null,r)}function My(n,s){return s=ep({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ep(n,s){return n=$n(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ly(n,s,r){return zl(s,n.child,null,r),n=My(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function cE(n,s,r){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),$m(n.return,s,r)}function Dy(n,s,r,c,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=r,y.tailMode=g)}function uE(n,s,r){var c=s.pendingProps,g=c.revealOrder,y=c.tail;if(sn(n,s,c.children,r),c=He.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cE(n,r,s);else if(n.tag===19)cE(n,r,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(et(He,c),g){case"forwards":for(r=s.child,g=null;r!==null;)n=r.alternate,n!==null&&Qf(n)===null&&(g=r),r=r.sibling;r=g,r===null?(g=s.child,s.child=null):(g=r.sibling,r.sibling=null),Dy(s,!1,g,r,y);break;case"backwards":for(r=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Qf(n)===null){s.child=g;break}n=g.sibling,g.sibling=r,r=g,g=n}Dy(s,!0,r,null,y);break;case"together":Dy(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fs(n,s,r){if(n!==null&&(s.dependencies=n.dependencies),Ua|=s.lanes,(r&s.childLanes)===0)if(n!==null){if(Du(n,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,r=Ms(n,n.pendingProps),s.child=r,r.return=s;n.sibling!==null;)n=n.sibling,r=r.sibling=Ms(n,n.pendingProps),r.return=s;r.sibling=null}return s.child}function Oy(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Pf(n)))}function lC(n,s,r){switch(s.tag){case 3:Bt(s,s.stateNode.containerInfo),Ca(s,Fe,n.memoizedState.cache),Mu();break;case 27:case 5:Jt(s);break;case 4:Bt(s,s.stateNode.containerInfo);break;case 10:Ca(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Na(s),s.flags|=128,null):(r&s.child.childLanes)!==0?lE(n,s,r):(Na(s),n=Fs(n,s,r),n!==null?n.sibling:null);Na(s);break;case 19:var g=(n.flags&128)!==0;if(c=(r&s.childLanes)!==0,c||(Du(n,s,r,!1),c=(r&s.childLanes)!==0),g){if(c)return uE(n,s,r);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),et(He,He.current),c)break;return null;case 22:case 23:return s.lanes=0,iE(n,s,r);case 24:Ca(s,Fe,n.memoizedState.cache)}return Fs(n,s,r)}function hE(n,s,r){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ye=!0;else{if(!Oy(n,r)&&(s.flags&128)===0)return Ye=!1,lC(n,s,r);Ye=(n.flags&131072)!==0}else Ye=!1,Gt&&(s.flags&1048576)!==0&&IA(s,kf,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var c=s.elementType,g=c._init;if(c=g(c._payload),s.type=c,typeof c=="function")Im(c)?(n=Xr(c,n),s.tag=1,s=rE(null,s,c,n,r)):(s.tag=0,s=Ty(null,s,c,n,r));else{if(c!=null){if(g=c.$$typeof,g===P){s.tag=11,s=tE(null,s,c,n,r);break t}else if(g===V){s.tag=14,s=eE(null,s,c,n,r);break t}}throw s=ft(c)||c,Error(i(306,s,""))}}return s;case 0:return Ty(n,s,s.type,s.pendingProps,r);case 1:return c=s.type,g=Xr(c,s.pendingProps),rE(n,s,c,g,r);case 3:t:{if(Bt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;g=y.element,ey(n,s),zu(s,c,null,r);var E=s.memoizedState;if(c=E.cache,Ca(s,Fe,c),c!==y.cache&&Km(s,[Fe],r,!0),Hu(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=oE(n,s,c,r);break t}else if(c!==g){g=pi(Error(i(424)),s),Lu(g),s=oE(n,s,c,r);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ve=Ni(n.firstChild),wn=s,Gt=!0,Br=null,Zi=!0,r=qS(s,null,c,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Mu(),c===g){s=Fs(n,s,r);break t}sn(n,s,c,r)}s=s.child}return s;case 26:return tp(n,s),n===null?(r=g_(s.type,null,s.pendingProps,null))?s.memoizedState=r:Gt||(r=s.type,n=s.pendingProps,c=gp(ct.current).createElement(r),c[dn]=s,c[On]=n,rn(c,r,n),Xe(c),s.stateNode=c):s.memoizedState=g_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Jt(s),n===null&&Gt&&(c=s.stateNode=d_(s.type,s.pendingProps,ct.current),wn=s,Zi=!0,g=ve,qa(s.type)?(db=g,ve=Ni(c.firstChild)):ve=g),sn(n,s,s.pendingProps.children,r),tp(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Gt&&((g=c=ve)&&(c=FC(c,s.type,s.pendingProps,Zi),c!==null?(s.stateNode=c,wn=s,ve=Ni(c.firstChild),Zi=!1,g=!0):g=!1),g||Ir(s)),Jt(s),g=s.type,y=s.pendingProps,E=n!==null?n.memoizedProps:null,c=y.children,lb(g,y)?c=null:E!==null&&lb(g,E)&&(s.flags|=32),s.memoizedState!==null&&(g=oy(n,s,tC,null,null,r),rh._currentValue=g),tp(n,s),sn(n,s,c,r),s.child;case 6:return n===null&&Gt&&((n=r=ve)&&(r=HC(r,s.pendingProps,Zi),r!==null?(s.stateNode=r,wn=s,ve=null,n=!0):n=!1),n||Ir(s)),null;case 13:return lE(n,s,r);case 4:return Bt(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=zl(s,null,c,r):sn(n,s,c,r),s.child;case 11:return tE(n,s,s.type,s.pendingProps,r);case 7:return sn(n,s,s.pendingProps,r),s.child;case 8:return sn(n,s,s.pendingProps.children,r),s.child;case 12:return sn(n,s,s.pendingProps.children,r),s.child;case 10:return c=s.pendingProps,Ca(s,s.type,c.value),sn(n,s,c.children,r),s.child;case 9:return g=s.type._context,c=s.pendingProps.children,qr(s),g=fn(g),c=c(g),s.flags|=1,sn(n,s,c,r),s.child;case 14:return eE(n,s,s.type,s.pendingProps,r);case 15:return nE(n,s,s.type,s.pendingProps,r);case 19:return uE(n,s,r);case 31:return c=s.pendingProps,r=s.mode,c={mode:c.mode,children:c.children},n===null?(r=ep(c,r),r.ref=s.ref,s.child=r,r.return=s,s=r):(r=Ms(n.child,c),r.ref=s.ref,s.child=r,r.return=s,s=r),s;case 22:return iE(n,s,r);case 24:return qr(s),c=fn(Fe),n===null?(g=Zm(),g===null&&(g=oe,y=Wm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=r),g=y),s.memoizedState={parent:c,cache:g},ty(s),Ca(s,Fe,g)):((n.lanes&r)!==0&&(ey(n,s),zu(s,null,null,r),Hu()),g=n.memoizedState,y=s.memoizedState,g.parent!==c?(g={parent:c,cache:c},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ca(s,Fe,c)):(c=y.cache,Ca(s,Fe,c),c!==g.cache&&Km(s,[Fe],r,!0))),sn(n,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Hs(n){n.flags|=4}function dE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!A_(s)){if(s=bi.current,s!==null&&((jt&4194048)===jt?Ji!==null:(jt&62914560)!==jt&&(jt&536870912)===0||s!==Ji))throw Pu=Jm,KA;n.flags|=8192}}function np(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?G0():536870912,n.lanes|=s,jl|=s)}function Vu(n,s){if(!Gt)switch(n.tailMode){case"hidden":s=n.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function fe(n){var s=n.alternate!==null&&n.alternate.child===n.child,r=0,c=0;if(s)for(var g=n.child;g!==null;)r|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)r|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=c,n.childLanes=r,s}function cC(n,s,r){var c=s.pendingProps;switch(Vm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(s),null;case 1:return fe(s),null;case 3:return r=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ns(Fe),Ce(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Cu(s)?Hs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,GA())),fe(s),null;case 26:return r=s.memoizedState,n===null?(Hs(s),r!==null?(fe(s),dE(s,r)):(fe(s),s.flags&=-16777217)):r?r!==n.memoizedState?(Hs(s),fe(s),dE(s,r)):(fe(s),s.flags&=-16777217):(n.memoizedProps!==c&&Hs(s),fe(s),s.flags&=-16777217),null;case 27:Qi(s),r=ct.current;var g=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Hs(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return fe(s),null}n=lt.current,Cu(s)?jA(s):(n=d_(g,c,r),s.stateNode=n,Hs(s))}return fe(s),null;case 5:if(Qi(s),r=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Hs(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return fe(s),null}if(n=lt.current,Cu(s))jA(s);else{switch(g=gp(ct.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?g.createElement(r,{is:c.is}):g.createElement(r)}}n[dn]=s,n[On]=c;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=n;t:switch(rn(n,r,c),r){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Hs(s)}}return fe(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&Hs(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=ct.current,Cu(s)){if(n=s.stateNode,r=s.memoizedProps,c=null,g=wn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}n[dn]=s,n=!!(n.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||a_(n.nodeValue,r)),n||Ir(s)}else n=gp(n).createTextNode(c),n[dn]=s,s.stateNode=n}return fe(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Cu(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[dn]=s}else Mu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fe(s),g=!1}else g=GA(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ps(s),s):(Ps(s),null)}if(Ps(s),(s.flags&128)!==0)return s.lanes=r,s;if(r=c!==null,n=n!==null&&n.memoizedState!==null,r){c=s.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return r!==n&&r&&(s.child.flags|=8192),np(s,s.updateQueue),fe(s),null;case 4:return Ce(),n===null&&ib(s.stateNode.containerInfo),fe(s),null;case 10:return Ns(s.type),fe(s),null;case 19:if(nt(He),g=s.memoizedState,g===null)return fe(s),null;if(c=(s.flags&128)!==0,y=g.rendering,y===null)if(c)Vu(g,!1);else{if(Ae!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Qf(n),y!==null){for(s.flags|=128,Vu(g,!1),n=y.updateQueue,s.updateQueue=n,np(s,n),s.subtreeFlags=0,n=r,r=s.child;r!==null;)BA(r,n),r=r.sibling;return et(He,He.current&1|2),s.child}n=n.sibling}g.tail!==null&&nn()>ap&&(s.flags|=128,c=!0,Vu(g,!1),s.lanes=4194304)}else{if(!c)if(n=Qf(y),n!==null){if(s.flags|=128,c=!0,n=n.updateQueue,s.updateQueue=n,np(s,n),Vu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Gt)return fe(s),null}else 2*nn()-g.renderingStartTime>ap&&r!==536870912&&(s.flags|=128,c=!0,Vu(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(n=g.last,n!==null?n.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=nn(),s.sibling=null,n=He.current,et(He,c?n&1|2:n&1),s):(fe(s),null);case 22:case 23:return Ps(s),ay(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(r&536870912)!==0&&(s.flags&128)===0&&(fe(s),s.subtreeFlags&6&&(s.flags|=8192)):fe(s),r=s.updateQueue,r!==null&&np(s,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==r&&(s.flags|=2048),n!==null&&nt(Gr),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Ns(Fe),fe(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function uC(n,s){switch(Vm(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ns(Fe),Ce(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Qi(s),null;case 13:if(Ps(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Mu()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return nt(He),null;case 4:return Ce(),null;case 10:return Ns(s.type),null;case 22:case 23:return Ps(s),ay(),n!==null&&nt(Gr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ns(Fe),null;case 25:return null;default:return null}}function fE(n,s){switch(Vm(s),s.tag){case 3:Ns(Fe),Ce();break;case 26:case 27:case 5:Qi(s);break;case 4:Ce();break;case 13:Ps(s);break;case 19:nt(He);break;case 10:Ns(s.type);break;case 22:case 23:Ps(s),ay(),n!==null&&nt(Gr);break;case 24:Ns(Fe)}}function Xu(n,s){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var g=c.next;r=g;do{if((r.tag&n)===n){c=void 0;var y=r.create,E=r.inst;c=y(),E.destroy=c}r=r.next}while(r!==g)}}catch(R){ae(s,s.return,R)}}function Pa(n,s,r){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&n)===n){var E=c.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,g=s;var D=r,I=R;try{I()}catch($){ae(g,D,$)}}}c=c.next}while(c!==y)}}catch($){ae(s,s.return,$)}}function pE(n){var s=n.updateQueue;if(s!==null){var r=n.stateNode;try{eS(s,r)}catch(c){ae(n,n.return,c)}}}function gE(n,s,r){r.props=Xr(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(c){ae(n,s,c)}}function Yu(n,s){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof r=="function"?n.refCleanup=r(c):r.current=c}}catch(g){ae(n,s,g)}}function ts(n,s){var r=n.ref,c=n.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(g){ae(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(g){ae(n,s,g)}else r.current=null}function mE(n){var s=n.type,r=n.memoizedProps,c=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break t;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(g){ae(n,n.return,g)}}function Ny(n,s,r){try{var c=n.stateNode;DC(c,n.type,r,s),c[On]=s}catch(g){ae(n,n.return,g)}}function yE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&qa(n.type)||n.tag===4}function ky(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||yE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&qa(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Py(n,s,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(n),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=pp));else if(c!==4&&(c===27&&qa(n.type)&&(r=n.stateNode,s=null),n=n.child,n!==null))for(Py(n,s,r),n=n.sibling;n!==null;)Py(n,s,r),n=n.sibling}function ip(n,s,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?r.insertBefore(n,s):r.appendChild(n);else if(c!==4&&(c===27&&qa(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(ip(n,s,r),n=n.sibling;n!==null;)ip(n,s,r),n=n.sibling}function bE(n){var s=n.stateNode,r=n.memoizedProps;try{for(var c=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);rn(s,c,r),s[dn]=n,s[On]=r}catch(y){ae(n,n.return,y)}}var zs=!1,we=!1,Fy=!1,vE=typeof WeakSet=="function"?WeakSet:Set,$e=null;function hC(n,s){if(n=n.containerInfo,rb=Sp,n=LA(n),km(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break t}var E=0,R=-1,D=-1,I=0,$=0,Z=n,q=null;e:for(;;){for(var G;Z!==r||g!==0&&Z.nodeType!==3||(R=E+g),Z!==y||c!==0&&Z.nodeType!==3||(D=E+c),Z.nodeType===3&&(E+=Z.nodeValue.length),(G=Z.firstChild)!==null;)q=Z,Z=G;for(;;){if(Z===n)break e;if(q===r&&++I===g&&(R=E),q===y&&++$===c&&(D=E),(G=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=G}r=R===-1||D===-1?null:{start:R,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(ob={focusedElem:n,selectionRange:r},Sp=!1,$e=s;$e!==null;)if(s=$e,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,$e=n;else for(;$e!==null;){switch(s=$e,y=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,r=s,g=y.memoizedProps,y=y.memoizedState,c=r.stateNode;try{var St=Xr(r.type,g,r.elementType===r.type);n=c.getSnapshotBeforeUpdate(St,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(vt){ae(r,r.return,vt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,r=n.nodeType,r===9)ub(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ub(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,$e=n;break}$e=s.return}}function AE(n,s,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Fa(n,r),c&4&&Xu(5,r);break;case 1:if(Fa(n,r),c&4)if(n=r.stateNode,s===null)try{n.componentDidMount()}catch(E){ae(r,r.return,E)}else{var g=Xr(r.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ae(r,r.return,E)}}c&64&&pE(r),c&512&&Yu(r,r.return);break;case 3:if(Fa(n,r),c&64&&(n=r.updateQueue,n!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{eS(n,s)}catch(E){ae(r,r.return,E)}}break;case 27:s===null&&c&4&&bE(r);case 26:case 5:Fa(n,r),s===null&&c&4&&mE(r),c&512&&Yu(r,r.return);break;case 12:Fa(n,r);break;case 13:Fa(n,r),c&4&&_E(n,r),c&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=AC.bind(null,r),zC(n,r))));break;case 22:if(c=r.memoizedState!==null||zs,!c){s=s!==null&&s.memoizedState!==null||we,g=zs;var y=we;zs=c,(we=s)&&!y?Ha(n,r,(r.subtreeFlags&8772)!==0):Fa(n,r),zs=g,we=y}break;case 30:break;default:Fa(n,r)}}function SE(n){var s=n.alternate;s!==null&&(n.alternate=null,SE(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&gm(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var he=null,Pn=!1;function Us(n,s,r){for(r=r.child;r!==null;)EE(n,s,r),r=r.sibling}function EE(n,s,r){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Dr,r)}catch{}switch(r.tag){case 26:we||ts(r,s),Us(n,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:we||ts(r,s);var c=he,g=Pn;qa(r.type)&&(he=r.stateNode,Pn=!1),Us(n,s,r),nh(r.stateNode),he=c,Pn=g;break;case 5:we||ts(r,s);case 6:if(c=he,g=Pn,he=null,Us(n,s,r),he=c,Pn=g,he!==null)if(Pn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(r.stateNode)}catch(y){ae(r,s,y)}else try{he.removeChild(r.stateNode)}catch(y){ae(r,s,y)}break;case 18:he!==null&&(Pn?(n=he,u_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),uh(n)):u_(he,r.stateNode));break;case 4:c=he,g=Pn,he=r.stateNode.containerInfo,Pn=!0,Us(n,s,r),he=c,Pn=g;break;case 0:case 11:case 14:case 15:we||Pa(2,r,s),we||Pa(4,r,s),Us(n,s,r);break;case 1:we||(ts(r,s),c=r.stateNode,typeof c.componentWillUnmount=="function"&&gE(r,s,c)),Us(n,s,r);break;case 21:Us(n,s,r);break;case 22:we=(c=we)||r.memoizedState!==null,Us(n,s,r),we=c;break;default:Us(n,s,r)}}function _E(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{uh(n)}catch(r){ae(s,s.return,r)}}function dC(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new vE),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new vE),s;default:throw Error(i(435,n.tag))}}function Hy(n,s){var r=dC(n);s.forEach(function(c){var g=SC.bind(null,n,c);r.has(c)||(r.add(c),c.then(g,g))})}function Kn(n,s){var r=s.deletions;if(r!==null)for(var c=0;c<r.length;c++){var g=r[c],y=n,E=s,R=E;t:for(;R!==null;){switch(R.tag){case 27:if(qa(R.type)){he=R.stateNode,Pn=!1;break t}break;case 5:he=R.stateNode,Pn=!1;break t;case 3:case 4:he=R.stateNode.containerInfo,Pn=!0;break t}R=R.return}if(he===null)throw Error(i(160));EE(y,E,g),he=null,Pn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)wE(s,n),s=s.sibling}var Oi=null;function wE(n,s){var r=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kn(s,n),Wn(n),c&4&&(Pa(3,n,n.return),Xu(3,n),Pa(5,n,n.return));break;case 1:Kn(s,n),Wn(n),c&512&&(we||r===null||ts(r,r.return)),c&64&&zs&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var g=Oi;if(Kn(s,n),Wn(n),c&512&&(we||r===null||ts(r,r.return)),c&4){var y=r!==null?r.memoizedState:null;if(c=n.memoizedState,r===null)if(c===null)if(n.stateNode===null){t:{c=n.type,r=n.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[yu]||y[dn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),rn(y,c,r),y[dn]=n,Xe(y),c=y;break t;case"link":var E=b_("link","href",g).get(c+(r.href||""));if(E){for(var R=0;R<E.length;R++)if(y=E[R],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(R,1);break e}}y=g.createElement(c),rn(y,c,r),g.head.appendChild(y);break;case"meta":if(E=b_("meta","content",g).get(c+(r.content||""))){for(R=0;R<E.length;R++)if(y=E[R],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(R,1);break e}}y=g.createElement(c),rn(y,c,r),g.head.appendChild(y);break;default:throw Error(i(468,c))}y[dn]=n,Xe(y),c=y}n.stateNode=c}else v_(g,n.type,n.stateNode);else n.stateNode=y_(g,c,n.memoizedProps);else y!==c?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,c===null?v_(g,n.type,n.stateNode):y_(g,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Ny(n,n.memoizedProps,r.memoizedProps)}break;case 27:Kn(s,n),Wn(n),c&512&&(we||r===null||ts(r,r.return)),r!==null&&c&4&&Ny(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Kn(s,n),Wn(n),c&512&&(we||r===null||ts(r,r.return)),n.flags&32){g=n.stateNode;try{Al(g,"")}catch(G){ae(n,n.return,G)}}c&4&&n.stateNode!=null&&(g=n.memoizedProps,Ny(n,g,r!==null?r.memoizedProps:g)),c&1024&&(Fy=!0);break;case 6:if(Kn(s,n),Wn(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,r=n.stateNode;try{r.nodeValue=c}catch(G){ae(n,n.return,G)}}break;case 3:if(bp=null,g=Oi,Oi=mp(s.containerInfo),Kn(s,n),Oi=g,Wn(n),c&4&&r!==null&&r.memoizedState.isDehydrated)try{uh(s.containerInfo)}catch(G){ae(n,n.return,G)}Fy&&(Fy=!1,TE(n));break;case 4:c=Oi,Oi=mp(n.stateNode.containerInfo),Kn(s,n),Wn(n),Oi=c;break;case 12:Kn(s,n),Wn(n);break;case 13:Kn(s,n),Wn(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qy=nn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Hy(n,c)));break;case 22:g=n.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,I=zs,$=we;if(zs=I||g,we=$||D,Kn(s,n),we=$,zs=I,Wn(n),c&8192)t:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(r===null||D||zs||we||Yr(n)),r=null,s=n;;){if(s.tag===5||s.tag===26){if(r===null){D=r=s;try{if(y=D.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=D.stateNode;var Z=D.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;R.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){ae(D,D.return,G)}}}else if(s.tag===6){if(r===null){D=s;try{D.stateNode.nodeValue=g?"":D.memoizedProps}catch(G){ae(D,D.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Hy(n,r))));break;case 19:Kn(s,n),Wn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Hy(n,c)));break;case 30:break;case 21:break;default:Kn(s,n),Wn(n)}}function Wn(n){var s=n.flags;if(s&2){try{for(var r,c=n.return;c!==null;){if(yE(c)){r=c;break}c=c.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var g=r.stateNode,y=ky(n);ip(n,y,g);break;case 5:var E=r.stateNode;r.flags&32&&(Al(E,""),r.flags&=-33);var R=ky(n);ip(n,R,E);break;case 3:case 4:var D=r.stateNode.containerInfo,I=ky(n);Py(n,I,D);break;default:throw Error(i(161))}}catch($){ae(n,n.return,$)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function TE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;TE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Fa(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)AE(n,s.alternate,s),s=s.sibling}function Yr(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Pa(4,s,s.return),Yr(s);break;case 1:ts(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&gE(s,s.return,r),Yr(s);break;case 27:nh(s.stateNode);case 26:case 5:ts(s,s.return),Yr(s);break;case 22:s.memoizedState===null&&Yr(s);break;case 30:Yr(s);break;default:Yr(s)}n=n.sibling}}function Ha(n,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,g=n,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(g,y,r),Xu(4,y);break;case 1:if(Ha(g,y,r),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(I){ae(c,c.return,I)}if(c=y,g=c.updateQueue,g!==null){var R=c.stateNode;try{var D=g.shared.hiddenCallbacks;if(D!==null)for(g.shared.hiddenCallbacks=null,g=0;g<D.length;g++)tS(D[g],R)}catch(I){ae(c,c.return,I)}}r&&E&64&&pE(y),Yu(y,y.return);break;case 27:bE(y);case 26:case 5:Ha(g,y,r),r&&c===null&&E&4&&mE(y),Yu(y,y.return);break;case 12:Ha(g,y,r);break;case 13:Ha(g,y,r),r&&E&4&&_E(g,y);break;case 22:y.memoizedState===null&&Ha(g,y,r),Yu(y,y.return);break;case 30:break;default:Ha(g,y,r)}s=s.sibling}}function zy(n,s){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Ou(r))}function Uy(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ou(n))}function es(n,s,r,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xE(n,s,r,c),s=s.sibling}function xE(n,s,r,c){var g=s.flags;switch(s.tag){case 0:case 11:case 15:es(n,s,r,c),g&2048&&Xu(9,s);break;case 1:es(n,s,r,c);break;case 3:es(n,s,r,c),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ou(n)));break;case 12:if(g&2048){es(n,s,r,c),n=s.stateNode;try{var y=s.memoizedProps,E=y.id,R=y.onPostCommit;typeof R=="function"&&R(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){ae(s,s.return,D)}}else es(n,s,r,c);break;case 13:es(n,s,r,c);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?es(n,s,r,c):$u(n,s):y._visibility&2?es(n,s,r,c):(y._visibility|=2,Ul(n,s,r,c,(s.subtreeFlags&10256)!==0)),g&2048&&zy(E,s);break;case 24:es(n,s,r,c),g&2048&&Uy(s.alternate,s);break;default:es(n,s,r,c)}}function Ul(n,s,r,c,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=n,E=s,R=r,D=c,I=E.flags;switch(E.tag){case 0:case 11:case 15:Ul(y,E,R,D,g),Xu(8,E);break;case 23:break;case 22:var $=E.stateNode;E.memoizedState!==null?$._visibility&2?Ul(y,E,R,D,g):$u(y,E):($._visibility|=2,Ul(y,E,R,D,g)),g&&I&2048&&zy(E.alternate,E);break;case 24:Ul(y,E,R,D,g),g&&I&2048&&Uy(E.alternate,E);break;default:Ul(y,E,R,D,g)}s=s.sibling}}function $u(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=n,c=s,g=c.flags;switch(c.tag){case 22:$u(r,c),g&2048&&zy(c.alternate,c);break;case 24:$u(r,c),g&2048&&Uy(c.alternate,c);break;default:$u(r,c)}s=s.sibling}}var Ku=8192;function Bl(n){if(n.subtreeFlags&Ku)for(n=n.child;n!==null;)RE(n),n=n.sibling}function RE(n){switch(n.tag){case 26:Bl(n),n.flags&Ku&&n.memoizedState!==null&&QC(Oi,n.memoizedState,n.memoizedProps);break;case 5:Bl(n);break;case 3:case 4:var s=Oi;Oi=mp(n.stateNode.containerInfo),Bl(n),Oi=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ku,Ku=16777216,Bl(n),Ku=s):Bl(n));break;default:Bl(n)}}function CE(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Wu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];$e=c,LE(c,n)}CE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ME(n),n=n.sibling}function ME(n){switch(n.tag){case 0:case 11:case 15:Wu(n),n.flags&2048&&Pa(9,n,n.return);break;case 3:Wu(n);break;case 12:Wu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,sp(n)):Wu(n);break;default:Wu(n)}}function sp(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];$e=c,LE(c,n)}CE(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Pa(8,s,s.return),sp(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,sp(s));break;default:sp(s)}n=n.sibling}}function LE(n,s){for(;$e!==null;){var r=$e;switch(r.tag){case 0:case 11:case 15:Pa(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ou(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,$e=c;else t:for(r=n;$e!==null;){c=$e;var g=c.sibling,y=c.return;if(SE(c),c===r){$e=null;break t}if(g!==null){g.return=y,$e=g;break t}$e=y}}}var fC={getCacheForType:function(n){var s=fn(Fe),r=s.data.get(n);return r===void 0&&(r=n(),s.data.set(n,r)),r}},pC=typeof WeakMap=="function"?WeakMap:Map,$t=0,oe=null,Ht=null,jt=0,Kt=0,Qn=null,za=!1,Il=!1,By=!1,Bs=0,Ae=0,Ua=0,$r=0,Iy=0,vi=0,jl=0,Qu=null,Fn=null,jy=!1,qy=0,ap=1/0,rp=null,Ba=null,an=0,Ia=null,ql=null,Gl=0,Gy=0,Vy=null,DE=null,Zu=0,Xy=null;function Zn(){if(($t&2)!==0&&jt!==0)return jt&-jt;if(B.T!==null){var n=Dl;return n!==0?n:Jy()}return Y0()}function OE(){vi===0&&(vi=(jt&536870912)===0||Gt?q0():536870912);var n=bi.current;return n!==null&&(n.flags|=32),vi}function Jn(n,s,r){(n===oe&&(Kt===2||Kt===9)||n.cancelPendingCommit!==null)&&(Vl(n,0),ja(n,jt,vi,!1)),mu(n,r),(($t&2)===0||n!==oe)&&(n===oe&&(($t&2)===0&&($r|=r),Ae===4&&ja(n,jt,vi,!1)),ns(n))}function NE(n,s,r){if(($t&6)!==0)throw Error(i(327));var c=!r&&(s&124)===0&&(s&n.expiredLanes)===0||gu(n,s),g=c?yC(n,s):Ky(n,s,!0),y=c;do{if(g===0){Il&&!c&&ja(n,s,0,!1);break}else{if(r=n.current.alternate,y&&!gC(r)){g=Ky(n,s,!1),y=!1;continue}if(g===2){if(y=s,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var R=n;g=Qu;var D=R.current.memoizedState.isDehydrated;if(D&&(Vl(R,E).flags|=256),E=Ky(R,E,!1),E!==2){if(By&&!D){R.errorRecoveryDisabledLanes|=y,$r|=y,g=4;break t}y=Fn,Fn=g,y!==null&&(Fn===null?Fn=y:Fn.push.apply(Fn,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){Vl(n,0),ja(n,s,0,!0);break}t:{switch(c=n,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ja(c,s,vi,!za);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=qy+300-nn(),10<g)){if(ja(c,s,vi,!za),yf(c,0,!0)!==0)break t;c.timeoutHandle=l_(kE.bind(null,c,r,Fn,rp,jy,s,vi,$r,jl,za,y,2,-0,0),g);break t}kE(c,r,Fn,rp,jy,s,vi,$r,jl,za,y,0,-0,0)}}break}while(!0);ns(n)}function kE(n,s,r,c,g,y,E,R,D,I,$,Z,q,G){if(n.timeoutHandle=-1,Z=s.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ah={stylesheets:null,count:0,unsuspend:WC},RE(s),Z=ZC(),Z!==null)){n.cancelPendingCommit=Z(IE.bind(null,n,s,y,r,c,g,E,R,D,$,1,q,G)),ja(n,y,E,!I);return}IE(n,s,y,r,c,g,E,R,D)}function gC(n){for(var s=n;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var g=r[c],y=g.getSnapshot;g=g.value;try{if(!Yn(y(),g))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ja(n,s,r,c){s&=~Iy,s&=~$r,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var g=s;0<g;){var y=31-Ve(g),E=1<<y;c[y]=-1,g&=~E}r!==0&&V0(n,r,s)}function op(){return($t&6)===0?(Ju(0),!1):!0}function Yy(){if(Ht!==null){if(Kt===0)var n=Ht.return;else n=Ht,Os=jr=null,uy(n),Hl=null,qu=0,n=Ht;for(;n!==null;)fE(n.alternate,n),n=n.return;Ht=null}}function Vl(n,s){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,NC(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Yy(),oe=n,Ht=r=Ms(n.current,null),jt=s,Kt=0,Qn=null,za=!1,Il=gu(n,s),By=!1,jl=vi=Iy=$r=Ua=Ae=0,Fn=Qu=null,jy=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var g=31-Ve(c),y=1<<g;s|=n[g],c&=~y}return Bs=s,Mf(),r}function PE(n,s){Nt=null,B.H=$f,s===ku||s===zf?(s=ZA(),Kt=3):s===KA?(s=ZA(),Kt=4):Kt=s===JS?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,Ht===null&&(Ae=1,Jf(n,pi(s,n.current)))}function FE(){var n=B.H;return B.H=$f,n===null?$f:n}function HE(){var n=B.A;return B.A=fC,n}function $y(){Ae=4,za||(jt&4194048)!==jt&&bi.current!==null||(Il=!0),(Ua&134217727)===0&&($r&134217727)===0||oe===null||ja(oe,jt,vi,!1)}function Ky(n,s,r){var c=$t;$t|=2;var g=FE(),y=HE();(oe!==n||jt!==s)&&(rp=null,Vl(n,s)),s=!1;var E=Ae;t:do try{if(Kt!==0&&Ht!==null){var R=Ht,D=Qn;switch(Kt){case 8:Yy(),E=6;break t;case 3:case 2:case 9:case 6:bi.current===null&&(s=!0);var I=Kt;if(Kt=0,Qn=null,Xl(n,R,D,I),r&&Il){E=0;break t}break;default:I=Kt,Kt=0,Qn=null,Xl(n,R,D,I)}}mC(),E=Ae;break}catch($){PE(n,$)}while(!0);return s&&n.shellSuspendCounter++,Os=jr=null,$t=c,B.H=g,B.A=y,Ht===null&&(oe=null,jt=0,Mf()),E}function mC(){for(;Ht!==null;)zE(Ht)}function yC(n,s){var r=$t;$t|=2;var c=FE(),g=HE();oe!==n||jt!==s?(rp=null,ap=nn()+500,Vl(n,s)):Il=gu(n,s);t:do try{if(Kt!==0&&Ht!==null){s=Ht;var y=Qn;e:switch(Kt){case 1:Kt=0,Qn=null,Xl(n,s,y,1);break;case 2:case 9:if(WA(y)){Kt=0,Qn=null,UE(s);break}s=function(){Kt!==2&&Kt!==9||oe!==n||(Kt=7),ns(n)},y.then(s,s);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:WA(y)?(Kt=0,Qn=null,UE(s)):(Kt=0,Qn=null,Xl(n,s,y,7));break;case 5:var E=null;switch(Ht.tag){case 26:E=Ht.memoizedState;case 5:case 27:var R=Ht;if(!E||A_(E)){Kt=0,Qn=null;var D=R.sibling;if(D!==null)Ht=D;else{var I=R.return;I!==null?(Ht=I,lp(I)):Ht=null}break e}}Kt=0,Qn=null,Xl(n,s,y,5);break;case 6:Kt=0,Qn=null,Xl(n,s,y,6);break;case 8:Yy(),Ae=6;break t;default:throw Error(i(462))}}bC();break}catch($){PE(n,$)}while(!0);return Os=jr=null,B.H=c,B.A=g,$t=r,Ht!==null?0:(oe=null,jt=0,Mf(),Ae)}function bC(){for(;Ht!==null&&!Ge();)zE(Ht)}function zE(n){var s=hE(n.alternate,n,Bs);n.memoizedProps=n.pendingProps,s===null?lp(n):Ht=s}function UE(n){var s=n,r=s.alternate;switch(s.tag){case 15:case 0:s=aE(r,s,s.pendingProps,s.type,void 0,jt);break;case 11:s=aE(r,s,s.pendingProps,s.type.render,s.ref,jt);break;case 5:uy(s);default:fE(r,s),s=Ht=BA(s,Bs),s=hE(r,s,Bs)}n.memoizedProps=n.pendingProps,s===null?lp(n):Ht=s}function Xl(n,s,r,c){Os=jr=null,uy(s),Hl=null,qu=0;var g=s.return;try{if(oC(n,g,s,r,jt)){Ae=1,Jf(n,pi(r,n.current)),Ht=null;return}}catch(y){if(g!==null)throw Ht=g,y;Ae=1,Jf(n,pi(r,n.current)),Ht=null;return}s.flags&32768?(Gt||c===1?n=!0:Il||(jt&536870912)!==0?n=!1:(za=n=!0,(c===2||c===9||c===3||c===6)&&(c=bi.current,c!==null&&c.tag===13&&(c.flags|=16384))),BE(s,n)):lp(s)}function lp(n){var s=n;do{if((s.flags&32768)!==0){BE(s,za);return}n=s.return;var r=cC(s.alternate,s,Bs);if(r!==null){Ht=r;return}if(s=s.sibling,s!==null){Ht=s;return}Ht=s=n}while(s!==null);Ae===0&&(Ae=5)}function BE(n,s){do{var r=uC(n.alternate,n);if(r!==null){r.flags&=32767,Ht=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(n=n.sibling,n!==null)){Ht=n;return}Ht=n=r}while(n!==null);Ae=6,Ht=null}function IE(n,s,r,c,g,y,E,R,D){n.cancelPendingCommit=null;do cp();while(an!==0);if(($t&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Um,Wx(n,r,y,E,R,D),n===oe&&(Ht=oe=null,jt=0),ql=s,Ia=n,Gl=r,Gy=y,Vy=g,DE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,EC(xs,function(){return XE(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,g=Y.p,Y.p=2,E=$t,$t|=4;try{hC(n,s,r)}finally{$t=E,Y.p=g,B.T=c}}an=1,jE(),qE(),GE()}}function jE(){if(an===1){an=0;var n=Ia,s=ql,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var c=Y.p;Y.p=2;var g=$t;$t|=4;try{wE(s,n);var y=ob,E=LA(n.containerInfo),R=y.focusedElem,D=y.selectionRange;if(E!==R&&R&&R.ownerDocument&&MA(R.ownerDocument.documentElement,R)){if(D!==null&&km(R)){var I=D.start,$=D.end;if($===void 0&&($=I),"selectionStart"in R)R.selectionStart=I,R.selectionEnd=Math.min($,R.value.length);else{var Z=R.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var G=q.getSelection(),St=R.textContent.length,vt=Math.min(D.start,St),ne=D.end===void 0?vt:Math.min(D.end,St);!G.extend&&vt>ne&&(E=ne,ne=vt,vt=E);var H=CA(R,vt),k=CA(R,ne);if(H&&k&&(G.rangeCount!==1||G.anchorNode!==H.node||G.anchorOffset!==H.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var U=Z.createRange();U.setStart(H.node,H.offset),G.removeAllRanges(),vt>ne?(G.addRange(U),G.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),G.addRange(U))}}}}for(Z=[],G=R;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Z.length;R++){var Q=Z[R];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sp=!!rb,ob=rb=null}finally{$t=g,Y.p=c,B.T=r}}n.current=s,an=2}}function qE(){if(an===2){an=0;var n=Ia,s=ql,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var c=Y.p;Y.p=2;var g=$t;$t|=4;try{AE(n,s.alternate,s)}finally{$t=g,Y.p=c,B.T=r}}an=3}}function GE(){if(an===4||an===3){an=0,Me();var n=Ia,s=ql,r=Gl,c=DE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,ql=Ia=null,VE(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ba=null),fm(r),s=s.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Dr,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=B.T,g=Y.p,Y.p=2,B.T=null;try{for(var y=n.onRecoverableError,E=0;E<c.length;E++){var R=c[E];y(R.value,{componentStack:R.stack})}}finally{B.T=s,Y.p=g}}(Gl&3)!==0&&cp(),ns(n),g=n.pendingLanes,(r&4194090)!==0&&(g&42)!==0?n===Xy?Zu++:(Zu=0,Xy=n):Zu=0,Ju(0)}}function VE(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ou(s)))}function cp(n){return jE(),qE(),GE(),XE()}function XE(){if(an!==5)return!1;var n=Ia,s=Gy;Gy=0;var r=fm(Gl),c=B.T,g=Y.p;try{Y.p=32>r?32:r,B.T=null,r=Vy,Vy=null;var y=Ia,E=Gl;if(an=0,ql=Ia=null,Gl=0,($t&6)!==0)throw Error(i(331));var R=$t;if($t|=4,ME(y.current),xE(y,y.current,E,r),$t=R,Ju(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Dr,y)}catch{}return!0}finally{Y.p=g,B.T=c,VE(n,s)}}function YE(n,s,r){s=pi(r,s),s=wy(n.stateNode,s,2),n=Da(n,s,2),n!==null&&(mu(n,2),ns(n))}function ae(n,s,r){if(n.tag===3)YE(n,n,r);else for(;s!==null;){if(s.tag===3){YE(s,n,r);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ba===null||!Ba.has(c))){n=pi(r,n),r=QS(2),c=Da(s,r,2),c!==null&&(ZS(r,c,s,n),mu(c,2),ns(c));break}}s=s.return}}function Wy(n,s,r){var c=n.pingCache;if(c===null){c=n.pingCache=new pC;var g=new Set;c.set(s,g)}else g=c.get(s),g===void 0&&(g=new Set,c.set(s,g));g.has(r)||(By=!0,g.add(r),n=vC.bind(null,n,s,r),s.then(n,n))}function vC(n,s,r){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,oe===n&&(jt&r)===r&&(Ae===4||Ae===3&&(jt&62914560)===jt&&300>nn()-qy?($t&2)===0&&Vl(n,0):Iy|=r,jl===jt&&(jl=0)),ns(n)}function $E(n,s){s===0&&(s=G0()),n=Rl(n,s),n!==null&&(mu(n,s),ns(n))}function AC(n){var s=n.memoizedState,r=0;s!==null&&(r=s.retryLane),$E(n,r)}function SC(n,s){var r=0;switch(n.tag){case 13:var c=n.stateNode,g=n.memoizedState;g!==null&&(r=g.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),$E(n,r)}function EC(n,s){return Xt(n,s)}var up=null,Yl=null,Qy=!1,hp=!1,Zy=!1,Kr=0;function ns(n){n!==Yl&&n.next===null&&(Yl===null?up=Yl=n:Yl=Yl.next=n),hp=!0,Qy||(Qy=!0,wC())}function Ju(n,s){if(!Zy&&hp){Zy=!0;do for(var r=!1,c=up;c!==null;){if(n!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var E=c.suspendedLanes,R=c.pingedLanes;y=(1<<31-Ve(42|n)+1)-1,y&=g&~(E&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,ZE(c,y))}else y=jt,y=yf(c,c===oe?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||gu(c,y)||(r=!0,ZE(c,y));c=c.next}while(r);Zy=!1}}function _C(){KE()}function KE(){hp=Qy=!1;var n=0;Kr!==0&&(OC()&&(n=Kr),Kr=0);for(var s=nn(),r=null,c=up;c!==null;){var g=c.next,y=WE(c,s);y===0?(c.next=null,r===null?up=g:r.next=g,g===null&&(Yl=r)):(r=c,(n!==0||(y&3)!==0)&&(hp=!0)),c=g}Ju(n)}function WE(n,s){for(var r=n.suspendedLanes,c=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-Ve(y),R=1<<E,D=g[E];D===-1?((R&r)===0||(R&c)!==0)&&(g[E]=Kx(R,s)):D<=s&&(n.expiredLanes|=R),y&=~R}if(s=oe,r=jt,r=yf(n,n===s?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,r===0||n===s&&(Kt===2||Kt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ue(c),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||gu(n,r)){if(s=r&-r,s===n.callbackPriority)return s;switch(c!==null&&ue(c),fm(r)){case 2:case 8:r=ff;break;case 32:r=xs;break;case 268435456:r=pf;break;default:r=xs}return c=QE.bind(null,n),r=Xt(r,c),n.callbackPriority=s,n.callbackNode=r,s}return c!==null&&c!==null&&ue(c),n.callbackPriority=2,n.callbackNode=null,2}function QE(n,s){if(an!==0&&an!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(cp()&&n.callbackNode!==r)return null;var c=jt;return c=yf(n,n===oe?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(NE(n,c,s),WE(n,nn()),n.callbackNode!=null&&n.callbackNode===r?QE.bind(null,n):null)}function ZE(n,s){if(cp())return null;NE(n,s,!0)}function wC(){kC(function(){($t&6)!==0?Xt(df,_C):KE()})}function Jy(){return Kr===0&&(Kr=q0()),Kr}function JE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ef(""+n)}function t_(n,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,n.id&&r.setAttribute("form",n.id),s.parentNode.insertBefore(r,s),n=new FormData(n),r.parentNode.removeChild(r),n}function TC(n,s,r,c,g){if(s==="submit"&&r&&r.stateNode===g){var y=JE((g[On]||null).action),E=c.submitter;E&&(s=(s=E[On]||null)?JE(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var R=new xf("action","action",null,c,g);n.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Kr!==0){var D=E?t_(g,E):new FormData(g);vy(r,{pending:!0,data:D,method:g.method,action:y},null,D)}}else typeof y=="function"&&(R.preventDefault(),D=E?t_(g,E):new FormData(g),vy(r,{pending:!0,data:D,method:g.method,action:y},y,D))},currentTarget:g}]})}}for(var tb=0;tb<zm.length;tb++){var eb=zm[tb],xC=eb.toLowerCase(),RC=eb[0].toUpperCase()+eb.slice(1);Di(xC,"on"+RC)}Di(NA,"onAnimationEnd"),Di(kA,"onAnimationIteration"),Di(PA,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(GR,"onTransitionRun"),Di(VR,"onTransitionStart"),Di(XR,"onTransitionCancel"),Di(FA,"onTransitionEnd"),yl("onMouseEnter",["mouseout","mouseover"]),yl("onMouseLeave",["mouseout","mouseover"]),yl("onPointerEnter",["pointerout","pointerover"]),yl("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(th));function e_(n,s){s=(s&4)!==0;for(var r=0;r<n.length;r++){var c=n[r],g=c.event;c=c.listeners;t:{var y=void 0;if(s)for(var E=c.length-1;0<=E;E--){var R=c[E],D=R.instance,I=R.currentTarget;if(R=R.listener,D!==y&&g.isPropagationStopped())break t;y=R,g.currentTarget=I;try{y(g)}catch($){Zf($)}g.currentTarget=null,y=D}else for(E=0;E<c.length;E++){if(R=c[E],D=R.instance,I=R.currentTarget,R=R.listener,D!==y&&g.isPropagationStopped())break t;y=R,g.currentTarget=I;try{y(g)}catch($){Zf($)}g.currentTarget=null,y=D}}}}function zt(n,s){var r=s[pm];r===void 0&&(r=s[pm]=new Set);var c=n+"__bubble";r.has(c)||(n_(s,n,2,!1),r.add(c))}function nb(n,s,r){var c=0;s&&(c|=4),n_(r,n,c,s)}var dp="_reactListening"+Math.random().toString(36).slice(2);function ib(n){if(!n[dp]){n[dp]=!0,K0.forEach(function(r){r!=="selectionchange"&&(CC.has(r)||nb(r,!1,n),nb(r,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[dp]||(s[dp]=!0,nb("selectionchange",!1,s))}}function n_(n,s,r,c){switch(x_(s)){case 2:var g=eM;break;case 8:g=nM;break;default:g=yb}r=g.bind(null,s,r,n),g=void 0,!Tm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),c?g!==void 0?n.addEventListener(s,r,{capture:!0,passive:g}):n.addEventListener(s,r,!0):g!==void 0?n.addEventListener(s,r,{passive:g}):n.addEventListener(s,r,!1)}function sb(n,s,r,c,g){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var R=c.stateNode.containerInfo;if(R===g)break;if(E===4)for(E=c.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;R!==null;){if(E=pl(R),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){c=y=E;continue t}R=R.parentNode}}c=c.return}cA(function(){var I=y,$=_m(r),Z=[];t:{var q=HA.get(n);if(q!==void 0){var G=xf,St=n;switch(n){case"keypress":if(wf(r)===0)break t;case"keydown":case"keyup":G=ER;break;case"focusin":St="focus",G=Mm;break;case"focusout":St="blur",G=Mm;break;case"beforeblur":case"afterblur":G=Mm;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=dA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=uR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=TR;break;case NA:case kA:case PA:G=fR;break;case FA:G=RR;break;case"scroll":case"scrollend":G=lR;break;case"wheel":G=MR;break;case"copy":case"cut":case"paste":G=gR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=pA;break;case"toggle":case"beforetoggle":G=DR}var vt=(s&4)!==0,ne=!vt&&(n==="scroll"||n==="scrollend"),H=vt?q!==null?q+"Capture":null:q;vt=[];for(var k=I,U;k!==null;){var Q=k;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||H===null||(Q=vu(k,H),Q!=null&&vt.push(eh(k,Q,U))),ne)break;k=k.return}0<vt.length&&(q=new G(q,St,null,r,$),Z.push({event:q,listeners:vt}))}}if((s&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",q&&r!==Em&&(St=r.relatedTarget||r.fromElement)&&(pl(St)||St[fl]))break t;if((G||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,G?(St=r.relatedTarget||r.toElement,G=I,St=St?pl(St):null,St!==null&&(ne=o(St),vt=St.tag,St!==ne||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(G=null,St=I),G!==St)){if(vt=dA,Q="onMouseLeave",H="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(vt=pA,Q="onPointerLeave",H="onPointerEnter",k="pointer"),ne=G==null?q:bu(G),U=St==null?q:bu(St),q=new vt(Q,k+"leave",G,r,$),q.target=ne,q.relatedTarget=U,Q=null,pl($)===I&&(vt=new vt(H,k+"enter",St,r,$),vt.target=U,vt.relatedTarget=ne,Q=vt),ne=Q,G&&St)e:{for(vt=G,H=St,k=0,U=vt;U;U=$l(U))k++;for(U=0,Q=H;Q;Q=$l(Q))U++;for(;0<k-U;)vt=$l(vt),k--;for(;0<U-k;)H=$l(H),U--;for(;k--;){if(vt===H||H!==null&&vt===H.alternate)break e;vt=$l(vt),H=$l(H)}vt=null}else vt=null;G!==null&&i_(Z,q,G,vt,!1),St!==null&&ne!==null&&i_(Z,ne,St,vt,!0)}}t:{if(q=I?bu(I):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ut=EA;else if(AA(q))if(_A)ut=IR;else{ut=UR;var Pt=zR}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?I&&Sm(I.elementType)&&(ut=EA):ut=BR;if(ut&&(ut=ut(n,I))){SA(Z,ut,r,$);break t}Pt&&Pt(n,q,I),n==="focusout"&&I&&q.type==="number"&&I.memoizedProps.value!=null&&Am(q,"number",q.value)}switch(Pt=I?bu(I):window,n){case"focusin":(AA(Pt)||Pt.contentEditable==="true")&&(wl=Pt,Pm=I,Ru=null);break;case"focusout":Ru=Pm=wl=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,DA(Z,r,$);break;case"selectionchange":if(qR)break;case"keydown":case"keyup":DA(Z,r,$)}var pt;if(Dm)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else _l?bA(n,r)&&(At="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(At="onCompositionStart");At&&(gA&&r.locale!=="ko"&&(_l||At!=="onCompositionStart"?At==="onCompositionEnd"&&_l&&(pt=uA()):(Ra=$,xm="value"in Ra?Ra.value:Ra.textContent,_l=!0)),Pt=fp(I,At),0<Pt.length&&(At=new fA(At,n,null,r,$),Z.push({event:At,listeners:Pt}),pt?At.data=pt:(pt=vA(r),pt!==null&&(At.data=pt)))),(pt=NR?kR(n,r):PR(n,r))&&(At=fp(I,"onBeforeInput"),0<At.length&&(Pt=new fA("onBeforeInput","beforeinput",null,r,$),Z.push({event:Pt,listeners:At}),Pt.data=pt)),TC(Z,n,I,r,$)}e_(Z,s)})}function eh(n,s,r){return{instance:n,listener:s,currentTarget:r}}function fp(n,s){for(var r=s+"Capture",c=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=vu(n,r),g!=null&&c.unshift(eh(n,g,y)),g=vu(n,s),g!=null&&c.push(eh(n,g,y))),n.tag===3)return c;n=n.return}return[]}function $l(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function i_(n,s,r,c,g){for(var y=s._reactName,E=[];r!==null&&r!==c;){var R=r,D=R.alternate,I=R.stateNode;if(R=R.tag,D!==null&&D===c)break;R!==5&&R!==26&&R!==27||I===null||(D=I,g?(I=vu(r,y),I!=null&&E.unshift(eh(r,I,D))):g||(I=vu(r,y),I!=null&&E.push(eh(r,I,D)))),r=r.return}E.length!==0&&n.push({event:s,listeners:E})}var MC=/\r\n?/g,LC=/\u0000|\uFFFD/g;function s_(n){return(typeof n=="string"?n:""+n).replace(MC,`
`).replace(LC,"")}function a_(n,s){return s=s_(s),s_(n)===s}function pp(){}function ee(n,s,r,c,g,y){switch(r){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Al(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Al(n,""+c);break;case"className":vf(n,"class",c);break;case"tabIndex":vf(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":vf(n,r,c);break;case"style":oA(n,c,y);break;case"data":if(s!=="object"){vf(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||r!=="href")){n.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Ef(""+c),n.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(s!=="input"&&ee(n,s,"name",g.name,g,null),ee(n,s,"formEncType",g.formEncType,g,null),ee(n,s,"formMethod",g.formMethod,g,null),ee(n,s,"formTarget",g.formTarget,g,null)):(ee(n,s,"encType",g.encType,g,null),ee(n,s,"method",g.method,g,null),ee(n,s,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Ef(""+c),n.setAttribute(r,c);break;case"onClick":c!=null&&(n.onclick=pp);break;case"onScroll":c!=null&&zt("scroll",n);break;case"onScrollEnd":c!=null&&zt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}r=Ef(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""+c):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":c===!0?n.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,c):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(r,c):n.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(r):n.setAttribute(r,c);break;case"popover":zt("beforetoggle",n),zt("toggle",n),bf(n,"popover",c);break;case"xlinkActuate":Rs(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Rs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Rs(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Rs(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Rs(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Rs(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Rs(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Rs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Rs(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":bf(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=rR.get(r)||r,bf(n,r,c))}}function ab(n,s,r,c,g,y){switch(r){case"style":oA(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"children":typeof c=="string"?Al(n,c):(typeof c=="number"||typeof c=="bigint")&&Al(n,""+c);break;case"onScroll":c!=null&&zt("scroll",n);break;case"onScrollEnd":c!=null&&zt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=pp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!W0.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(g=r.endsWith("Capture"),s=r.slice(2,g?r.length-7:void 0),y=n[On]||null,y=y!=null?y[r]:null,typeof y=="function"&&n.removeEventListener(s,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(s,c,g);break t}r in n?n[r]=c:c===!0?n.setAttribute(r,""):bf(n,r,c)}}}function rn(n,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",n),zt("load",n);var c=!1,g=!1,y;for(y in r)if(r.hasOwnProperty(y)){var E=r[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ee(n,s,y,E,r,null)}}g&&ee(n,s,"srcSet",r.srcSet,r,null),c&&ee(n,s,"src",r.src,r,null);return;case"input":zt("invalid",n);var R=y=E=g=null,D=null,I=null;for(c in r)if(r.hasOwnProperty(c)){var $=r[c];if($!=null)switch(c){case"name":g=$;break;case"type":E=$;break;case"checked":D=$;break;case"defaultChecked":I=$;break;case"value":y=$;break;case"defaultValue":R=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:ee(n,s,c,$,r,null)}}iA(n,y,R,D,I,E,g,!1),Af(n);return;case"select":zt("invalid",n),c=E=y=null;for(g in r)if(r.hasOwnProperty(g)&&(R=r[g],R!=null))switch(g){case"value":y=R;break;case"defaultValue":E=R;break;case"multiple":c=R;default:ee(n,s,g,R,r,null)}s=y,r=E,n.multiple=!!c,s!=null?vl(n,!!c,s,!1):r!=null&&vl(n,!!c,r,!0);return;case"textarea":zt("invalid",n),y=g=c=null;for(E in r)if(r.hasOwnProperty(E)&&(R=r[E],R!=null))switch(E){case"value":c=R;break;case"defaultValue":g=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ee(n,s,E,R,r,null)}aA(n,c,g,y),Af(n);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(c=r[D],c!=null))switch(D){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ee(n,s,D,c,r,null)}return;case"dialog":zt("beforetoggle",n),zt("toggle",n),zt("cancel",n),zt("close",n);break;case"iframe":case"object":zt("load",n);break;case"video":case"audio":for(c=0;c<th.length;c++)zt(th[c],n);break;case"image":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"embed":case"source":case"link":zt("error",n),zt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in r)if(r.hasOwnProperty(I)&&(c=r[I],c!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ee(n,s,I,c,r,null)}return;default:if(Sm(s)){for($ in r)r.hasOwnProperty($)&&(c=r[$],c!==void 0&&ab(n,s,$,c,r,void 0));return}}for(R in r)r.hasOwnProperty(R)&&(c=r[R],c!=null&&ee(n,s,R,c,r,null))}function DC(n,s,r,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,R=null,D=null,I=null,$=null;for(G in r){var Z=r[G];if(r.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=Z;default:c.hasOwnProperty(G)||ee(n,s,G,null,c,Z)}}for(var q in c){var G=c[q];if(Z=r[q],c.hasOwnProperty(q)&&(G!=null||Z!=null))switch(q){case"type":y=G;break;case"name":g=G;break;case"checked":I=G;break;case"defaultChecked":$=G;break;case"value":E=G;break;case"defaultValue":R=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:G!==Z&&ee(n,s,q,G,c,Z)}}vm(n,E,R,D,I,$,y,g);return;case"select":G=E=R=q=null;for(y in r)if(D=r[y],r.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":G=D;default:c.hasOwnProperty(y)||ee(n,s,y,null,c,D)}for(g in c)if(y=c[g],D=r[g],c.hasOwnProperty(g)&&(y!=null||D!=null))switch(g){case"value":q=y;break;case"defaultValue":R=y;break;case"multiple":E=y;default:y!==D&&ee(n,s,g,y,c,D)}s=R,r=E,c=G,q!=null?vl(n,!!r,q,!1):!!c!=!!r&&(s!=null?vl(n,!!r,s,!0):vl(n,!!r,r?[]:"",!1));return;case"textarea":G=q=null;for(R in r)if(g=r[R],r.hasOwnProperty(R)&&g!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ee(n,s,R,null,c,g)}for(E in c)if(g=c[E],y=r[E],c.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":q=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&ee(n,s,E,g,c,y)}sA(n,q,G);return;case"option":for(var St in r)if(q=r[St],r.hasOwnProperty(St)&&q!=null&&!c.hasOwnProperty(St))switch(St){case"selected":n.selected=!1;break;default:ee(n,s,St,null,c,q)}for(D in c)if(q=c[D],G=r[D],c.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null))switch(D){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ee(n,s,D,q,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)q=r[vt],r.hasOwnProperty(vt)&&q!=null&&!c.hasOwnProperty(vt)&&ee(n,s,vt,null,c,q);for(I in c)if(q=c[I],G=r[I],c.hasOwnProperty(I)&&q!==G&&(q!=null||G!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:ee(n,s,I,q,c,G)}return;default:if(Sm(s)){for(var ne in r)q=r[ne],r.hasOwnProperty(ne)&&q!==void 0&&!c.hasOwnProperty(ne)&&ab(n,s,ne,void 0,c,q);for($ in c)q=c[$],G=r[$],!c.hasOwnProperty($)||q===G||q===void 0&&G===void 0||ab(n,s,$,q,c,G);return}}for(var H in r)q=r[H],r.hasOwnProperty(H)&&q!=null&&!c.hasOwnProperty(H)&&ee(n,s,H,null,c,q);for(Z in c)q=c[Z],G=r[Z],!c.hasOwnProperty(Z)||q===G||q==null&&G==null||ee(n,s,Z,q,c,G)}var rb=null,ob=null;function gp(n){return n.nodeType===9?n:n.ownerDocument}function r_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function lb(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cb=null;function OC(){var n=window.event;return n&&n.type==="popstate"?n===cb?!1:(cb=n,!0):(cb=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,NC=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(n){return c_.resolve(null).then(n).catch(PC)}:l_;function PC(n){setTimeout(function(){throw n})}function qa(n){return n==="head"}function u_(n,s){var r=s,c=0,g=0;do{var y=r.nextSibling;if(n.removeChild(r),y&&y.nodeType===8)if(r=y.data,r==="/$"){if(0<c&&8>c){r=c;var E=n.ownerDocument;if(r&1&&nh(E.documentElement),r&2&&nh(E.body),r&4)for(r=E.head,nh(r),E=r.firstChild;E;){var R=E.nextSibling,D=E.nodeName;E[yu]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||r.removeChild(E),E=R}}if(g===0){n.removeChild(y),uh(s);return}g--}else r==="$"||r==="$?"||r==="$!"?g++:c=r.charCodeAt(0)-48;else c=0;r=y}while(r);uh(s)}function ub(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ub(r),gm(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function FC(n,s,r,c){for(;n.nodeType===1;){var g=r;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[yu])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Ni(n.nextSibling),n===null)break}return null}function HC(n,s,r){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Ni(n.nextSibling),n===null))return null;return n}function hb(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function zC(n,s){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")s();else{var c=function(){s(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Ni(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var db=null;function h_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return n;s--}else r==="/$"&&s++}n=n.previousSibling}return null}function d_(n,s,r){switch(s=gp(r),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function nh(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);gm(n)}var Ai=new Map,f_=new Set;function mp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Is=Y.d;Y.d={f:UC,r:BC,D:IC,C:jC,L:qC,m:GC,X:XC,S:VC,M:YC};function UC(){var n=Is.f(),s=op();return n||s}function BC(n){var s=gl(n);s!==null&&s.tag===5&&s.type==="form"?NS(s):Is.r(n)}var Kl=typeof document>"u"?null:document;function p_(n,s,r){var c=Kl;if(c&&typeof s=="string"&&s){var g=fi(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof r=="string"&&(g+='[crossorigin="'+r+'"]'),f_.has(g)||(f_.add(g),n={rel:n,crossOrigin:r,href:s},c.querySelector(g)===null&&(s=c.createElement("link"),rn(s,"link",n),Xe(s),c.head.appendChild(s)))}}function IC(n){Is.D(n),p_("dns-prefetch",n,null)}function jC(n,s){Is.C(n,s),p_("preconnect",n,s)}function qC(n,s,r){Is.L(n,s,r);var c=Kl;if(c&&n&&s){var g='link[rel="preload"][as="'+fi(s)+'"]';s==="image"&&r&&r.imageSrcSet?(g+='[imagesrcset="'+fi(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(g+='[imagesizes="'+fi(r.imageSizes)+'"]')):g+='[href="'+fi(n)+'"]';var y=g;switch(s){case"style":y=Wl(n);break;case"script":y=Ql(n)}Ai.has(y)||(n=m({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:n,as:s},r),Ai.set(y,n),c.querySelector(g)!==null||s==="style"&&c.querySelector(ih(y))||s==="script"&&c.querySelector(sh(y))||(s=c.createElement("link"),rn(s,"link",n),Xe(s),c.head.appendChild(s)))}}function GC(n,s){Is.m(n,s);var r=Kl;if(r&&n){var c=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+fi(c)+'"][href="'+fi(n)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ql(n)}if(!Ai.has(y)&&(n=m({rel:"modulepreload",href:n},s),Ai.set(y,n),r.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sh(y)))return}c=r.createElement("link"),rn(c,"link",n),Xe(c),r.head.appendChild(c)}}}function VC(n,s,r){Is.S(n,s,r);var c=Kl;if(c&&n){var g=ml(c).hoistableStyles,y=Wl(n);s=s||"default";var E=g.get(y);if(!E){var R={loading:0,preload:null};if(E=c.querySelector(ih(y)))R.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},r),(r=Ai.get(y))&&fb(n,r);var D=E=c.createElement("link");Xe(D),rn(D,"link",n),D._p=new Promise(function(I,$){D.onload=I,D.onerror=$}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,yp(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:R},g.set(y,E)}}}function XC(n,s){Is.X(n,s);var r=Kl;if(r&&n){var c=ml(r).hoistableScripts,g=Ql(n),y=c.get(g);y||(y=r.querySelector(sh(g)),y||(n=m({src:n,async:!0},s),(s=Ai.get(g))&&pb(n,s),y=r.createElement("script"),Xe(y),rn(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function YC(n,s){Is.M(n,s);var r=Kl;if(r&&n){var c=ml(r).hoistableScripts,g=Ql(n),y=c.get(g);y||(y=r.querySelector(sh(g)),y||(n=m({src:n,async:!0,type:"module"},s),(s=Ai.get(g))&&pb(n,s),y=r.createElement("script"),Xe(y),rn(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function g_(n,s,r,c){var g=(g=ct.current)?mp(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Wl(r.href),r=ml(g).hoistableStyles,c=r.get(s),c||(c={type:"style",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Wl(r.href);var y=ml(g).hoistableStyles,E=y.get(n);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=g.querySelector(ih(n)))&&!y._p&&(E.instance=y,E.state.loading=5),Ai.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ai.set(n,r),y||$C(g,n,r,E.state))),s&&c===null)throw Error(i(528,""));return E}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ql(r),r=ml(g).hoistableScripts,c=r.get(s),c||(c={type:"script",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Wl(n){return'href="'+fi(n)+'"'}function ih(n){return'link[rel="stylesheet"]['+n+"]"}function m_(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function $C(n,s,r,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),rn(s,"link",r),Xe(s),n.head.appendChild(s))}function Ql(n){return'[src="'+fi(n)+'"]'}function sh(n){return"script[async]"+n}function y_(n,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+fi(r.href)+'"]');if(c)return s.instance=c,Xe(c),c;var g=m({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Xe(c),rn(c,"style",g),yp(c,r.precedence,n),s.instance=c;case"stylesheet":g=Wl(r.href);var y=n.querySelector(ih(g));if(y)return s.state.loading|=4,s.instance=y,Xe(y),y;c=m_(r),(g=Ai.get(g))&&fb(c,g),y=(n.ownerDocument||n).createElement("link"),Xe(y);var E=y;return E._p=new Promise(function(R,D){E.onload=R,E.onerror=D}),rn(y,"link",c),s.state.loading|=4,yp(y,r.precedence,n),s.instance=y;case"script":return y=Ql(r.src),(g=n.querySelector(sh(y)))?(s.instance=g,Xe(g),g):(c=r,(g=Ai.get(y))&&(c=m({},r),pb(c,g)),n=n.ownerDocument||n,g=n.createElement("script"),Xe(g),rn(g,"link",c),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,yp(c,r.precedence,n));return s.instance}function yp(n,s,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,E=0;E<c.length;E++){var R=c[E];if(R.dataset.precedence===s)y=R;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(n,s.firstChild))}function fb(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function pb(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var bp=null;function b_(n,s,r){if(bp===null){var c=new Map,g=bp=new Map;g.set(r,c)}else g=bp,c=g.get(r),c||(c=new Map,g.set(r,c));if(c.has(n))return c;for(c.set(n,null),r=r.getElementsByTagName(n),g=0;g<r.length;g++){var y=r[g];if(!(y[yu]||y[dn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=n+E;var R=c.get(E);R?R.push(y):c.set(E,[y])}}return c}function v_(n,s,r){n=n.ownerDocument||n,n.head.insertBefore(r,s==="title"?n.querySelector("head > title"):null)}function KC(n,s,r){if(r===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function A_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ah=null;function WC(){}function QC(n,s,r){if(ah===null)throw Error(i(475));var c=ah;if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Wl(r.href),y=n.querySelector(ih(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=vp.bind(c),n.then(c,c)),s.state.loading|=4,s.instance=y,Xe(y);return}y=n.ownerDocument||n,r=m_(r),(g=Ai.get(g))&&fb(r,g),y=y.createElement("link"),Xe(y);var E=y;E._p=new Promise(function(R,D){E.onload=R,E.onerror=D}),rn(y,"link",r),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=vp.bind(c),n.addEventListener("load",s),n.addEventListener("error",s))}}function ZC(){if(ah===null)throw Error(i(475));var n=ah;return n.stylesheets&&n.count===0&&gb(n,n.stylesheets),0<n.count?function(s){var r=setTimeout(function(){if(n.stylesheets&&gb(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(r)}}:null}function vp(){if(this.count--,this.count===0){if(this.stylesheets)gb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ap=null;function gb(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ap=new Map,s.forEach(JC,n),Ap=null,vp.call(n))}function JC(n,s){if(!(s.state.loading&4)){var r=Ap.get(n);if(r)var c=r.get(null);else{r=new Map,Ap.set(n,r);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),c=E)}c&&r.set(null,c)}g=s.instance,E=g.getAttribute("data-precedence"),y=r.get(E)||c,y===c&&r.set(null,g),r.set(E,g),this.count++,c=vp.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var rh={$$typeof:O,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function tM(n,s,r,c,g,y,E,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.hiddenUpdates=hm(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function S_(n,s,r,c,g,y,E,R,D,I,$,Z){return n=new tM(n,s,r,E,R,D,I,Z),s=1,y===!0&&(s|=24),y=$n(3,null,null,s),n.current=y,y.stateNode=n,s=Wm(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:r,cache:s},ty(y),n}function E_(n){return n?(n=Cl,n):Cl}function __(n,s,r,c,g,y){g=E_(g),c.context===null?c.context=g:c.pendingContext=g,c=La(s),c.payload={element:r},y=y===void 0?null:y,y!==null&&(c.callback=y),r=Da(n,c,s),r!==null&&(Jn(r,n,s),Fu(r,n,s))}function w_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<s?r:s}}function mb(n,s){w_(n,s),(n=n.alternate)&&w_(n,s)}function T_(n){if(n.tag===13){var s=Rl(n,67108864);s!==null&&Jn(s,n,67108864),mb(n,67108864)}}var Sp=!0;function eM(n,s,r,c){var g=B.T;B.T=null;var y=Y.p;try{Y.p=2,yb(n,s,r,c)}finally{Y.p=y,B.T=g}}function nM(n,s,r,c){var g=B.T;B.T=null;var y=Y.p;try{Y.p=8,yb(n,s,r,c)}finally{Y.p=y,B.T=g}}function yb(n,s,r,c){if(Sp){var g=bb(c);if(g===null)sb(n,s,c,Ep,r),R_(n,c);else if(sM(g,n,s,r,c))c.stopPropagation();else if(R_(n,c),s&4&&-1<iM.indexOf(n)){for(;g!==null;){var y=gl(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Or(y.pendingLanes);if(E!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var D=1<<31-Ve(E);R.entanglements[1]|=D,E&=~D}ns(y),($t&6)===0&&(ap=nn()+500,Ju(0))}}break;case 13:R=Rl(y,2),R!==null&&Jn(R,y,2),op(),mb(y,2)}if(y=bb(c),y===null&&sb(n,s,c,Ep,r),y===g)break;g=y}g!==null&&c.stopPropagation()}else sb(n,s,c,null,r)}}function bb(n){return n=_m(n),vb(n)}var Ep=null;function vb(n){if(Ep=null,n=pl(n),n!==null){var s=o(n);if(s===null)n=null;else{var r=s.tag;if(r===13){if(n=u(s),n!==null)return n;n=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ep=n,null}function x_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lr()){case df:return 2;case ff:return 8;case xs:case lm:return 32;case pf:return 268435456;default:return 32}default:return 32}}var Ab=!1,Ga=null,Va=null,Xa=null,oh=new Map,lh=new Map,Ya=[],iM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(n,s){switch(n){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":oh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(s.pointerId)}}function ch(n,s,r,c,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:r,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},s!==null&&(s=gl(s),s!==null&&T_(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function sM(n,s,r,c,g){switch(s){case"focusin":return Ga=ch(Ga,n,s,r,c,g),!0;case"dragenter":return Va=ch(Va,n,s,r,c,g),!0;case"mouseover":return Xa=ch(Xa,n,s,r,c,g),!0;case"pointerover":var y=g.pointerId;return oh.set(y,ch(oh.get(y)||null,n,s,r,c,g)),!0;case"gotpointercapture":return y=g.pointerId,lh.set(y,ch(lh.get(y)||null,n,s,r,c,g)),!0}return!1}function C_(n){var s=pl(n.target);if(s!==null){var r=o(s);if(r!==null){if(s=r.tag,s===13){if(s=u(r),s!==null){n.blockedOn=s,Qx(n.priority,function(){if(r.tag===13){var c=Zn();c=dm(c);var g=Rl(r,c);g!==null&&Jn(g,r,c),mb(r,c)}});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _p(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var r=bb(n.nativeEvent);if(r===null){r=n.nativeEvent;var c=new r.constructor(r.type,r);Em=c,r.target.dispatchEvent(c),Em=null}else return s=gl(r),s!==null&&T_(s),n.blockedOn=r,!1;s.shift()}return!0}function M_(n,s,r){_p(n)&&r.delete(s)}function aM(){Ab=!1,Ga!==null&&_p(Ga)&&(Ga=null),Va!==null&&_p(Va)&&(Va=null),Xa!==null&&_p(Xa)&&(Xa=null),oh.forEach(M_),lh.forEach(M_)}function wp(n,s){n.blockedOn===s&&(n.blockedOn=null,Ab||(Ab=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,aM)))}var Tp=null;function L_(n){Tp!==n&&(Tp=n,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Tp===n&&(Tp=null);for(var s=0;s<n.length;s+=3){var r=n[s],c=n[s+1],g=n[s+2];if(typeof c!="function"){if(vb(c||r)===null)continue;break}var y=gl(r);y!==null&&(n.splice(s,3),s-=3,vy(y,{pending:!0,data:g,method:r.method,action:c},c,g))}}))}function uh(n){function s(D){return wp(D,n)}Ga!==null&&wp(Ga,n),Va!==null&&wp(Va,n),Xa!==null&&wp(Xa,n),oh.forEach(s),lh.forEach(s);for(var r=0;r<Ya.length;r++){var c=Ya[r];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ya.length&&(r=Ya[0],r.blockedOn===null);)C_(r),r.blockedOn===null&&Ya.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var g=r[c],y=r[c+1],E=g[On]||null;if(typeof y=="function")E||L_(r);else if(E){var R=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[On]||null)R=E.formAction;else if(vb(g)!==null)continue}else R=E.action;typeof R=="function"?r[c+1]=R:(r.splice(c,3),c-=3),L_(r)}}}function Sb(n){this._internalRoot=n}xp.prototype.render=Sb.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,c=Zn();__(r,c,n,s,null,null)},xp.prototype.unmount=Sb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;__(n.current,2,null,n,null,null),op(),s[fl]=null}};function xp(n){this._internalRoot=n}xp.prototype.unstable_scheduleHydration=function(n){if(n){var s=Y0();n={blockedOn:null,target:n,priority:s};for(var r=0;r<Ya.length&&s!==0&&s<Ya[r].priority;r++);Ya.splice(r,0,n),r===0&&C_(n)}};var D_=t.version;if(D_!=="19.1.0")throw Error(i(527,D_,"19.1.0"));Y.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var rM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{Dr=Rp.inject(rM),Le=Rp}catch{}}return dh.createRoot=function(n,s){if(!a(n))throw Error(i(299));var r=!1,c="",g=YS,y=$S,E=KS,R=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=S_(n,1,!1,null,null,r,c,g,y,E,R,null),n[fl]=s.current,ib(n),new Sb(s)},dh.hydrateRoot=function(n,s,r){if(!a(n))throw Error(i(299));var c=!1,g="",y=YS,E=$S,R=KS,D=null,I=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks),r.formState!==void 0&&(I=r.formState)),s=S_(n,1,!0,s,r??null,c,g,y,E,R,D,I),s.context=E_(null),r=s.current,c=Zn(),c=dm(c),g=La(c),g.callback=null,Da(r,g,c),r=c,s.current.lanes=r,mu(s,r),ns(s),n[fl]=s.current,ib(n),new xp(s)},dh.version="19.1.0",dh}var j_;function vM(){if(j_)return Tb.exports;j_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Tb.exports=bM(),Tb.exports}var AM=vM(),fh={},q_;function SM(){if(q_)return fh;q_=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.parse=u,fh.serialize=p;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,S){const A=new o,w=v.length;if(w<2)return A;const M=(S==null?void 0:S.decode)||m;let x=0;do{const L=v.indexOf("=",x);if(L===-1)break;const O=v.indexOf(";",x),P=O===-1?w:O;if(L>P){x=v.lastIndexOf(";",L-1)+1;continue}const F=d(v,x,L),j=f(v,L,F),V=v.slice(F,j);if(A[V]===void 0){let W=d(v,L+1,P),tt=f(v,P,W);const at=M(v.slice(W,tt));A[V]=at}x=P+1}while(x<w);return A}function d(v,S,A){do{const w=v.charCodeAt(S);if(w!==32&&w!==9)return S}while(++S<A);return A}function f(v,S,A){for(;S>A;){const w=v.charCodeAt(--S);if(w!==32&&w!==9)return S+1}return A}function p(v,S,A){const w=(A==null?void 0:A.encode)||encodeURIComponent;if(!l.test(v))throw new TypeError(`argument name is invalid: ${v}`);const M=w(S);if(!t.test(M))throw new TypeError(`argument val is invalid: ${S}`);let x=v+"="+M;if(!A)return x;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);x+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);x+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);x+="; Path="+A.path}if(A.expires){if(!b(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);x+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(x+="; HttpOnly"),A.secure&&(x+="; Secure"),A.partitioned&&(x+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return x}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return a.call(v)==="[object Date]"}return fh}SM();var G_="popstate";function EM(l={}){function t(i,a){let{pathname:o,search:u,hash:d}=i.location;return Ib("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){return typeof a=="string"?a:zh(a)}return wM(t,e,null,l)}function be(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function _s(l,t){if(!l){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _M(){return Math.random().toString(36).substring(2,10)}function V_(l,t){return{usr:l.state,key:l.key,idx:t}}function Ib(l,t,e=null,i){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof t=="string"?uu(t):t,state:e,key:t&&t.key||i||_M()}}function zh({pathname:l="/",search:t="",hash:e=""}){return t&&t!=="?"&&(l+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(l+=e.charAt(0)==="#"?e:"#"+e),l}function uu(l){let t={};if(l){let e=l.indexOf("#");e>=0&&(t.hash=l.substring(e),l=l.substring(0,e));let i=l.indexOf("?");i>=0&&(t.search=l.substring(i),l=l.substring(0,i)),l&&(t.pathname=l)}return t}function wM(l,t,e,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,d="POP",f=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function b(){d="POP";let M=m(),x=M==null?null:M-p;p=M,f&&f({action:d,location:w.location,delta:x})}function v(M,x){d="PUSH";let L=Ib(w.location,M,x);p=m()+1;let O=V_(L,p),P=w.createHref(L);try{u.pushState(O,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(P)}o&&f&&f({action:d,location:w.location,delta:1})}function S(M,x){d="REPLACE";let L=Ib(w.location,M,x);p=m();let O=V_(L,p),P=w.createHref(L);u.replaceState(O,"",P),o&&f&&f({action:d,location:w.location,delta:0})}function A(M){return TM(M)}let w={get action(){return d},get location(){return l(a,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(G_,b),f=M,()=>{a.removeEventListener(G_,b),f=null}},createHref(M){return t(a,M)},createURL:A,encodeLocation(M){let x=A(M);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:S,go(M){return u.go(M)}};return w}function TM(l,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),be(e,"No window.location.(origin|href) available to create URL");let i=typeof l=="string"?l:zh(l);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Bw(l,t,e="/"){return xM(l,t,e,!1)}function xM(l,t,e,i){let a=typeof t=="string"?uu(t):t,o=Ea(a.pathname||"/",e);if(o==null)return null;let u=Iw(l);RM(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=zM(o);d=FM(u[f],p,i)}return d}function Iw(l,t=[],e=[],i=""){let a=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(be(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=ba([i,f.relativePath]),m=e.concat(f);o.children&&o.children.length>0&&(be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Iw(o.children,t,m,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:kM(p,o.index),routesMeta:m})};return l.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let f of jw(o.path))a(o,u,f)}),t}function jw(l){let t=l.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=jw(i.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...u),d.map(f=>l.startsWith("/")&&f===""?"/":f)}function RM(l){l.sort((t,e)=>t.score!==e.score?e.score-t.score:PM(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var CM=/^:[\w-]+$/,MM=3,LM=2,DM=1,OM=10,NM=-2,X_=l=>l==="*";function kM(l,t){let e=l.split("/"),i=e.length;return e.some(X_)&&(i+=NM),t&&(i+=LM),e.filter(a=>!X_(a)).reduce((a,o)=>a+(CM.test(o)?MM:o===""?DM:OM),i)}function PM(l,t){return l.length===t.length&&l.slice(0,-1).every((i,a)=>i===t[a])?l[l.length-1]-t[t.length-1]:0}function FM(l,t,e=!1){let{routesMeta:i}=l,a={},o="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",b=mg({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),v=f.route;if(!b&&p&&e&&!i[i.length-1].route.index&&(b=mg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:ba([o,b.pathname]),pathnameBase:jM(ba([o,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(o=ba([o,b.pathnameBase]))}return u}function mg(l,t){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[e,i]=HM(l.path,l.caseSensitive,l.end),a=t.match(e);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:b},v)=>{if(m==="*"){let A=d[v]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=d[v];return b&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:l}}function HM(l,t=!1,e=!0){_s(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let i=[],a="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(i.push({paramName:"*"}),a+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":l!==""&&l!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function zM(l){try{return l.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _s(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),l}}function Ea(l,t){if(t==="/")return l;if(!l.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=l.charAt(e);return i&&i!=="/"?null:l.slice(e)||"/"}function UM(l,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof l=="string"?uu(l):l;return{pathname:e?e.startsWith("/")?e:BM(e,t):t,search:qM(i),hash:GM(a)}}function BM(l,t){let e=t.replace(/\/+$/,"").split("/");return l.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Mb(l,t,e,i){return`Cannot include a '${l}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IM(l){return l.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function qw(l){let t=IM(l);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Gw(l,t,e,i=!1){let a;typeof l=="string"?a=uu(l):(a={...l},be(!a.pathname||!a.pathname.includes("?"),Mb("?","pathname","search",a)),be(!a.pathname||!a.pathname.includes("#"),Mb("#","pathname","hash",a)),be(!a.search||!a.search.includes("#"),Mb("#","search","hash",a)));let o=l===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=e;else{let b=t.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),b-=1;a.pathname=v.join("/")}d=b>=0?t[b]:"/"}let f=UM(a,d),p=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var ba=l=>l.join("/").replace(/\/\/+/g,"/"),jM=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),qM=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,GM=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function VM(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var Vw=["POST","PUT","PATCH","DELETE"];new Set(Vw);var XM=["GET",...Vw];new Set(XM);var hu=z.createContext(null);hu.displayName="DataRouter";var Ig=z.createContext(null);Ig.displayName="DataRouterState";var Xw=z.createContext({isTransitioning:!1});Xw.displayName="ViewTransition";var YM=z.createContext(new Map);YM.displayName="Fetchers";var $M=z.createContext(null);$M.displayName="Await";var ws=z.createContext(null);ws.displayName="Navigation";var nf=z.createContext(null);nf.displayName="Location";var Ta=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ta.displayName="Route";var y0=z.createContext(null);y0.displayName="RouteError";function KM(l,{relative:t}={}){be(sf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=z.useContext(ws),{hash:a,pathname:o,search:u}=af(l,{relative:t}),d=o;return e!=="/"&&(d=o==="/"?e:ba([e,o])),i.createHref({pathname:d,search:u,hash:a})}function sf(){return z.useContext(nf)!=null}function cl(){return be(sf(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(nf).location}var Yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $w(l){z.useContext(ws).static||z.useLayoutEffect(l)}function WM(){let{isDataRoute:l}=z.useContext(Ta);return l?cL():QM()}function QM(){be(sf(),"useNavigate() may be used only in the context of a <Router> component.");let l=z.useContext(hu),{basename:t,navigator:e}=z.useContext(ws),{matches:i}=z.useContext(Ta),{pathname:a}=cl(),o=JSON.stringify(qw(i)),u=z.useRef(!1);return $w(()=>{u.current=!0}),z.useCallback((f,p={})=>{if(_s(u.current,Yw),!u.current)return;if(typeof f=="number"){e.go(f);return}let m=Gw(f,JSON.parse(o),a,p.relative==="path");l==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ba([t,m.pathname])),(p.replace?e.replace:e.push)(m,p.state,p)},[t,e,o,a,l])}z.createContext(null);function af(l,{relative:t}={}){let{matches:e}=z.useContext(Ta),{pathname:i}=cl(),a=JSON.stringify(qw(e));return z.useMemo(()=>Gw(l,JSON.parse(a),i,t==="path"),[l,a,i,t])}function ZM(l,t){return Kw(l,t)}function Kw(l,t,e,i){var x;be(sf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=z.useContext(ws),{matches:o}=z.useContext(Ta),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let L=m&&m.path||"";Ww(f,!m||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=cl(),v;if(t){let L=typeof t=="string"?uu(t):t;be(p==="/"||((x=L.pathname)==null?void 0:x.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),v=L}else v=b;let S=v.pathname||"/",A=S;if(p!=="/"){let L=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let w=Bw(l,{pathname:A});_s(m||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),_s(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=iL(w&&w.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:ba([p,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:ba([p,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,e,i);return t&&M?z.createElement(nf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},M):M}function JM(){let l=lL(),t=VM(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),e=l instanceof Error?l.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",l),u=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),e?z.createElement("pre",{style:a},e):null,u)}var tL=z.createElement(JM,null),eL=class extends z.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,t){return t.location!==l.location||t.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:t.error,location:t.location,revalidation:l.revalidation||t.revalidation}}componentDidCatch(l,t){console.error("React Router caught the following error during render",l,t)}render(){return this.state.error!==void 0?z.createElement(Ta.Provider,{value:this.props.routeContext},z.createElement(y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nL({routeContext:l,match:t,children:e}){let i=z.useContext(hu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Ta.Provider,{value:l},e)}function iL(l,t=[],e=null,i=null){if(l==null){if(!e)return null;if(e.errors)l=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)l=e.matches;else return null}let a=l,o=e==null?void 0:e.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);be(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:b}=e,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,m)=>{let b,v=!1,S=null,A=null;e&&(b=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||tL,u&&(d<0&&m===0?(Ww("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):d===m&&(v=!0,A=p.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,m+1)),M=()=>{let x;return b?x=S:v?x=A:p.route.Component?x=z.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=f,z.createElement(nL,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:e!=null},children:x})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?z.createElement(eL,{location:e.location,revalidation:e.revalidation,component:S,error:b,children:M(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):M()},null)}function b0(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sL(l){let t=z.useContext(hu);return be(t,b0(l)),t}function aL(l){let t=z.useContext(Ig);return be(t,b0(l)),t}function rL(l){let t=z.useContext(Ta);return be(t,b0(l)),t}function v0(l){let t=rL(l),e=t.matches[t.matches.length-1];return be(e.route.id,`${l} can only be used on routes that contain a unique "id"`),e.route.id}function oL(){return v0("useRouteId")}function lL(){var i;let l=z.useContext(y0),t=aL("useRouteError"),e=v0("useRouteError");return l!==void 0?l:(i=t.errors)==null?void 0:i[e]}function cL(){let{router:l}=sL("useNavigate"),t=v0("useNavigate"),e=z.useRef(!1);return $w(()=>{e.current=!0}),z.useCallback(async(a,o={})=>{_s(e.current,Yw),e.current&&(typeof a=="number"?l.navigate(a):await l.navigate(a,{fromRouteId:t,...o}))},[l,t])}var Y_={};function Ww(l,t,e){!t&&!Y_[l]&&(Y_[l]=!0,_s(!1,e))}z.memo(uL);function uL({routes:l,future:t,state:e}){return Kw(l,void 0,e,t)}function jb(l){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hL({basename:l="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:o=!1}){be(!sf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=l.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof e=="string"&&(e=uu(e));let{pathname:f="/",search:p="",hash:m="",state:b=null,key:v="default"}=e,S=z.useMemo(()=>{let A=Ea(f,u);return A==null?null:{location:{pathname:A,search:p,hash:m,state:b,key:v},navigationType:i}},[u,f,p,m,b,v,i]);return _s(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:z.createElement(ws.Provider,{value:d},z.createElement(nf.Provider,{children:t,value:S}))}function dL({children:l,location:t}){return ZM(qb(l),t)}function qb(l,t=[]){let e=[];return z.Children.forEach(l,(i,a)=>{if(!z.isValidElement(i))return;let o=[...t,a];if(i.type===z.Fragment){e.push.apply(e,qb(i.props.children,o));return}be(i.type===jb,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=qb(i.props.children,o)),e.push(u)}),e}var Pp="get",Fp="application/x-www-form-urlencoded";function jg(l){return l!=null&&typeof l.tagName=="string"}function fL(l){return jg(l)&&l.tagName.toLowerCase()==="button"}function pL(l){return jg(l)&&l.tagName.toLowerCase()==="form"}function gL(l){return jg(l)&&l.tagName.toLowerCase()==="input"}function mL(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function yL(l,t){return l.button===0&&(!t||t==="_self")&&!mL(l)}var Cp=null;function bL(){if(Cp===null)try{new FormData(document.createElement("form"),0),Cp=!1}catch{Cp=!0}return Cp}var vL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lb(l){return l!=null&&!vL.has(l)?(_s(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fp}"`),null):l}function AL(l,t){let e,i,a,o,u;if(pL(l)){let d=l.getAttribute("action");i=d?Ea(d,t):null,e=l.getAttribute("method")||Pp,a=Lb(l.getAttribute("enctype"))||Fp,o=new FormData(l)}else if(fL(l)||gL(l)&&(l.type==="submit"||l.type==="image")){let d=l.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=l.getAttribute("formaction")||d.getAttribute("action");if(i=f?Ea(f,t):null,e=l.getAttribute("formmethod")||d.getAttribute("method")||Pp,a=Lb(l.getAttribute("formenctype"))||Lb(d.getAttribute("enctype"))||Fp,o=new FormData(d,l),!bL()){let{name:p,type:m,value:b}=l;if(m==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,b)}}else{if(jg(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Pp,i=null,a=Fp,u=l}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:o,body:u}}function A0(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}async function SL(l,t){if(l.id in t)return t[l.id];try{let e=await import(l.module);return t[l.id]=e,e}catch(e){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EL(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function _L(l,t,e){let i=await Promise.all(l.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await SL(o,e);return u.links?u.links():[]}return[]}));return RL(i.flat(1).filter(EL).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $_(l,t,e,i,a,o){let u=(f,p)=>e[p]?f.route.id!==e[p].route.id:!0,d=(f,p)=>{var m;return e[p].pathname!==f.pathname||((m=e[p].route.path)==null?void 0:m.endsWith("*"))&&e[p].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,p)=>u(f,p)||d(f,p)):o==="data"?t.filter((f,p)=>{var b;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=e[0])==null?void 0:b.params)||{},nextUrl:new URL(l,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function wL(l,t,{includeHydrateFallback:e}={}){return TL(l.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function TL(l){return[...new Set(l)]}function xL(l){let t={},e=Object.keys(l).sort();for(let i of e)t[i]=l[i];return t}function RL(l,t){let e=new Set;return new Set(t),l.reduce((i,a)=>{let o=JSON.stringify(xL(a));return e.has(o)||(e.add(o),i.push({key:o,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CL=new Set([100,101,204,205]);function ML(l,t){let e=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return e.pathname==="/"?e.pathname="_root.data":t&&Ea(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Qw(){let l=z.useContext(hu);return A0(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function LL(){let l=z.useContext(Ig);return A0(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var S0=z.createContext(void 0);S0.displayName="FrameworkContext";function Zw(){let l=z.useContext(S0);return A0(l,"You must render this element inside a <HydratedRouter> element"),l}function DL(l,t){let e=z.useContext(S0),[i,a]=z.useState(!1),[o,u]=z.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:b}=t,v=z.useRef(null);z.useEffect(()=>{if(l==="render"&&u(!0),l==="viewport"){let w=x=>{x.forEach(L=>{u(L.isIntersecting)})},M=new IntersectionObserver(w,{threshold:.5});return v.current&&M.observe(v.current),()=>{M.disconnect()}}},[l]),z.useEffect(()=>{if(i){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[i]);let S=()=>{a(!0)},A=()=>{a(!1),u(!1)};return e?l!=="intent"?[o,v,{}]:[o,v,{onFocus:ph(d,S),onBlur:ph(f,A),onMouseEnter:ph(p,S),onMouseLeave:ph(m,A),onTouchStart:ph(b,S)}]:[!1,v,{}]}function ph(l,t){return e=>{l&&l(e),e.defaultPrevented||t(e)}}function OL({page:l,...t}){let{router:e}=Qw(),i=z.useMemo(()=>Bw(e.routes,l,e.basename),[e.routes,l,e.basename]);return i?z.createElement(kL,{page:l,matches:i,...t}):null}function NL(l){let{manifest:t,routeModules:e}=Zw(),[i,a]=z.useState([]);return z.useEffect(()=>{let o=!1;return _L(l,t,e).then(u=>{o||a(u)}),()=>{o=!0}},[l,t,e]),i}function kL({page:l,matches:t,...e}){let i=cl(),{manifest:a,routeModules:o}=Zw(),{basename:u}=Qw(),{loaderData:d,matches:f}=LL(),p=z.useMemo(()=>$_(l,t,f,a,i,"data"),[l,t,f,a,i]),m=z.useMemo(()=>$_(l,t,f,a,i,"assets"),[l,t,f,a,i]),b=z.useMemo(()=>{if(l===i.pathname+i.search+i.hash)return[];let A=new Set,w=!1;if(t.forEach(x=>{var O;let L=a.routes[x.route.id];!L||!L.hasLoader||(!p.some(P=>P.route.id===x.route.id)&&x.route.id in d&&((O=o[x.route.id])!=null&&O.shouldRevalidate)||L.hasClientLoader?w=!0:A.add(x.route.id))}),A.size===0)return[];let M=ML(l,u);return w&&A.size>0&&M.searchParams.set("_routes",t.filter(x=>A.has(x.route.id)).map(x=>x.route.id).join(",")),[M.pathname+M.search]},[u,d,i,a,p,t,l,o]),v=z.useMemo(()=>wL(m,a),[m,a]),S=NL(m);return z.createElement(z.Fragment,null,b.map(A=>z.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),v.map(A=>z.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),S.map(({key:A,link:w})=>z.createElement("link",{key:A,...w})))}function PL(...l){return t=>{l.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Jw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jw&&(window.__reactRouterVersion="7.6.1")}catch{}function FL({basename:l,children:t,window:e}){let i=z.useRef();i.current==null&&(i.current=EM({window:e,v5Compat:!0}));let a=i.current,[o,u]=z.useState({action:a.action,location:a.location}),d=z.useCallback(f=>{z.startTransition(()=>u(f))},[u]);return z.useLayoutEffect(()=>a.listen(d),[a,d]),z.createElement(hL,{basename:l,children:t,location:o.location,navigationType:o.action,navigator:a})}var t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E0=z.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:d,target:f,to:p,preventScrollReset:m,viewTransition:b,...v},S){let{basename:A}=z.useContext(ws),w=typeof p=="string"&&t1.test(p),M,x=!1;if(typeof p=="string"&&w&&(M=p,Jw))try{let tt=new URL(window.location.href),at=p.startsWith("//")?new URL(tt.protocol+p):new URL(p),st=Ea(at.pathname,A);at.origin===tt.origin&&st!=null?p=st+at.search+at.hash:x=!0}catch{_s(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=KM(p,{relative:a}),[O,P,F]=DL(i,v),j=BL(p,{replace:u,state:d,target:f,preventScrollReset:m,relative:a,viewTransition:b});function V(tt){t&&t(tt),tt.defaultPrevented||j(tt)}let W=z.createElement("a",{...v,...F,href:M||L,onClick:x||o?t:V,ref:PL(S,P),target:f,"data-discover":!w&&e==="render"?"true":void 0});return O&&!w?z.createElement(z.Fragment,null,W,z.createElement(OL,{page:L})):W});E0.displayName="Link";var HL=z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:d,children:f,...p},m){let b=af(u,{relative:p.relative}),v=cl(),S=z.useContext(Ig),{navigator:A,basename:w}=z.useContext(ws),M=S!=null&&VL(b)&&d===!0,x=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,L=v.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(L=L.toLowerCase(),O=O?O.toLowerCase():null,x=x.toLowerCase()),O&&w&&(O=Ea(O,w)||O);const P=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let F=L===x||!a&&L.startsWith(x)&&L.charAt(P)==="/",j=O!=null&&(O===x||!a&&O.startsWith(x)&&O.charAt(x.length)==="/"),V={isActive:F,isPending:j,isTransitioning:M},W=F?t:void 0,tt;typeof i=="function"?tt=i(V):tt=[i,F?"active":null,j?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let at=typeof o=="function"?o(V):o;return z.createElement(E0,{...p,"aria-current":W,className:tt,ref:m,style:at,to:u,viewTransition:d},typeof f=="function"?f(V):f)});HL.displayName="NavLink";var zL=z.forwardRef(({discover:l="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:o,method:u=Pp,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:b,...v},S)=>{let A=qL(),w=GL(d,{relative:p}),M=u.toLowerCase()==="get"?"get":"post",x=typeof d=="string"&&t1.test(d),L=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let P=O.nativeEvent.submitter,F=(P==null?void 0:P.getAttribute("formmethod"))||u;A(P||O.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:a,state:o,relative:p,preventScrollReset:m,viewTransition:b})};return z.createElement("form",{ref:S,method:M,action:w,onSubmit:i?f:L,...v,"data-discover":!x&&l==="render"?"true":void 0})});zL.displayName="Form";function UL(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(l){let t=z.useContext(hu);return be(t,UL(l)),t}function BL(l,{target:t,replace:e,state:i,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=WM(),f=cl(),p=af(l,{relative:o});return z.useCallback(m=>{if(yL(m,t)){m.preventDefault();let b=e!==void 0?e:zh(f)===zh(p);d(l,{replace:b,state:i,preventScrollReset:a,relative:o,viewTransition:u})}},[f,d,p,e,i,t,l,a,o,u])}var IL=0,jL=()=>`__${String(++IL)}__`;function qL(){let{router:l}=e1("useSubmit"),{basename:t}=z.useContext(ws),e=oL();return z.useCallback(async(i,a={})=>{let{action:o,method:u,encType:d,formData:f,body:p}=AL(i,t);if(a.navigate===!1){let m=a.fetcherKey||jL();await l.fetch(m,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await l.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[l,t,e])}function GL(l,{relative:t}={}){let{basename:e}=z.useContext(ws),i=z.useContext(Ta);be(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...af(l||".",{relative:t})},u=cl();if(l==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let m=d.toString();o.search=m?`?${m}`:""}}return(!l||l===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ba([e,o.pathname])),zh(o)}function VL(l,t={}){let e=z.useContext(Xw);be(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=e1("useViewTransitionState"),a=af(l,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Ea(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=Ea(e.nextLocation.pathname,i)||e.nextLocation.pathname;return mg(a.pathname,u)!=null||mg(a.pathname,o)!=null}[...CL];function n1(l,t){return function(){return l.apply(t,arguments)}}const{toString:XL}=Object.prototype,{getPrototypeOf:_0}=Object,{iterator:qg,toStringTag:i1}=Symbol,Gg=(l=>t=>{const e=XL.call(t);return l[e]||(l[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Wi=l=>(l=l.toLowerCase(),t=>Gg(t)===l),Vg=l=>t=>typeof t===l,{isArray:du}=Array,Uh=Vg("undefined");function YL(l){return l!==null&&!Uh(l)&&l.constructor!==null&&!Uh(l.constructor)&&Gn(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const s1=Wi("ArrayBuffer");function $L(l){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(l):t=l&&l.buffer&&s1(l.buffer),t}const KL=Vg("string"),Gn=Vg("function"),a1=Vg("number"),Xg=l=>l!==null&&typeof l=="object",WL=l=>l===!0||l===!1,Hp=l=>{if(Gg(l)!=="object")return!1;const t=_0(l);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(i1 in l)&&!(qg in l)},QL=Wi("Date"),ZL=Wi("File"),JL=Wi("Blob"),tD=Wi("FileList"),eD=l=>Xg(l)&&Gn(l.pipe),nD=l=>{let t;return l&&(typeof FormData=="function"&&l instanceof FormData||Gn(l.append)&&((t=Gg(l))==="formdata"||t==="object"&&Gn(l.toString)&&l.toString()==="[object FormData]"))},iD=Wi("URLSearchParams"),[sD,aD,rD,oD]=["ReadableStream","Request","Response","Headers"].map(Wi),lD=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rf(l,t,{allOwnKeys:e=!1}={}){if(l===null||typeof l>"u")return;let i,a;if(typeof l!="object"&&(l=[l]),du(l))for(i=0,a=l.length;i<a;i++)t.call(null,l[i],i,l);else{const o=e?Object.getOwnPropertyNames(l):Object.keys(l),u=o.length;let d;for(i=0;i<u;i++)d=o[i],t.call(null,l[d],d,l)}}function r1(l,t){t=t.toLowerCase();const e=Object.keys(l);let i=e.length,a;for(;i-- >0;)if(a=e[i],t===a.toLowerCase())return a;return null}const io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o1=l=>!Uh(l)&&l!==io;function Gb(){const{caseless:l}=o1(this)&&this||{},t={},e=(i,a)=>{const o=l&&r1(t,a)||a;Hp(t[o])&&Hp(i)?t[o]=Gb(t[o],i):Hp(i)?t[o]=Gb({},i):du(i)?t[o]=i.slice():t[o]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&rf(arguments[i],e);return t}const cD=(l,t,e,{allOwnKeys:i}={})=>(rf(t,(a,o)=>{e&&Gn(a)?l[o]=n1(a,e):l[o]=a},{allOwnKeys:i}),l),uD=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),hD=(l,t,e,i)=>{l.prototype=Object.create(t.prototype,i),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:t.prototype}),e&&Object.assign(l.prototype,e)},dD=(l,t,e,i)=>{let a,o,u;const d={};if(t=t||{},l==null)return t;do{for(a=Object.getOwnPropertyNames(l),o=a.length;o-- >0;)u=a[o],(!i||i(u,l,t))&&!d[u]&&(t[u]=l[u],d[u]=!0);l=e!==!1&&_0(l)}while(l&&(!e||e(l,t))&&l!==Object.prototype);return t},fD=(l,t,e)=>{l=String(l),(e===void 0||e>l.length)&&(e=l.length),e-=t.length;const i=l.indexOf(t,e);return i!==-1&&i===e},pD=l=>{if(!l)return null;if(du(l))return l;let t=l.length;if(!a1(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=l[t];return e},gD=(l=>t=>l&&t instanceof l)(typeof Uint8Array<"u"&&_0(Uint8Array)),mD=(l,t)=>{const i=(l&&l[qg]).call(l);let a;for(;(a=i.next())&&!a.done;){const o=a.value;t.call(l,o[0],o[1])}},yD=(l,t)=>{let e;const i=[];for(;(e=l.exec(t))!==null;)i.push(e);return i},bD=Wi("HTMLFormElement"),vD=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,a){return i.toUpperCase()+a}),K_=(({hasOwnProperty:l})=>(t,e)=>l.call(t,e))(Object.prototype),AD=Wi("RegExp"),l1=(l,t)=>{const e=Object.getOwnPropertyDescriptors(l),i={};rf(e,(a,o)=>{let u;(u=t(a,o,l))!==!1&&(i[o]=u||a)}),Object.defineProperties(l,i)},SD=l=>{l1(l,(t,e)=>{if(Gn(l)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=l[e];if(Gn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},ED=(l,t)=>{const e={},i=a=>{a.forEach(o=>{e[o]=!0})};return du(l)?i(l):i(String(l).split(t)),e},_D=()=>{},wD=(l,t)=>l!=null&&Number.isFinite(l=+l)?l:t;function TD(l){return!!(l&&Gn(l.append)&&l[i1]==="FormData"&&l[qg])}const xD=l=>{const t=new Array(10),e=(i,a)=>{if(Xg(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const o=du(i)?[]:{};return rf(i,(u,d)=>{const f=e(u,a+1);!Uh(f)&&(o[d]=f)}),t[a]=void 0,o}}return i};return e(l,0)},RD=Wi("AsyncFunction"),CD=l=>l&&(Xg(l)||Gn(l))&&Gn(l.then)&&Gn(l.catch),c1=((l,t)=>l?setImmediate:t?((e,i)=>(io.addEventListener("message",({source:a,data:o})=>{a===io&&o===e&&i.length&&i.shift()()},!1),a=>{i.push(a),io.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Gn(io.postMessage)),MD=typeof queueMicrotask<"u"?queueMicrotask.bind(io):typeof process<"u"&&process.nextTick||c1,LD=l=>l!=null&&Gn(l[qg]),X={isArray:du,isArrayBuffer:s1,isBuffer:YL,isFormData:nD,isArrayBufferView:$L,isString:KL,isNumber:a1,isBoolean:WL,isObject:Xg,isPlainObject:Hp,isReadableStream:sD,isRequest:aD,isResponse:rD,isHeaders:oD,isUndefined:Uh,isDate:QL,isFile:ZL,isBlob:JL,isRegExp:AD,isFunction:Gn,isStream:eD,isURLSearchParams:iD,isTypedArray:gD,isFileList:tD,forEach:rf,merge:Gb,extend:cD,trim:lD,stripBOM:uD,inherits:hD,toFlatObject:dD,kindOf:Gg,kindOfTest:Wi,endsWith:fD,toArray:pD,forEachEntry:mD,matchAll:yD,isHTMLForm:bD,hasOwnProperty:K_,hasOwnProp:K_,reduceDescriptors:l1,freezeMethods:SD,toObjectSet:ED,toCamelCase:vD,noop:_D,toFiniteNumber:wD,findKey:r1,global:io,isContextDefined:o1,isSpecCompliantForm:TD,toJSONObject:xD,isAsyncFn:RD,isThenable:CD,setImmediate:c1,asap:MD,isIterable:LD};function Ct(l,t,e,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}X.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const u1=Ct.prototype,h1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{h1[l]={value:l}});Object.defineProperties(Ct,h1);Object.defineProperty(u1,"isAxiosError",{value:!0});Ct.from=(l,t,e,i,a,o)=>{const u=Object.create(u1);return X.toFlatObject(l,u,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),Ct.call(u,l.message,t,e,i,a),u.cause=l,u.name=l.name,o&&Object.assign(u,o),u};const DD=null;function Vb(l){return X.isPlainObject(l)||X.isArray(l)}function d1(l){return X.endsWith(l,"[]")?l.slice(0,-2):l}function W_(l,t,e){return l?l.concat(t).map(function(a,o){return a=d1(a),!e&&o?"["+a+"]":a}).join(e?".":""):t}function OD(l){return X.isArray(l)&&!l.some(Vb)}const ND=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function Yg(l,t,e){if(!X.isObject(l))throw new TypeError("target must be an object");t=t||new FormData,e=X.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,M){return!X.isUndefined(M[w])});const i=e.metaTokens,a=e.visitor||m,o=e.dots,u=e.indexes,f=(e.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(a))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(X.isDate(A))return A.toISOString();if(!f&&X.isBlob(A))throw new Ct("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(A)||X.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function m(A,w,M){let x=A;if(A&&!M&&typeof A=="object"){if(X.endsWith(w,"{}"))w=i?w:w.slice(0,-2),A=JSON.stringify(A);else if(X.isArray(A)&&OD(A)||(X.isFileList(A)||X.endsWith(w,"[]"))&&(x=X.toArray(A)))return w=d1(w),x.forEach(function(O,P){!(X.isUndefined(O)||O===null)&&t.append(u===!0?W_([w],P,o):u===null?w:w+"[]",p(O))}),!1}return Vb(A)?!0:(t.append(W_(M,w,o),p(A)),!1)}const b=[],v=Object.assign(ND,{defaultVisitor:m,convertValue:p,isVisitable:Vb});function S(A,w){if(!X.isUndefined(A)){if(b.indexOf(A)!==-1)throw Error("Circular reference detected in "+w.join("."));b.push(A),X.forEach(A,function(x,L){(!(X.isUndefined(x)||x===null)&&a.call(t,x,X.isString(L)?L.trim():L,w,v))===!0&&S(x,w?w.concat(L):[L])}),b.pop()}}if(!X.isObject(l))throw new TypeError("data must be an object");return S(l),t}function Q_(l){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function w0(l,t){this._pairs=[],l&&Yg(l,this,t)}const f1=w0.prototype;f1.append=function(t,e){this._pairs.push([t,e])};f1.toString=function(t){const e=t?function(i){return t.call(this,i,Q_)}:Q_;return this._pairs.map(function(a){return e(a[0])+"="+e(a[1])},"").join("&")};function kD(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p1(l,t,e){if(!t)return l;const i=e&&e.encode||kD;X.isFunction(e)&&(e={serialize:e});const a=e&&e.serialize;let o;if(a?o=a(t,e):o=X.isURLSearchParams(t)?t.toString():new w0(t,e).toString(i),o){const u=l.indexOf("#");u!==-1&&(l=l.slice(0,u)),l+=(l.indexOf("?")===-1?"?":"&")+o}return l}class Z_{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(i){i!==null&&t(i)})}}const g1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PD=typeof URLSearchParams<"u"?URLSearchParams:w0,FD=typeof FormData<"u"?FormData:null,HD=typeof Blob<"u"?Blob:null,zD={isBrowser:!0,classes:{URLSearchParams:PD,FormData:FD,Blob:HD},protocols:["http","https","file","blob","url","data"]},T0=typeof window<"u"&&typeof document<"u",Xb=typeof navigator=="object"&&navigator||void 0,UD=T0&&(!Xb||["ReactNative","NativeScript","NS"].indexOf(Xb.product)<0),BD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ID=T0&&window.location.href||"http://localhost",jD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:T0,hasStandardBrowserEnv:UD,hasStandardBrowserWebWorkerEnv:BD,navigator:Xb,origin:ID},Symbol.toStringTag,{value:"Module"})),Sn={...jD,...zD};function qD(l,t){return Yg(l,new Sn.classes.URLSearchParams,Object.assign({visitor:function(e,i,a,o){return Sn.isNode&&X.isBuffer(e)?(this.append(i,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function GD(l){return X.matchAll(/\w+|\[(\w*)]/g,l).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VD(l){const t={},e=Object.keys(l);let i;const a=e.length;let o;for(i=0;i<a;i++)o=e[i],t[o]=l[o];return t}function m1(l){function t(e,i,a,o){let u=e[o++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=o>=e.length;return u=!u&&X.isArray(a)?a.length:u,f?(X.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!d):((!a[u]||!X.isObject(a[u]))&&(a[u]=[]),t(e,i,a[u],o)&&X.isArray(a[u])&&(a[u]=VD(a[u])),!d)}if(X.isFormData(l)&&X.isFunction(l.entries)){const e={};return X.forEachEntry(l,(i,a)=>{t(GD(i),a,e,0)}),e}return null}function XD(l,t,e){if(X.isString(l))try{return(t||JSON.parse)(l),X.trim(l)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(l)}const of={transitional:g1,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",a=i.indexOf("application/json")>-1,o=X.isObject(t);if(o&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return a?JSON.stringify(m1(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return qD(t,this.formSerializer).toString();if((d=X.isFileList(t))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Yg(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return o||a?(e.setContentType("application/json",!1),XD(t)):t}],transformResponse:[function(t){const e=this.transitional||of.transitional,i=e&&e.forcedJSONParsing,a=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(i&&!this.responseType||a)){const u=!(e&&e.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(d){if(u)throw d.name==="SyntaxError"?Ct.from(d,Ct.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sn.classes.FormData,Blob:Sn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],l=>{of.headers[l]={}});const YD=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$D=l=>{const t={};let e,i,a;return l&&l.split(`
`).forEach(function(u){a=u.indexOf(":"),e=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!e||t[e]&&YD[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},J_=Symbol("internals");function gh(l){return l&&String(l).trim().toLowerCase()}function zp(l){return l===!1||l==null?l:X.isArray(l)?l.map(zp):String(l)}function KD(l){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(l);)t[i[1]]=i[2];return t}const WD=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function Db(l,t,e,i,a){if(X.isFunction(i))return i.call(this,t,e);if(a&&(t=e),!!X.isString(t)){if(X.isString(i))return t.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(t)}}function QD(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function ZD(l,t){const e=X.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(l,i+e,{value:function(a,o,u){return this[i].call(this,t,a,o,u)},configurable:!0})})}let Vn=class{constructor(t){t&&this.set(t)}set(t,e,i){const a=this;function o(d,f,p){const m=gh(f);if(!m)throw new Error("header name must be a non-empty string");const b=X.findKey(a,m);(!b||a[b]===void 0||p===!0||p===void 0&&a[b]!==!1)&&(a[b||f]=zp(d))}const u=(d,f)=>X.forEach(d,(p,m)=>o(p,m,f));if(X.isPlainObject(t)||t instanceof this.constructor)u(t,e);else if(X.isString(t)&&(t=t.trim())&&!WD(t))u($D(t),e);else if(X.isObject(t)&&X.isIterable(t)){let d={},f,p;for(const m of t){if(!X.isArray(m))throw TypeError("Object iterator must return a key-value pair");d[p=m[0]]=(f=d[p])?X.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}u(d,e)}else t!=null&&o(e,t,i);return this}get(t,e){if(t=gh(t),t){const i=X.findKey(this,t);if(i){const a=this[i];if(!e)return a;if(e===!0)return KD(a);if(X.isFunction(e))return e.call(this,a,i);if(X.isRegExp(e))return e.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=gh(t),t){const i=X.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||Db(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let a=!1;function o(u){if(u=gh(u),u){const d=X.findKey(i,u);d&&(!e||Db(i,i[d],d,e))&&(delete i[d],a=!0)}}return X.isArray(t)?t.forEach(o):o(t),a}clear(t){const e=Object.keys(this);let i=e.length,a=!1;for(;i--;){const o=e[i];(!t||Db(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const e=this,i={};return X.forEach(this,(a,o)=>{const u=X.findKey(i,o);if(u){e[u]=zp(a),delete e[o];return}const d=t?QD(o):String(o).trim();d!==o&&delete e[o],e[d]=zp(a),i[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return X.forEach(this,(i,a)=>{i!=null&&i!==!1&&(e[a]=t&&X.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[J_]=this[J_]={accessors:{}}).accessors,a=this.prototype;function o(u){const d=gh(u);i[d]||(ZD(a,u),i[d]=!0)}return X.isArray(t)?t.forEach(o):o(t),this}};Vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Vn.prototype,({value:l},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>l,set(i){this[e]=i}}});X.freezeMethods(Vn);function Ob(l,t){const e=this||of,i=t||e,a=Vn.from(i.headers);let o=i.data;return X.forEach(l,function(d){o=d.call(e,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function y1(l){return!!(l&&l.__CANCEL__)}function fu(l,t,e){Ct.call(this,l??"canceled",Ct.ERR_CANCELED,t,e),this.name="CanceledError"}X.inherits(fu,Ct,{__CANCEL__:!0});function b1(l,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?l(e):t(new Ct("Request failed with status code "+e.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function JD(l){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return t&&t[1]||""}function tO(l,t){l=l||10;const e=new Array(l),i=new Array(l);let a=0,o=0,u;return t=t!==void 0?t:1e3,function(f){const p=Date.now(),m=i[o];u||(u=p),e[a]=f,i[a]=p;let b=o,v=0;for(;b!==a;)v+=e[b++],b=b%l;if(a=(a+1)%l,a===o&&(o=(o+1)%l),p-u<t)return;const S=m&&p-m;return S?Math.round(v*1e3/S):void 0}}function eO(l,t){let e=0,i=1e3/t,a,o;const u=(p,m=Date.now())=>{e=m,a=null,o&&(clearTimeout(o),o=null),l.apply(null,p)};return[(...p)=>{const m=Date.now(),b=m-e;b>=i?u(p,m):(a=p,o||(o=setTimeout(()=>{o=null,u(a)},i-b)))},()=>a&&u(a)]}const yg=(l,t,e=3)=>{let i=0;const a=tO(50,250);return eO(o=>{const u=o.loaded,d=o.lengthComputable?o.total:void 0,f=u-i,p=a(f),m=u<=d;i=u;const b={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:p||void 0,estimated:p&&d&&m?(d-u)/p:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};l(b)},e)},tw=(l,t)=>{const e=l!=null;return[i=>t[0]({lengthComputable:e,total:l,loaded:i}),t[1]]},ew=l=>(...t)=>X.asap(()=>l(...t)),nO=Sn.hasStandardBrowserEnv?((l,t)=>e=>(e=new URL(e,Sn.origin),l.protocol===e.protocol&&l.host===e.host&&(t||l.port===e.port)))(new URL(Sn.origin),Sn.navigator&&/(msie|trident)/i.test(Sn.navigator.userAgent)):()=>!0,iO=Sn.hasStandardBrowserEnv?{write(l,t,e,i,a,o){const u=[l+"="+encodeURIComponent(t)];X.isNumber(e)&&u.push("expires="+new Date(e).toGMTString()),X.isString(i)&&u.push("path="+i),X.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(l){const t=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(l){this.write(l,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sO(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function aO(l,t){return t?l.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):l}function v1(l,t,e){let i=!sO(t);return l&&(i||e==!1)?aO(l,t):t}const nw=l=>l instanceof Vn?{...l}:l;function nl(l,t){t=t||{};const e={};function i(p,m,b,v){return X.isPlainObject(p)&&X.isPlainObject(m)?X.merge.call({caseless:v},p,m):X.isPlainObject(m)?X.merge({},m):X.isArray(m)?m.slice():m}function a(p,m,b,v){if(X.isUndefined(m)){if(!X.isUndefined(p))return i(void 0,p,b,v)}else return i(p,m,b,v)}function o(p,m){if(!X.isUndefined(m))return i(void 0,m)}function u(p,m){if(X.isUndefined(m)){if(!X.isUndefined(p))return i(void 0,p)}else return i(void 0,m)}function d(p,m,b){if(b in t)return i(p,m);if(b in l)return i(void 0,p)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(p,m,b)=>a(nw(p),nw(m),b,!0)};return X.forEach(Object.keys(Object.assign({},l,t)),function(m){const b=f[m]||a,v=b(l[m],t[m],m);X.isUndefined(v)&&b!==d||(e[m]=v)}),e}const A1=l=>{const t=nl({},l);let{data:e,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:o,headers:u,auth:d}=t;t.headers=u=Vn.from(u),t.url=p1(v1(t.baseURL,t.url,t.allowAbsoluteUrls),l.params,l.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(X.isFormData(e)){if(Sn.hasStandardBrowserEnv||Sn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[p,...m]=f?f.split(";").map(b=>b.trim()).filter(Boolean):[];u.setContentType([p||"multipart/form-data",...m].join("; "))}}if(Sn.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(t)),i||i!==!1&&nO(t.url))){const p=a&&o&&iO.read(o);p&&u.set(a,p)}return t},rO=typeof XMLHttpRequest<"u",oO=rO&&function(l){return new Promise(function(e,i){const a=A1(l);let o=a.data;const u=Vn.from(a.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=a,m,b,v,S,A;function w(){S&&S(),A&&A(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let M=new XMLHttpRequest;M.open(a.method.toUpperCase(),a.url,!0),M.timeout=a.timeout;function x(){if(!M)return;const O=Vn.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),F={data:!d||d==="text"||d==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:O,config:l,request:M};b1(function(V){e(V),w()},function(V){i(V),w()},F),M=null}"onloadend"in M?M.onloadend=x:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(x)},M.onabort=function(){M&&(i(new Ct("Request aborted",Ct.ECONNABORTED,l,M)),M=null)},M.onerror=function(){i(new Ct("Network Error",Ct.ERR_NETWORK,l,M)),M=null},M.ontimeout=function(){let P=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const F=a.transitional||g1;a.timeoutErrorMessage&&(P=a.timeoutErrorMessage),i(new Ct(P,F.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,l,M)),M=null},o===void 0&&u.setContentType(null),"setRequestHeader"in M&&X.forEach(u.toJSON(),function(P,F){M.setRequestHeader(F,P)}),X.isUndefined(a.withCredentials)||(M.withCredentials=!!a.withCredentials),d&&d!=="json"&&(M.responseType=a.responseType),p&&([v,A]=yg(p,!0),M.addEventListener("progress",v)),f&&M.upload&&([b,S]=yg(f),M.upload.addEventListener("progress",b),M.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(m=O=>{M&&(i(!O||O.type?new fu(null,l,M):O),M.abort(),M=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const L=JD(a.url);if(L&&Sn.protocols.indexOf(L)===-1){i(new Ct("Unsupported protocol "+L+":",Ct.ERR_BAD_REQUEST,l));return}M.send(o||null)})},lO=(l,t)=>{const{length:e}=l=l?l.filter(Boolean):[];if(t||e){let i=new AbortController,a;const o=function(p){if(!a){a=!0,d();const m=p instanceof Error?p:this.reason;i.abort(m instanceof Ct?m:new fu(m instanceof Error?m.message:m))}};let u=t&&setTimeout(()=>{u=null,o(new Ct(`timeout ${t} of ms exceeded`,Ct.ETIMEDOUT))},t);const d=()=>{l&&(u&&clearTimeout(u),u=null,l.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),l=null)};l.forEach(p=>p.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>X.asap(d),f}},cO=function*(l,t){let e=l.byteLength;if(e<t){yield l;return}let i=0,a;for(;i<e;)a=i+t,yield l.slice(i,a),i=a},uO=async function*(l,t){for await(const e of hO(l))yield*cO(e,t)},hO=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const t=l.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},iw=(l,t,e,i)=>{const a=uO(l,t);let o=0,u,d=f=>{u||(u=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:p,value:m}=await a.next();if(p){d(),f.close();return}let b=m.byteLength;if(e){let v=o+=b;e(v)}f.enqueue(new Uint8Array(m))}catch(p){throw d(p),p}},cancel(f){return d(f),a.return()}},{highWaterMark:2})},$g=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",S1=$g&&typeof ReadableStream=="function",dO=$g&&(typeof TextEncoder=="function"?(l=>t=>l.encode(t))(new TextEncoder):async l=>new Uint8Array(await new Response(l).arrayBuffer())),E1=(l,...t)=>{try{return!!l(...t)}catch{return!1}},fO=S1&&E1(()=>{let l=!1;const t=new Request(Sn.origin,{body:new ReadableStream,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!t}),sw=64*1024,Yb=S1&&E1(()=>X.isReadableStream(new Response("").body)),bg={stream:Yb&&(l=>l.body)};$g&&(l=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!bg[t]&&(bg[t]=X.isFunction(l[t])?e=>e[t]():(e,i)=>{throw new Ct(`Response type '${t}' is not supported`,Ct.ERR_NOT_SUPPORT,i)})})})(new Response);const pO=async l=>{if(l==null)return 0;if(X.isBlob(l))return l.size;if(X.isSpecCompliantForm(l))return(await new Request(Sn.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(X.isArrayBufferView(l)||X.isArrayBuffer(l))return l.byteLength;if(X.isURLSearchParams(l)&&(l=l+""),X.isString(l))return(await dO(l)).byteLength},gO=async(l,t)=>{const e=X.toFiniteNumber(l.getContentLength());return e??pO(t)},mO=$g&&(async l=>{let{url:t,method:e,data:i,signal:a,cancelToken:o,timeout:u,onDownloadProgress:d,onUploadProgress:f,responseType:p,headers:m,withCredentials:b="same-origin",fetchOptions:v}=A1(l);p=p?(p+"").toLowerCase():"text";let S=lO([a,o&&o.toAbortSignal()],u),A;const w=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let M;try{if(f&&fO&&e!=="get"&&e!=="head"&&(M=await gO(m,i))!==0){let F=new Request(t,{method:"POST",body:i,duplex:"half"}),j;if(X.isFormData(i)&&(j=F.headers.get("content-type"))&&m.setContentType(j),F.body){const[V,W]=tw(M,yg(ew(f)));i=iw(F.body,sw,V,W)}}X.isString(b)||(b=b?"include":"omit");const x="credentials"in Request.prototype;A=new Request(t,{...v,signal:S,method:e.toUpperCase(),headers:m.normalize().toJSON(),body:i,duplex:"half",credentials:x?b:void 0});let L=await fetch(A);const O=Yb&&(p==="stream"||p==="response");if(Yb&&(d||O&&w)){const F={};["status","statusText","headers"].forEach(tt=>{F[tt]=L[tt]});const j=X.toFiniteNumber(L.headers.get("content-length")),[V,W]=d&&tw(j,yg(ew(d),!0))||[];L=new Response(iw(L.body,sw,V,()=>{W&&W(),w&&w()}),F)}p=p||"text";let P=await bg[X.findKey(bg,p)||"text"](L,l);return!O&&w&&w(),await new Promise((F,j)=>{b1(F,j,{data:P,headers:Vn.from(L.headers),status:L.status,statusText:L.statusText,config:l,request:A})})}catch(x){throw w&&w(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,l,A),{cause:x.cause||x}):Ct.from(x,x&&x.code,l,A)}}),$b={http:DD,xhr:oO,fetch:mO};X.forEach($b,(l,t)=>{if(l){try{Object.defineProperty(l,"name",{value:t})}catch{}Object.defineProperty(l,"adapterName",{value:t})}});const aw=l=>`- ${l}`,yO=l=>X.isFunction(l)||l===null||l===!1,_1={getAdapter:l=>{l=X.isArray(l)?l:[l];const{length:t}=l;let e,i;const a={};for(let o=0;o<t;o++){e=l[o];let u;if(i=e,!yO(e)&&(i=$b[(u=String(e)).toLowerCase()],i===void 0))throw new Ct(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+o]=i}if(!i){const o=Object.entries(a).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?o.length>1?`since :
`+o.map(aw).join(`
`):" "+aw(o[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:$b};function Nb(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new fu(null,l)}function rw(l){return Nb(l),l.headers=Vn.from(l.headers),l.data=Ob.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),_1.getAdapter(l.adapter||of.adapter)(l).then(function(i){return Nb(l),i.data=Ob.call(l,l.transformResponse,i),i.headers=Vn.from(i.headers),i},function(i){return y1(i)||(Nb(l),i&&i.response&&(i.response.data=Ob.call(l,l.transformResponse,i.response),i.response.headers=Vn.from(i.response.headers))),Promise.reject(i)})}const w1="1.9.0",Kg={};["object","boolean","number","function","string","symbol"].forEach((l,t)=>{Kg[l]=function(i){return typeof i===l||"a"+(t<1?"n ":" ")+l}});const ow={};Kg.transitional=function(t,e,i){function a(o,u){return"[Axios v"+w1+"] Transitional option '"+o+"'"+u+(i?". "+i:"")}return(o,u,d)=>{if(t===!1)throw new Ct(a(u," has been removed"+(e?" in "+e:"")),Ct.ERR_DEPRECATED);return e&&!ow[u]&&(ow[u]=!0,console.warn(a(u," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,u,d):!0}};Kg.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function bO(l,t,e){if(typeof l!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const i=Object.keys(l);let a=i.length;for(;a-- >0;){const o=i[a],u=t[o];if(u){const d=l[o],f=d===void 0||u(d,o,l);if(f!==!0)throw new Ct("option "+o+" must be "+f,Ct.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Ct("Unknown option "+o,Ct.ERR_BAD_OPTION)}}const Up={assertOptions:bO,validators:Kg},is=Up.validators;let el=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Z_,response:new Z_}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=nl(this.defaults,e);const{transitional:i,paramsSerializer:a,headers:o}=e;i!==void 0&&Up.assertOptions(i,{silentJSONParsing:is.transitional(is.boolean),forcedJSONParsing:is.transitional(is.boolean),clarifyTimeoutError:is.transitional(is.boolean)},!1),a!=null&&(X.isFunction(a)?e.paramsSerializer={serialize:a}:Up.assertOptions(a,{encode:is.function,serialize:is.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Up.assertOptions(e,{baseUrl:is.spelling("baseURL"),withXsrfToken:is.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let u=o&&X.merge(o.common,o[e.method]);o&&X.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),e.headers=Vn.concat(u,o);const d=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(e)===!1||(f=f&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const p=[];this.interceptors.response.forEach(function(w){p.push(w.fulfilled,w.rejected)});let m,b=0,v;if(!f){const A=[rw.bind(this),void 0];for(A.unshift.apply(A,d),A.push.apply(A,p),v=A.length,m=Promise.resolve(e);b<v;)m=m.then(A[b++],A[b++]);return m}v=d.length;let S=e;for(b=0;b<v;){const A=d[b++],w=d[b++];try{S=A(S)}catch(M){w.call(this,M);break}}try{m=rw.call(this,S)}catch(A){return Promise.reject(A)}for(b=0,v=p.length;b<v;)m=m.then(p[b++],p[b++]);return m}getUri(t){t=nl(this.defaults,t);const e=v1(t.baseURL,t.url,t.allowAbsoluteUrls);return p1(e,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){el.prototype[t]=function(e,i){return this.request(nl(i||{},{method:t,url:e,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(t){function e(i){return function(o,u,d){return this.request(nl(d||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}el.prototype[t]=e(),el.prototype[t+"Form"]=e(!0)});let vO=class T1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const i=this;this.promise.then(a=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](a);i._listeners=null}),this.promise.then=a=>{let o;const u=new Promise(d=>{i.subscribe(d),o=d}).then(a);return u.cancel=function(){i.unsubscribe(o)},u},t(function(o,u,d){i.reason||(i.reason=new fu(o,u,d),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new T1(function(a){t=a}),cancel:t}}};function AO(l){return function(e){return l.apply(null,e)}}function SO(l){return X.isObject(l)&&l.isAxiosError===!0}const Kb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kb).forEach(([l,t])=>{Kb[t]=l});function x1(l){const t=new el(l),e=n1(el.prototype.request,t);return X.extend(e,el.prototype,t,{allOwnKeys:!0}),X.extend(e,t,null,{allOwnKeys:!0}),e.create=function(a){return x1(nl(l,a))},e}const xe=x1(of);xe.Axios=el;xe.CanceledError=fu;xe.CancelToken=vO;xe.isCancel=y1;xe.VERSION=w1;xe.toFormData=Yg;xe.AxiosError=Ct;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=AO;xe.isAxiosError=SO;xe.mergeConfig=nl;xe.AxiosHeaders=Vn;xe.formToJSON=l=>m1(X.isHTMLForm(l)?new FormData(l):l);xe.getAdapter=_1.getAdapter;xe.HttpStatusCode=Kb;xe.default=xe;const{Axios:cP,AxiosError:uP,CanceledError:hP,isCancel:dP,CancelToken:fP,VERSION:pP,all:gP,Cancel:mP,isAxiosError:yP,spread:bP,toFormData:vP,AxiosHeaders:AP,HttpStatusCode:SP,formToJSON:EP,getAdapter:_P,mergeConfig:wP}=xe,EO=()=>{const[l,t]=z.useState([]),[e,i]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const o=await xe.get("http://localhost:5294/api/Novels/All");t(o.data)}catch(o){console.error("Error fetching novels:",o)}finally{i(!1)}})()},[]),e?yt.jsx("p",{children:"Loading novels..."}):yt.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem"},children:l.map(a=>yt.jsxs("div",{style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[yt.jsx("img",{src:`http://localhost:5294${a.imageUrl}`,alt:a.name,style:{width:"100%",height:"200px",objectFit:"cover"},onError:o=>o.target.style.display="none"}),yt.jsx(E0,{to:`/novel/${a.id}`,children:a.name}),yt.jsxs("p",{children:[yt.jsx("strong",{children:"Genre:"})," ",a.genre]}),yt.jsxs("p",{children:[yt.jsx("strong",{children:"Rating:"})," ",a.rating??"N/A"]}),yt.jsxs("p",{children:[yt.jsx("strong",{children:"Price:"})," ",a.price??"Free"]}),yt.jsxs("p",{children:[yt.jsx("strong",{children:"Date:"})," ",new Date(a.dateTime).toLocaleDateString()]})]},a.id))})},_O="modulepreload",wO=function(l){return"/NovelReader/"+l},lw={},Mp=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let u=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=u(e.map(p=>{if(p=wO(p),p in lw)return;lw[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":_O,m||(v.as="script"),v.crossOrigin="",v.href=p,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((S,A)=>{v.addEventListener("load",S),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var Ph={};Ph.d=(l,t)=>{for(var e in t)Ph.o(t,e)&&!Ph.o(l,e)&&Object.defineProperty(l,e,{enumerable:!0,get:t[e]})};Ph.o=(l,t)=>Object.prototype.hasOwnProperty.call(l,t);var Rt=globalThis.pdfjsLib={};Ph.d(Rt,{AbortException:()=>hl,AnnotationEditorLayer:()=>o0,AnnotationEditorParamsType:()=>_t,AnnotationEditorType:()=>Dt,AnnotationEditorUIManager:()=>sl,AnnotationLayer:()=>EN,AnnotationMode:()=>Qa,ColorPicker:()=>Eg,DOMSVGFactory:()=>H0,DrawLayer:()=>h0,FeatureTest:()=>Mn,GlobalWorkerOptions:()=>ya,ImageKind:()=>Bp,InvalidPDFException:()=>C1,MissingPDFException:()=>ul,OPS:()=>Pi,OutputScale:()=>tv,PDFDataRangeTransport:()=>wT,PDFDateString:()=>L0,PDFWorker:()=>lc,PasswordResponses:()=>CO,PermissionFlag:()=>RO,PixelsPerInch:()=>Tr,RenderingCancelledException:()=>C0,TextLayer:()=>Cv,UnexpectedResponseException:()=>Jg,Util:()=>dt,VerbosityLevel:()=>Wg,XfaLayer:()=>xT,build:()=>nN,createValidAbsoluteUrl:()=>OO,fetchData:()=>em,getDocument:()=>Y2,getFilenameFromUrl:()=>IO,getPdfFilenameFromUrl:()=>jO,getXfaPageViewport:()=>qO,isDataScheme:()=>nm,isPdfFile:()=>M0,noContextMenu:()=>Li,normalizeUnicode:()=>zO,setLayerDimensions:()=>il,shadow:()=>It,version:()=>eN});const _n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),R1=[1,0,0,1,0,0],Wb=[.001,0,0,.001,0,0],TO=1e7,kb=1.35,ci={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},xO="pdfjs_internal_editor_",Dt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},RO={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},gn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Bp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ze={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},mh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Wg={ERRORS:0,WARNINGS:1,INFOS:5},Pi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},CO={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Qg=Wg.WARNINGS;function MO(l){Number.isInteger(l)&&(Qg=l)}function LO(){return Qg}function Zg(l){Qg>=Wg.INFOS&&console.log(`Info: ${l}`)}function kt(l){Qg>=Wg.WARNINGS&&console.log(`Warning: ${l}`)}function ce(l){throw new Error(l)}function je(l,t){l||ce(t)}function DO(l){switch(l==null?void 0:l.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function OO(l,t=null,e=null){if(!l)return null;try{if(e&&typeof l=="string"){if(e.addDefaultProtocol&&l.startsWith("www.")){const a=l.match(/\./g);(a==null?void 0:a.length)>=2&&(l=`http://${l}`)}if(e.tryConvertEncoding)try{l=HO(l)}catch{}}const i=t?new URL(l,t):new URL(l);if(DO(i))return i}catch{}return null}function It(l,t,e,i=!1){return Object.defineProperty(l,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Mr=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class Qb extends Mr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Zb extends Mr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class C1 extends Mr{constructor(t){super(t,"InvalidPDFException")}}class ul extends Mr{constructor(t){super(t,"MissingPDFException")}}class Jg extends Mr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class NO extends Mr{constructor(t){super(t,"FormatError")}}class hl extends Mr{constructor(t){super(t,"AbortException")}}function M1(l){(typeof l!="object"||(l==null?void 0:l.length)===void 0)&&ce("Invalid argument for bytesToString");const t=l.length,e=8192;if(t<e)return String.fromCharCode.apply(null,l);const i=[];for(let a=0;a<t;a+=e){const o=Math.min(a+e,t),u=l.subarray(a,o);i.push(String.fromCharCode.apply(null,u))}return i.join("")}function tm(l){typeof l!="string"&&ce("Invalid argument for stringToBytes");const t=l.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=l.charCodeAt(i)&255;return e}function kO(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255)}function x0(l){const t=Object.create(null);for(const[e,i]of l)t[e]=i;return t}function PO(){const l=new Uint8Array(4);return l[0]=1,new Uint32Array(l.buffer,0,1)[0]===1}function FO(){try{return new Function(""),!0}catch{return!1}}class Mn{static get isLittleEndian(){return It(this,"isLittleEndian",PO())}static get isEvalSupported(){return It(this,"isEvalSupported",FO())}static get isOffscreenCanvasSupported(){return It(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?It(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):It(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return It(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Pb=Array.from(Array(256).keys(),l=>l.toString(16).padStart(2,"0"));var Aa,Ip,Jb;class dt{static makeHexColor(t,e,i){return`#${Pb[t]}${Pb[e]}${Pb[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],a=t[0]*e[1]+t[1]*e[3]+e[5];return[i,a]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],a=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[a,o]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),a=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],a[0],o[0],u[0]),Math.min(i[1],a[1],o[1],u[1]),Math.max(i[0],a[0],o[0],u[0]),Math.max(i[1],a[1],o[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],a=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],d=(i+u)/2,f=Math.sqrt((i+u)**2-4*(i*u-o*a))/2,p=d+f||1,m=d-f||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>u?null:[i,o,a,u]}static bezierBoundingBox(t,e,i,a,o,u,d,f,p){return p?(p[0]=Math.min(p[0],t,d),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,d),p[3]=Math.max(p[3],e,f)):p=[Math.min(t,d),Math.min(e,f),Math.max(t,d),Math.max(e,f)],T(this,Aa,Jb).call(this,t,i,o,d,e,a,u,f,3*(-t+3*(i-o)+d),6*(t-2*i+o),3*(i-t),p),T(this,Aa,Jb).call(this,t,i,o,d,e,a,u,f,3*(-e+3*(a-u)+f),6*(e-2*a+u),3*(a-e),p),p}}Aa=new WeakSet,Ip=function(t,e,i,a,o,u,d,f,p,m){if(p<=0||p>=1)return;const b=1-p,v=p*p,S=v*p,A=b*(b*(b*t+3*p*e)+3*v*i)+S*a,w=b*(b*(b*o+3*p*u)+3*v*d)+S*f;m[0]=Math.min(m[0],A),m[1]=Math.min(m[1],w),m[2]=Math.max(m[2],A),m[3]=Math.max(m[3],w)},Jb=function(t,e,i,a,o,u,d,f,p,m,b,v){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&T(this,Aa,Ip).call(this,t,e,i,a,o,u,d,f,-b/m,v);return}const S=m**2-4*b*p;if(S<0)return;const A=Math.sqrt(S),w=2*p;T(this,Aa,Ip).call(this,t,e,i,a,o,u,d,f,(-m+A)/w,v),T(this,Aa,Ip).call(this,t,e,i,a,o,u,d,f,(-m-A)/w,v)},C(dt,Aa);function HO(l){return decodeURIComponent(escape(l))}let Fb=null,cw=null;function zO(l){return Fb||(Fb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cw=new Map([["","t"]])),l.replaceAll(Fb,(t,e,i)=>e?e.normalize("NFKC"):cw.get(i))}function UO(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const l=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(l);else for(let t=0;t<32;t++)l[t]=Math.floor(Math.random()*255);return M1(l)}const R0="pdfjs_internal_id_",js={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function BO(l){return Uint8Array.prototype.toBase64?l.toBase64():btoa(M1(l))}const Gs="http://www.w3.org/2000/svg",eo=class eo{};Et(eo,"CSS",96),Et(eo,"PDF",72),Et(eo,"PDF_TO_CSS_UNITS",eo.CSS/eo.PDF);let Tr=eo;async function em(l,t="text"){if(vh(l,document.baseURI)){const e=await fetch(l);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",l,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class lf{constructor({viewBox:t,scale:e,rotation:i,offsetX:a=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=a,this.offsetY=o;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,b,v;switch(i%=360,i<0&&(i+=360),i){case 180:p=-1,m=0,b=0,v=1;break;case 90:p=0,m=1,b=1,v=0;break;case 270:p=0,m=-1,b=-1,v=0;break;case 0:p=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,v=-v);let S,A,w,M;p===0?(S=Math.abs(f-t[1])*e+a,A=Math.abs(d-t[0])*e+o,w=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(S=Math.abs(d-t[0])*e+a,A=Math.abs(f-t[1])*e+o,w=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[p*e,m*e,b*e,v*e,S-p*e*d-b*e*f,A-m*e*d-v*e*f],this.width=w,this.height=M}get rawDims(){const{viewBox:t}=this;return It(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new lf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:o})}convertToViewportPoint(t,e){return dt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=dt.applyTransform([t[0],t[1]],this.transform),i=dt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return dt.applyInverseTransform([t,e],this.transform)}}class C0 extends Mr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function nm(l){const t=l.length;let e=0;for(;e<t&&l[e].trim()==="";)e++;return l.substring(e,e+5).toLowerCase()==="data:"}function M0(l){return typeof l=="string"&&/\.pdf$/i.test(l)}function IO(l){return[l]=l.split(/[#?]/,1),l.substring(l.lastIndexOf("/")+1)}function jO(l,t="document.pdf"){if(typeof l!="string")return t;if(nm(l))return kt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(l);let o=i.exec(a[1])||i.exec(a[2])||i.exec(a[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||t}class uw{constructor(){Et(this,"started",Object.create(null));Et(this,"times",[])}time(t){t in this.started&&kt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||kt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-a}ms
`);return t.join("")}}function vh(l,t){try{const{protocol:e}=t?new URL(l,t):new URL(l);return e==="http:"||e==="https:"}catch{return!1}}function Li(l){l.preventDefault()}function hw(l){console.log("Deprecated API usage: "+l)}var Ih;class L0{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Ih)||_(this,Ih,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Ih).exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,p==="-"?(u+=m,d+=b):p==="+"&&(u-=m,d-=b),new Date(Date.UTC(i,a,o,u,d,f))}}Ih=new WeakMap,C(L0,Ih);function qO(l,{scale:t=1,rotation:e=0}){const{width:i,height:a}=l.attributes.style,o=[0,0,parseInt(i),parseInt(a)];return new lf({viewBox:o,scale:t,rotation:e})}function D0(l){if(l.startsWith("#")){const t=parseInt(l.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(t=>parseInt(t)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(kt(`Not a valid color format: "${l}"`),[0,0,0])}function GO(l){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of l.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;l.set(e,D0(i))}t.remove()}function ye(l){const{a:t,b:e,c:i,d:a,e:o,f:u}=l.getTransform();return[t,e,i,a,o,u]}function qs(l){const{a:t,b:e,c:i,d:a,e:o,f:u}=l.getTransform().invertSelf();return[t,e,i,a,o,u]}function il(l,t,e=!1,i=!0){if(t instanceof lf){const{pageWidth:a,pageHeight:o}=t.rawDims,{style:u}=l,d=Mn.isCSSRoundSupported,f=`var(--scale-factor) * ${a}px`,p=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,b=d?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=m,u.height=b):(u.width=b,u.height=m)}i&&l.setAttribute("data-main-rotation",t.rotation)}class tv{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Za,so,Fi,ao,jh,qh,wg,L1,Ln,D1,O1,jp,N1,nv;const Vs=class Vs{constructor(t){C(this,Ln);C(this,Za,null);C(this,so,null);C(this,Fi);C(this,ao,null);C(this,jh,null);_(this,Fi,t),h(Vs,qh)||_(Vs,qh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=_(this,Za,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,Fi)._uiManager._signal;t.addEventListener("contextmenu",Li,{signal:e}),t.addEventListener("pointerdown",T(Vs,wg,L1),{signal:e});const i=_(this,ao,document.createElement("div"));i.className="buttons",t.append(i);const a=h(this,Fi).toolbarPosition;if(a){const{style:o}=t,u=h(this,Fi)._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return T(this,Ln,N1).call(this),t}get div(){return h(this,Za)}hide(){var t;h(this,Za).classList.add("hidden"),(t=h(this,so))==null||t.hideDropdown()}show(){var t;h(this,Za).classList.remove("hidden"),(t=h(this,jh))==null||t.shown()}async addAltText(t){const e=await t.render();T(this,Ln,jp).call(this,e),h(this,ao).prepend(e,h(this,Ln,nv)),_(this,jh,t)}addColorPicker(t){_(this,so,t);const e=t.renderButton();T(this,Ln,jp).call(this,e),h(this,ao).prepend(e,h(this,Ln,nv))}remove(){var t;h(this,Za).remove(),(t=h(this,so))==null||t.destroy(),_(this,so,null)}};Za=new WeakMap,so=new WeakMap,Fi=new WeakMap,ao=new WeakMap,jh=new WeakMap,qh=new WeakMap,wg=new WeakSet,L1=function(t){t.stopPropagation()},Ln=new WeakSet,D1=function(t){h(this,Fi)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},O1=function(t){h(this,Fi)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},jp=function(t){const e=h(this,Fi)._uiManager._signal;t.addEventListener("focusin",T(this,Ln,D1).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",T(this,Ln,O1).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Li,{signal:e})},N1=function(){const{editorType:t,_uiManager:e}=h(this,Fi),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",h(Vs,qh)[t]),T(this,Ln,jp).call(this,i),i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),h(this,ao).append(i)},nv=function(){const t=document.createElement("div");return t.className="divider",t},C(Vs,wg),C(Vs,qh,null);let ev=Vs;var Gh,ro,oo,Rr,k1,P1,F1;class VO{constructor(t){C(this,Rr);C(this,Gh,null);C(this,ro,null);C(this,oo);_(this,oo,t)}show(t,e,i){const[a,o]=T(this,Rr,P1).call(this,e,i),{style:u}=h(this,ro)||_(this,ro,T(this,Rr,k1).call(this));t.append(h(this,ro)),u.insetInlineEnd=`${100*a}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,ro).remove()}}Gh=new WeakMap,ro=new WeakMap,oo=new WeakMap,Rr=new WeakSet,k1=function(){const t=_(this,ro,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Li,{signal:h(this,oo)._signal});const e=_(this,Gh,document.createElement("div"));return e.className="buttons",t.append(e),T(this,Rr,F1).call(this),t},P1=function(t,e){let i=0,a=0;for(const o of t){const u=o.y+o.height;if(u<i)continue;const d=o.x+(e?o.width:0);if(u>i){a=d,i=u;continue}e?d>a&&(a=d):d<a&&(a=d)}return[e?1-a:a,i]},F1=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=h(this,oo)._signal;t.addEventListener("contextmenu",Li,{signal:i}),t.addEventListener("click",()=>{h(this,oo).highlightSelection("floating_button")},{signal:i}),h(this,Gh).append(t)};function vg(l,t,e){for(const i of e)t.addEventListener(i,l[i].bind(l))}function XO(l){return Math.round(Math.min(255,Math.max(1,255*l))).toString(16).padStart(2,"0")}var Tg;class YO{constructor(){C(this,Tg,0)}get id(){return`${xO}${Tn(this,Tg)._++}`}}Tg=new WeakMap;var hc,Vh,yn,dc,qp;const B0=class B0{constructor(){C(this,dc);C(this,hc,UO());C(this,Vh,0);C(this,yn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const o=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return It(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:i,size:a,type:o}=t;return T(this,dc,qp).call(this,`${e}_${i}_${a}_${o}`,t)}async getFromUrl(t){return T(this,dc,qp).call(this,t,t)}async getFromBlob(t,e){const i=await e;return T(this,dc,qp).call(this,t,i)}async getFromId(t){h(this,yn)||_(this,yn,new Map);const e=h(this,yn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,yn)||_(this,yn,new Map);let i=h(this,yn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${h(this,hc)}_${Tn(this,Vh)._++}`,refCounter:1,isSvg:!1},h(this,yn).set(t,i),h(this,yn).set(i.id,i),i}getSvgUrl(t){const e=h(this,yn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var a;h(this,yn)||_(this,yn,new Map);const e=h(this,yn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(i.width,i.height);o.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=o.convertToBlob()}(a=i.close)==null||a.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,hc)}_`)}};hc=new WeakMap,Vh=new WeakMap,yn=new WeakMap,dc=new WeakSet,qp=async function(t,e){h(this,yn)||_(this,yn,new Map);let i=h(this,yn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${h(this,hc)}_${Tn(this,Vh)._++}`,refCounter:0,isSvg:!1});let a;if(typeof e=="string"?(i.url=e,a=await em(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const o=B0._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((p,m)=>{d.onload=()=>{i.bitmap=d,i.isSvg=!0,p()},u.onload=async()=>{const b=i.svgUrl=u.result;d.src=await o?`${b}#svgView(preserveAspectRatio(none))`:b},d.onerror=u.onerror=m});u.readAsDataURL(a),await f}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){console.error(a),i=null}return h(this,yn).set(t,i),i&&h(this,yn).set(i.id,i),i};let iv=B0;var Qe,Ja,Xh,Ze;class $O{constructor(t=128){C(this,Qe,[]);C(this,Ja,!1);C(this,Xh);C(this,Ze,-1);_(this,Xh,t)}add({cmd:t,undo:e,post:i,mustExec:a,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(a&&t(),h(this,Ja))return;const f={cmd:t,undo:e,post:i,type:o};if(h(this,Ze)===-1){h(this,Qe).length>0&&(h(this,Qe).length=0),_(this,Ze,0),h(this,Qe).push(f);return}if(u&&h(this,Qe)[h(this,Ze)].type===o){d&&(f.undo=h(this,Qe)[h(this,Ze)].undo),h(this,Qe)[h(this,Ze)]=f;return}const p=h(this,Ze)+1;p===h(this,Xh)?h(this,Qe).splice(0,1):(_(this,Ze,p),p<h(this,Qe).length&&h(this,Qe).splice(p)),h(this,Qe).push(f)}undo(){if(h(this,Ze)===-1)return;_(this,Ja,!0);const{undo:t,post:e}=h(this,Qe)[h(this,Ze)];t(),e==null||e(),_(this,Ja,!1),_(this,Ze,h(this,Ze)-1)}redo(){if(h(this,Ze)<h(this,Qe).length-1){_(this,Ze,h(this,Ze)+1),_(this,Ja,!0);const{cmd:t,post:e}=h(this,Qe)[h(this,Ze)];t(),e==null||e(),_(this,Ja,!1)}}hasSomethingToUndo(){return h(this,Ze)!==-1}hasSomethingToRedo(){return h(this,Ze)<h(this,Qe).length-1}destroy(){_(this,Qe,null)}}Qe=new WeakMap,Ja=new WeakMap,Xh=new WeakMap,Ze=new WeakMap;var xg,H1;class cf{constructor(t){C(this,xg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Mn.platform;for(const[i,a,o={}]of t)for(const u of i){const d=u.startsWith("mac+");e&&d?(this.callbacks.set(u.slice(4),{callback:a,options:o}),this.allKeys.add(u.split("+").at(-1))):!e&&!d&&(this.callbacks.set(u,{callback:a,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(T(this,xg,H1).call(this,e));if(!i)return;const{callback:a,options:{bubbles:o=!1,args:u=[],checker:d=null}}=i;d&&!d(t,e)||(a.bind(t,...u,e)(),o||(e.stopPropagation(),e.preventDefault()))}}xg=new WeakSet,H1=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Rg=class Rg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return GO(t),It(this,"_colors",t)}convert(t){const e=D0(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((o,u)=>o===e[u]))return Rg._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?dt.makeHexColor(...e):t}};Et(Rg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sv=Rg;var fc,ei,Ue,ln,pc,Ys,gc,Hi,tr,mc,lo,as,zi,co,Yh,$h,yc,Kh,rs,er,bc,nr,os,Cg,ir,Wh,sr,uo,Qh,Zh,Je,Wt,$s,ho,Jh,td,ar,ls,Ks,ed,Ei,rt,Gp,av,z1,U1,Vp,B1,I1,j1,rv,q1,ov,lv,G1,xn,Ka,V1,X1,cv,Y1,Ah,uv;const rc=class rc{constructor(t,e,i,a,o,u,d,f,p,m,b){C(this,rt);C(this,fc,new AbortController);C(this,ei,null);C(this,Ue,new Map);C(this,ln,new Map);C(this,pc,null);C(this,Ys,null);C(this,gc,null);C(this,Hi,new $O);C(this,tr,null);C(this,mc,0);C(this,lo,new Set);C(this,as,null);C(this,zi,null);C(this,co,new Set);C(this,Yh,!1);C(this,$h,!1);C(this,yc,!1);C(this,Kh,null);C(this,rs,null);C(this,er,null);C(this,bc,null);C(this,nr,!1);C(this,os,null);C(this,Cg,new YO);C(this,ir,!1);C(this,Wh,!1);C(this,sr,null);C(this,uo,null);C(this,Qh,null);C(this,Zh,null);C(this,Je,Dt.NONE);C(this,Wt,new Set);C(this,$s,null);C(this,ho,null);C(this,Jh,null);C(this,td,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,ar,[0,0]);C(this,ls,null);C(this,Ks,null);C(this,ed,null);C(this,Ei,null);const v=this._signal=h(this,fc).signal;_(this,Ks,t),_(this,ed,e),_(this,pc,i),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:v}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),a._on("setpreference",this.onSetPreference.bind(this),{signal:v}),a._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),T(this,rt,B1).call(this),T(this,rt,G1).call(this),T(this,rt,rv).call(this),_(this,Ys,o.annotationStorage),_(this,Kh,o.filterFactory),_(this,ho,u),_(this,bc,d||null),_(this,Yh,f),_(this,$h,p),_(this,yc,m),_(this,Zh,b||null),this.viewParameters={realScale:Tr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=rc.prototype,e=u=>h(u,Ks).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),i=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return It(this,"_keyboardManager",new cf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Ks).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Ks).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,i,a;(t=h(this,Ei))==null||t.resolve(),_(this,Ei,null),(e=h(this,fc))==null||e.abort(),_(this,fc,null),this._signal=null;for(const o of h(this,ln).values())o.destroy();h(this,ln).clear(),h(this,Ue).clear(),h(this,co).clear(),_(this,ei,null),h(this,Wt).clear(),h(this,Hi).destroy(),(i=h(this,pc))==null||i.destroy(),(a=h(this,os))==null||a.hide(),_(this,os,null),h(this,rs)&&(clearTimeout(h(this,rs)),_(this,rs,null)),h(this,ls)&&(clearTimeout(h(this,ls)),_(this,ls,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,Zh)}get useNewAltTextFlow(){return h(this,$h)}get useNewAltTextWhenAddingImage(){return h(this,yc)}get hcmFilter(){return It(this,"hcmFilter",h(this,ho)?h(this,Kh).addHCMFilter(h(this,ho).foreground,h(this,ho).background):"none")}get direction(){return It(this,"direction",getComputedStyle(h(this,Ks)).direction)}get highlightColors(){return It(this,"highlightColors",h(this,bc)?new Map(h(this,bc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return It(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){_(this,Qh,t)}editAltText(t,e=!1){var i;(i=h(this,pc))==null||i.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":_(this,yc,e);break}}onPageChanging({pageNumber:t}){_(this,mc,t-1)}focusMainContainer(){h(this,Ks).focus()}findParent(t,e){for(const i of h(this,ln).values()){const{x:a,y:o,width:u,height:d}=i.div.getBoundingClientRect();if(t>=a&&t<=a+u&&e>=o&&e<=o+d)return i}return null}disableUserSelect(t=!1){h(this,ed).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,co).add(t)}removeShouldRescale(t){h(this,co).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Tr.PDF_TO_CSS_UNITS;for(const e of h(this,co))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:u}=e,d=e.toString(),p=T(this,rt,Gp).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;e.empty();const b=T(this,rt,av).call(this,p),v=h(this,Je)===Dt.NONE,S=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:u,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Dt.HIGHLIGHT,S);return}S()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Ys)&&!h(this,Ys).has(t.id)&&h(this,Ys).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,nr)&&(_(this,nr,!1),T(this,rt,Vp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Wt))if(e.div.contains(t)){_(this,uo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,uo))return;const[t,e]=h(this,uo);_(this,uo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){T(this,rt,rv).call(this),T(this,rt,ov).call(this)}removeEditListeners(){T(this,rt,q1).call(this),T(this,rt,lv).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of h(this,zi))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of h(this,zi))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=h(this,ei))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of h(this,Wt)){const o=a.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const u of h(this,zi))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){kt(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const f of i){const p=await a.deserialize(f);if(!p)return;o.push(p)}const u=()=>{for(const f of o)T(this,rt,cv).call(this,f);T(this,rt,uv).call(this,o)},d=()=>{for(const f of o)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(o){kt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Je)!==Dt.NONE&&!this.isEditorHandlingKeyboard&&rc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,nr)&&(_(this,nr,!1),T(this,rt,Vp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(T(this,rt,I1).call(this),T(this,rt,ov).call(this),T(this,rt,xn).call(this,{isEditing:h(this,Je)!==Dt.NONE,isEmpty:T(this,rt,Ah).call(this),hasSomethingToUndo:h(this,Hi).hasSomethingToUndo(),hasSomethingToRedo:h(this,Hi).hasSomethingToRedo(),hasSelectedEditor:!1})):(T(this,rt,j1).call(this),T(this,rt,lv).call(this),T(this,rt,xn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,zi)){_(this,zi,t);for(const e of h(this,zi))T(this,rt,Ka).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,Cg).id}get currentLayer(){return h(this,ln).get(h(this,mc))}getLayer(t){return h(this,ln).get(t)}get currentPageIndex(){return h(this,mc)}addLayer(t){h(this,ln).set(t.pageIndex,t),h(this,ir)?t.enable():t.disable()}removeLayer(t){h(this,ln).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(h(this,Je)!==t&&!(h(this,Ei)&&(await h(this,Ei).promise,!h(this,Ei)))){if(_(this,Ei,Promise.withResolvers()),_(this,Je,t),t===Dt.NONE){this.setEditingState(!1),T(this,rt,X1).call(this),h(this,Ei).resolve();return}this.setEditingState(!0),await T(this,rt,V1).call(this),this.unselectAll();for(const a of h(this,ln).values())a.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),h(this,Ei).resolve();return}for(const a of h(this,Ue).values())a.annotationElementId===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();h(this,Ei).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,Je)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(h(this,zi)){switch(t){case _t.CREATE:this.currentLayer.addNewEditor();return;case _t.HIGHLIGHT_DEFAULT_COLOR:(i=h(this,Qh))==null||i.updateColor(e);break;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Jh)||_(this,Jh,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const a of h(this,Wt))a.updateParams(t,e);for(const a of h(this,zi))a.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var o;for(const u of h(this,Ue).values())u.editorType===t&&u.show(e);(((o=h(this,Jh))==null?void 0:o.get(_t.HIGHLIGHT_SHOW_ALL))??!0)!==e&&T(this,rt,Ka).call(this,[[_t.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,Wh)!==t){_(this,Wh,t);for(const e of h(this,ln).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of h(this,Ue).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return h(this,Ue).get(t)}addEditor(t){h(this,Ue).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,rs)&&clearTimeout(h(this,rs)),_(this,rs,setTimeout(()=>{this.focusMainContainer(),_(this,rs,null)},0))),h(this,Ue).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,lo).has(t.annotationElementId))&&((e=h(this,Ys))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,lo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,lo).has(t)}removeDeletedAnnotationElement(t){h(this,lo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,ei)!==t&&(_(this,ei,t),t&&T(this,rt,Ka).call(this,t.propertiesToUpdate))}updateUI(t){h(this,rt,Y1)===t&&T(this,rt,Ka).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Wt).has(t)){h(this,Wt).delete(t),t.unselect(),T(this,rt,xn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Wt).add(t),t.select(),T(this,rt,Ka).call(this,t.propertiesToUpdate),T(this,rt,xn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Wt))e!==t&&e.unselect();h(this,Wt).clear(),h(this,Wt).add(t),t.select(),T(this,rt,Ka).call(this,t.propertiesToUpdate),T(this,rt,xn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Wt).has(t)}get firstSelectedEditor(){return h(this,Wt).values().next().value}unselect(t){t.unselect(),h(this,Wt).delete(t),T(this,rt,xn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Wt).size!==0}get isEnterHandled(){return h(this,Wt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,Hi).undo(),T(this,rt,xn).call(this,{hasSomethingToUndo:h(this,Hi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:T(this,rt,Ah).call(this)})}redo(){h(this,Hi).redo(),T(this,rt,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Hi).hasSomethingToRedo(),isEmpty:T(this,rt,Ah).call(this)})}addCommands(t){h(this,Hi).add(t),T(this,rt,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:T(this,rt,Ah).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Wt)],e=()=>{for(const a of t)a.remove()},i=()=>{for(const a of t)T(this,rt,cv).call(this,a)};this.addCommands({cmd:e,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=h(this,ei))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,ei)||this.hasSelection}selectAll(){for(const t of h(this,Wt))t.commit();T(this,rt,uv).call(this,h(this,Ue).values())}unselectAll(){if(!(h(this,ei)&&(h(this,ei).commitOrRemove(),h(this,Je)!==Dt.NONE))&&this.hasSelection){for(const t of h(this,Wt))t.unselect();h(this,Wt).clear(),T(this,rt,xn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;h(this,ar)[0]+=t,h(this,ar)[1]+=e;const[a,o]=h(this,ar),u=[...h(this,Wt)],d=1e3;h(this,ls)&&clearTimeout(h(this,ls)),_(this,ls,setTimeout(()=>{_(this,ls,null),h(this,ar)[0]=h(this,ar)[1]=0,this.addCommands({cmd:()=>{for(const f of u)h(this,Ue).has(f.id)&&f.translateInPage(a,o)},undo:()=>{for(const f of u)h(this,Ue).has(f.id)&&f.translateInPage(-a,-o)},mustExec:!1})},d));for(const f of u)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,as,new Map);for(const t of h(this,Wt))h(this,as).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,as))return!1;this.disableUserSelect(!1);const t=h(this,as);_(this,as,null);let e=!1;for(const[{x:a,y:o,pageIndex:u},d]of t)d.newX=a,d.newY=o,d.newPageIndex=u,e||(e=a!==d.savedX||o!==d.savedY||u!==d.savedPageIndex);if(!e)return!1;const i=(a,o,u,d)=>{if(h(this,Ue).has(a.id)){const f=h(this,ln).get(d);f?a._setParentAndPosition(f,o,u):(a.pageIndex=d,a.x=o,a.y=u)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:u,newPageIndex:d}]of t)i(a,o,u,d)},undo:()=>{for(const[a,{savedX:o,savedY:u,savedPageIndex:d}]of t)i(a,o,u,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,as))for(const i of h(this,as).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Wt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,ei)===t}getActive(){return h(this,ei)}getMode(){return h(this,Je)}get imageManager(){return It(this,"imageManager",new iv)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:a,width:o,height:u}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(p,m,b,v)=>({x:(m-a)/u,y:1-(p+b-i)/o,width:v/u,height:b/o});break;case"180":d=(p,m,b,v)=>({x:1-(p+b-i)/o,y:1-(m+v-a)/u,width:b/o,height:v/u});break;case"270":d=(p,m,b,v)=>({x:1-(m+v-a)/u,y:(p-i)/o,width:v/u,height:b/o});break;default:d=(p,m,b,v)=>({x:(p-i)/o,y:(m-a)/u,width:b/o,height:v/u});break}const f=[];for(let p=0,m=e.rangeCount;p<m;p++){const b=e.getRangeAt(p);if(!b.collapsed)for(const{x:v,y:S,width:A,height:w}of b.getClientRects())A===0||w===0||f.push(d(v,S,A,w))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,gc)||_(this,gc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,gc))==null||e.delete(t)}renderAnnotationElement(t){var a;const e=(a=h(this,gc))==null?void 0:a.get(t.data.id);if(!e)return;const i=h(this,Ys).getRawValue(e);i&&(h(this,Je)===Dt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};fc=new WeakMap,ei=new WeakMap,Ue=new WeakMap,ln=new WeakMap,pc=new WeakMap,Ys=new WeakMap,gc=new WeakMap,Hi=new WeakMap,tr=new WeakMap,mc=new WeakMap,lo=new WeakMap,as=new WeakMap,zi=new WeakMap,co=new WeakMap,Yh=new WeakMap,$h=new WeakMap,yc=new WeakMap,Kh=new WeakMap,rs=new WeakMap,er=new WeakMap,bc=new WeakMap,nr=new WeakMap,os=new WeakMap,Cg=new WeakMap,ir=new WeakMap,Wh=new WeakMap,sr=new WeakMap,uo=new WeakMap,Qh=new WeakMap,Zh=new WeakMap,Je=new WeakMap,Wt=new WeakMap,$s=new WeakMap,ho=new WeakMap,Jh=new WeakMap,td=new WeakMap,ar=new WeakMap,ls=new WeakMap,Ks=new WeakMap,ed=new WeakMap,Ei=new WeakMap,rt=new WeakSet,Gp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},av=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of h(this,ln).values())if(i.hasTextLayer(t))return i;return null},z1=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=T(this,rt,Gp).call(this,t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(h(this,os)||_(this,os,new VO(this)),h(this,os).show(i,a,this.direction==="ltr"))},U1=function(){var o,u,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,$s)&&((o=h(this,os))==null||o.hide(),_(this,$s,null),T(this,rt,xn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,$s))return;const a=T(this,rt,Gp).call(this,t).closest(".textLayer");if(!a){h(this,$s)&&((u=h(this,os))==null||u.hide(),_(this,$s,null),T(this,rt,xn).call(this,{hasSelectedText:!1}));return}if((d=h(this,os))==null||d.hide(),_(this,$s,e),T(this,rt,xn).call(this,{hasSelectedText:!0}),!(h(this,Je)!==Dt.HIGHLIGHT&&h(this,Je)!==Dt.NONE)&&(h(this,Je)===Dt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,nr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=h(this,Je)===Dt.HIGHLIGHT?T(this,rt,av).call(this,a):null;f==null||f.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),b=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&T(this,rt,Vp).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("blur",b,{signal:m})}},Vp=function(t=""){h(this,Je)===Dt.HIGHLIGHT?this.highlightSelection(t):h(this,Yh)&&T(this,rt,z1).call(this)},B1=function(){document.addEventListener("selectionchange",T(this,rt,U1).bind(this),{signal:this._signal})},I1=function(){if(h(this,er))return;_(this,er,new AbortController);const t=this.combinedSignal(h(this,er));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},j1=function(){var t;(t=h(this,er))==null||t.abort(),_(this,er,null)},rv=function(){if(h(this,sr))return;_(this,sr,new AbortController);const t=this.combinedSignal(h(this,sr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},q1=function(){var t;(t=h(this,sr))==null||t.abort(),_(this,sr,null)},ov=function(){if(h(this,tr))return;_(this,tr,new AbortController);const t=this.combinedSignal(h(this,tr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},lv=function(){var t;(t=h(this,tr))==null||t.abort(),_(this,tr,null)},G1=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},xn=function(t){Object.entries(t).some(([i,a])=>h(this,td)[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,td),t)}),h(this,Je)===Dt.HIGHLIGHT&&t.hasSelectedEditor===!1&&T(this,rt,Ka).call(this,[[_t.HIGHLIGHT_FREE,!0]]))},Ka=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},V1=async function(){if(!h(this,ir)){_(this,ir,!0);const t=[];for(const e of h(this,ln).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,Ue).values())e.enable()}},X1=function(){if(this.unselectAll(),h(this,ir)){_(this,ir,!1);for(const t of h(this,ln).values())t.disable();for(const t of h(this,Ue).values())t.disable()}},cv=function(t){const e=h(this,ln).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Y1=function(){let t=null;for(t of h(this,Wt));return t},Ah=function(){if(h(this,Ue).size===0)return!0;if(h(this,Ue).size===1)for(const t of h(this,Ue).values())return t.isEmpty();return!1},uv=function(t){for(const e of h(this,Wt))e.unselect();h(this,Wt).clear();for(const e of t)e.isEmpty()||(h(this,Wt).add(e),e.select());T(this,rt,xn).call(this,{hasSelectedEditor:this.hasSelection})},Et(rc,"TRANSLATE_SMALL",1),Et(rc,"TRANSLATE_BIG",10);let sl=rc;var tn,cs,Ui,vc,us,ni,Ac,hs,Un,Ws,fo,ds,rr,Ki,Sh,Xp;const Rn=class Rn{constructor(t){C(this,Ki);C(this,tn,null);C(this,cs,!1);C(this,Ui,null);C(this,vc,null);C(this,us,null);C(this,ni,null);C(this,Ac,!1);C(this,hs,null);C(this,Un,null);C(this,Ws,null);C(this,fo,null);C(this,ds,!1);_(this,Un,t),_(this,ds,t._uiManager.useNewAltTextFlow),h(Rn,rr)||_(Rn,rr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Rn._l10n??(Rn._l10n=t)}async render(){const t=_(this,Ui,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=_(this,vc,document.createElement("span"));t.append(e),h(this,ds)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Rn,rr).missing),e.setAttribute("data-l10n-id",h(Rn,rr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=h(this,Un)._uiManager._signal;t.addEventListener("contextmenu",Li,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const a=o=>{o.preventDefault(),h(this,Un)._uiManager.editAltText(h(this,Un)),h(this,ds)&&h(this,Un)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Ki,Sh)}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(_(this,Ac,!0),a(o))},{signal:i}),await T(this,Ki,Xp).call(this),t}finish(){h(this,Ui)&&(h(this,Ui).focus({focusVisible:h(this,Ac)}),_(this,Ac,!1))}isEmpty(){return h(this,ds)?h(this,tn)===null:!h(this,tn)&&!h(this,cs)}hasData(){return h(this,ds)?h(this,tn)!==null||!!h(this,Ws):this.isEmpty()}get guessedText(){return h(this,Ws)}async setGuessedText(t){h(this,tn)===null&&(_(this,Ws,t),_(this,fo,await Rn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),T(this,Ki,Xp).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,ds)||h(this,tn)){(e=h(this,hs))==null||e.remove(),_(this,hs,null);return}if(!h(this,hs)){const i=_(this,hs,document.createElement("div"));i.className="noAltTextBadge",h(this,Un).div.append(i)}h(this,hs).classList.toggle("hidden",!t)}serialize(t){let e=h(this,tn);return!t&&h(this,Ws)===e&&(e=h(this,fo)),{altText:e,decorative:h(this,cs),guessedText:h(this,Ws),textWithDisclaimer:h(this,fo)}}get data(){return{altText:h(this,tn),decorative:h(this,cs)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:o=!1}){i&&(_(this,Ws,i),_(this,fo,a)),!(h(this,tn)===t&&h(this,cs)===e)&&(o||(_(this,tn,t),_(this,cs,e)),T(this,Ki,Xp).call(this))}toggle(t=!1){h(this,Ui)&&(!t&&h(this,ni)&&(clearTimeout(h(this,ni)),_(this,ni,null)),h(this,Ui).disabled=!t)}shown(){h(this,Un)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Ki,Sh)}})}destroy(){var t,e;(t=h(this,Ui))==null||t.remove(),_(this,Ui,null),_(this,vc,null),_(this,us,null),(e=h(this,hs))==null||e.remove(),_(this,hs,null)}};tn=new WeakMap,cs=new WeakMap,Ui=new WeakMap,vc=new WeakMap,us=new WeakMap,ni=new WeakMap,Ac=new WeakMap,hs=new WeakMap,Un=new WeakMap,Ws=new WeakMap,fo=new WeakMap,ds=new WeakMap,rr=new WeakMap,Ki=new WeakSet,Sh=function(){return h(this,tn)&&"added"||h(this,tn)===null&&this.guessedText&&"review"||"missing"},Xp=async function(){var a,o,u;const t=h(this,Ui);if(!t)return;if(h(this,ds)){if(t.classList.toggle("done",!!h(this,tn)),t.setAttribute("data-l10n-id",h(Rn,rr)[h(this,Ki,Sh)]),(a=h(this,vc))==null||a.setAttribute("data-l10n-id",h(Rn,rr)[`${h(this,Ki,Sh)}-label`]),!h(this,tn)){(o=h(this,us))==null||o.remove();return}}else{if(!h(this,tn)&&!h(this,cs)){t.classList.remove("done"),(u=h(this,us))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,us);if(!e){_(this,us,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,Un).id}`;const d=100,f=h(this,Un)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(h(this,ni)),_(this,ni,null)},{once:!0}),t.addEventListener("mouseenter",()=>{_(this,ni,setTimeout(()=>{_(this,ni,null),h(this,us).classList.add("show"),h(this,Un)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;h(this,ni)&&(clearTimeout(h(this,ni)),_(this,ni,null)),(p=h(this,us))==null||p.classList.remove("show")},{signal:f})}h(this,cs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,tn)),e.parentNode||t.append(e);const i=h(this,Un).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},C(Rn,rr,null),Et(Rn,"_l10n",null);let Ag=Rn;var po,Bi,ge,Sc,go,cn,mo,or,nd,yo,lr,id,bo,Qs,fs,Ec,_c,_i,sd,Mg,Ot,hv,ad,dv,fv,$1,K1,pv,gv,mv,W1,yv,Q1,Z1,J1,bv,Eh;const Yt=class Yt{constructor(t){C(this,Ot);C(this,po,null);C(this,Bi,null);C(this,ge,null);C(this,Sc,!1);C(this,go,!1);C(this,cn,null);C(this,mo,null);C(this,or,null);C(this,nd,"");C(this,yo,!1);C(this,lr,null);C(this,id,!1);C(this,bo,!1);C(this,Qs,!1);C(this,fs,null);C(this,Ec,0);C(this,_c,0);C(this,_i,null);Et(this,"_editToolbar",null);Et(this,"_initialOptions",Object.create(null));Et(this,"_initialData",null);Et(this,"_isVisible",!0);Et(this,"_uiManager",null);Et(this,"_focusEventsAllowed",!0);C(this,sd,!1);C(this,Mg,Yt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[o,u];const[d,f]=this.parentDimensions;this.x=t.x/d,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Yt.prototype._resizeWithKeyboard,e=sl.TRANSLATE_SMALL,i=sl.TRANSLATE_BIG;return It(this,"_resizerKeyboardManager",new cf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Yt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return It(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new KO({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Yt._l10n??(Yt._l10n=t),Yt._l10nResizer||(Yt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Yt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Yt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ce("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,sd)}set _isDraggable(t){var e;_(this,sd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,Mg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):T(this,Ot,Eh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,yo)?_(this,yo,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[o,u]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/o,this.y=(e+a)/u,this.fixAndSetPosition()}translate(t,e){T(this,Ot,hv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,lr)||_(this,lr,[this.x,this.y]),T(this,Ot,hv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,lr)||_(this,lr,[this.x,this.y]);const[i,a]=this.parentDimensions;if(this.x+=t/i,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[d,f]=this.getBaseTranslation();o+=d,u+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,lr)&&(h(this,lr)[0]!==this.x||h(this,lr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=Yt,a=i/t,o=i/e;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,i]=this.pageDimensions;let{x:a,y:o,width:u,height:d}=this;if(u*=e,d*=i,a*=e,o*=i,this._mustFixPosition)switch(t){case 0:a=Math.max(0,Math.min(e-u,a)),o=Math.max(0,Math.min(i-d,o));break;case 90:a=Math.max(0,Math.min(e-d,a)),o=Math.min(i,Math.max(u,o));break;case 180:a=Math.min(e,Math.max(u,a)),o=Math.min(i,Math.max(d,o));break;case 270:a=Math.min(e,Math.max(d,a)),o=Math.max(0,Math.min(i-u,o));break}this.x=a/=e,this.y=o/=i;const[f,p]=this.getBaseTranslation();a+=f,o+=p;const{style:m}=this.div;m.left=`${(100*a).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return T(i=Yt,ad,dv).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return T(i=Yt,ad,dv).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,a]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,h(this,go)||(this.div.style.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,a=i.endsWith("%"),o=!h(this,go)&&e.endsWith("%");if(a&&o)return;const[u,d]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/u).toFixed(2)}%`),!h(this,go)&&!o&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,ge))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,bo)?this._editToolbar:(this._editToolbar=new ev(this),this.div.append(this._editToolbar.render()),h(this,ge)&&await this._editToolbar.addAltText(h(this,ge)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,ge))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,ge)||(Ag.initialize(Yt._l10n),_(this,ge,new Ag(this)),h(this,po)&&(h(this,ge).data=h(this,po),_(this,po,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,ge))==null?void 0:t.data}set altTextData(t){h(this,ge)&&(h(this,ge).data=t)}get guessedAltText(){var t;return(t=h(this,ge))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,ge))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,ge))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,ge)&&!h(this,ge).isEmpty()}hasAltTextData(){var t;return((t=h(this,ge))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Sc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),T(this,Ot,yv).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),vg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Mn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(_(this,yo,!0),this._isDraggable){T(this,Ot,W1).call(this,t);return}T(this,Ot,mv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,fs)&&clearTimeout(h(this,fs)),_(this,fs,setTimeout(()=>{var t;_(this,fs,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){const a=this.parentScale,[o,u]=this.pageDimensions,[d,f]=this.pageTranslation,p=t/a,m=e/a,b=this.x*o,v=this.y*u,S=this.width*o,A=this.height*u;switch(i){case 0:return[b+p+d,u-v-m-A+f,b+p+S+d,u-v-m+f];case 90:return[b+m+d,u-v+p+f,b+m+A+d,u-v+p+S+f];case 180:return[b-p-S+d,u-v+m+f,b-p+d,u-v+m+A+f];case 270:return[b-m-A+d,u-v-p-S+f,b-m+d,u-v-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,o,u]=t,d=o-i,f=u-a;switch(this.rotation){case 0:return[i,e-u,d,f];case 90:return[i,e-a,f,d];case 180:return[o,e-a,d,f];case 270:return[o,e-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,bo,!0)}disableEditMode(){_(this,bo,!1)}isInEditMode(){return h(this,bo)}shouldGetKeyboardEvents(){return h(this,Qs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){T(this,Ot,yv).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ce("An editor must be serializable")}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});a.rotation=t.rotation,_(a,po,t.accessibilityData);const[o,u]=a.pageDimensions,[d,f,p,m]=a.getRectInCurrentCoords(t.rect,u);return a.x=d/o,a.y=f/u,a.width=p/o,a.height=m/u,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,or))==null||t.abort(),_(this,or,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,fs)&&(clearTimeout(h(this,fs)),_(this,fs,null)),T(this,Ot,Eh).call(this),this.removeEditToolbar(),h(this,_i)){for(const e of h(this,_i).values())clearTimeout(e);_(this,_i,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(T(this,Ot,$1).call(this),h(this,cn).classList.remove("hidden"),vg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),_(this,mo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,cn).children;if(!h(this,Bi)){_(this,Bi,Array.from(e));const u=T(this,Ot,Q1).bind(this),d=T(this,Ot,Z1).bind(this),f=this._uiManager._signal;for(const p of h(this,Bi)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:f}),p.addEventListener("blur",d,{signal:f}),p.addEventListener("focus",T(this,Ot,J1).bind(this,m),{signal:f}),p.setAttribute("data-l10n-id",Yt._l10nResizer[m])}}const i=h(this,Bi)[0];let a=0;for(const u of e){if(u===i)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(h(this,Bi).length/4);if(o!==a){if(o<a)for(let d=0;d<a-o;d++)h(this,cn).append(h(this,cn).firstChild);else if(o>a)for(let d=0;d<o-a;d++)h(this,cn).firstChild.before(h(this,cn).lastChild);let u=0;for(const d of e){const p=h(this,Bi)[u++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",Yt._l10nResizer[p])}}T(this,Ot,bv).call(this,0),_(this,Qs,!0),h(this,cn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Qs)&&T(this,Ot,gv).call(this,h(this,nd),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){T(this,Ot,Eh).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,o;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(i=h(this,ge))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,a,o;(t=h(this,cn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(o=h(this,ge))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,id)}set isEditing(t){_(this,id,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){_(this,go,!0);const i=t/e,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,_i)||_(this,_i,new Map);const{action:i}=t;let a=h(this,_i).get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),h(this,_i).delete(i),h(this,_i).size===0&&_(this,_i,null)},Yt._telemetryTimeout),h(this,_i).set(i,a);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),_(this,Sc,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Sc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};po=new WeakMap,Bi=new WeakMap,ge=new WeakMap,Sc=new WeakMap,go=new WeakMap,cn=new WeakMap,mo=new WeakMap,or=new WeakMap,nd=new WeakMap,yo=new WeakMap,lr=new WeakMap,id=new WeakMap,bo=new WeakMap,Qs=new WeakMap,fs=new WeakMap,Ec=new WeakMap,_c=new WeakMap,_i=new WeakMap,sd=new WeakMap,Mg=new WeakMap,Ot=new WeakSet,hv=function([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this.fixAndSetPosition()},ad=new WeakSet,dv=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},fv=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},$1=function(){if(h(this,cn))return;_(this,cn,document.createElement("div")),h(this,cn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");h(this,cn).append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",T(this,Ot,K1).bind(this,i),{signal:e}),a.addEventListener("contextmenu",Li,{signal:e}),a.tabIndex=-1}this.div.prepend(h(this,cn))},K1=function(t,e){var A;e.preventDefault();const{isMac:i}=Mn.platform;if(e.button!==0||e.ctrlKey&&i)return;(A=h(this,ge))==null||A.toggle(!1);const a=this._isDraggable;this._isDraggable=!1;const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",T(this,Ot,gv).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",Li,{signal:u});const d=this.x,f=this.y,p=this.width,m=this.height,b=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const S=()=>{var w;o.abort(),this.parent.togglePointerEvents(!0),(w=h(this,ge))==null||w.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=b,this.div.style.cursor=v,T(this,Ot,pv).call(this,d,f,p,m)};window.addEventListener("pointerup",S,{signal:u}),window.addEventListener("blur",S,{signal:u})},pv=function(t,e,i,a){const o=this.x,u=this.y,d=this.width,f=this.height;o===t&&u===e&&d===i&&f===a||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=o,this.y=u;const[p,m]=this.parentDimensions;this.setDims(p*d,m*f),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=a,this.x=t,this.y=e;const[p,m]=this.parentDimensions;this.setDims(p*i,m*a),this.fixAndSetPosition()},mustExec:!0})},gv=function(t,e){const[i,a]=this.parentDimensions,o=this.x,u=this.y,d=this.width,f=this.height,p=Yt.MIN_SIZE/i,m=Yt.MIN_SIZE/a,b=Y=>Math.round(Y*1e4)/1e4,v=T(this,Ot,fv).call(this,this.rotation),S=(Y,J)=>[v[0]*Y+v[2]*J,v[1]*Y+v[3]*J],A=T(this,Ot,fv).call(this,360-this.rotation),w=(Y,J)=>[A[0]*Y+A[2]*J,A[1]*Y+A[3]*J];let M,x,L=!1,O=!1;switch(t){case"topLeft":L=!0,M=(Y,J)=>[0,0],x=(Y,J)=>[Y,J];break;case"topMiddle":M=(Y,J)=>[Y/2,0],x=(Y,J)=>[Y/2,J];break;case"topRight":L=!0,M=(Y,J)=>[Y,0],x=(Y,J)=>[0,J];break;case"middleRight":O=!0,M=(Y,J)=>[Y,J/2],x=(Y,J)=>[0,J/2];break;case"bottomRight":L=!0,M=(Y,J)=>[Y,J],x=(Y,J)=>[0,0];break;case"bottomMiddle":M=(Y,J)=>[Y/2,J],x=(Y,J)=>[Y/2,0];break;case"bottomLeft":L=!0,M=(Y,J)=>[0,J],x=(Y,J)=>[Y,0];break;case"middleLeft":O=!0,M=(Y,J)=>[0,J/2],x=(Y,J)=>[Y,J/2];break}const P=M(d,f),F=x(d,f);let j=S(...F);const V=b(o+j[0]),W=b(u+j[1]);let tt=1,at=1,[st,gt]=this.screenToPageTranslation(e.movementX,e.movementY);if([st,gt]=w(st/i,gt/a),L){const Y=Math.hypot(d,f);tt=at=Math.max(Math.min(Math.hypot(F[0]-P[0]-st,F[1]-P[1]-gt)/Y,1/d,1/f),p/d,m/f)}else O?tt=Math.max(p,Math.min(1,Math.abs(F[0]-P[0]-st)))/d:at=Math.max(m,Math.min(1,Math.abs(F[1]-P[1]-gt)))/f;const bt=b(d*tt),ft=b(f*at);j=S(...x(bt,ft));const ht=V-j[0],B=W-j[1];this.width=bt,this.height=ft,this.x=ht,this.y=B,this.setDims(i*bt,a*ft),this.fixAndSetPosition()},mv=function(t){const{isMac:e}=Mn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},W1=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,a=this._uiManager.combinedSignal(i);if(e){this.div.classList.add("moving"),_(this,Ec,t.clientX),_(this,_c,t.clientY);const u=d=>{const{clientX:f,clientY:p}=d,[m,b]=this.screenToPageTranslation(f-h(this,Ec),p-h(this,_c));_(this,Ec,f),_(this,_c,p),this._uiManager.dragSelectedEditors(m,b)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:a})}const o=()=>{i.abort(),e&&this.div.classList.remove("moving"),_(this,yo,!1),this._uiManager.endDragSession()||T(this,Ot,mv).call(this,t)};window.addEventListener("pointerup",o,{signal:a}),window.addEventListener("blur",o,{signal:a})},yv=function(){if(h(this,or)||!this.div)return;_(this,or,new AbortController);const t=this._uiManager.combinedSignal(h(this,or));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Q1=function(t){Yt._resizerKeyboardManager.exec(this,t)},Z1=function(t){var e;h(this,Qs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,cn)&&T(this,Ot,Eh).call(this)},J1=function(t){_(this,nd,h(this,Qs)?t:"")},bv=function(t){if(h(this,Bi))for(const e of h(this,Bi))e.tabIndex=t},Eh=function(){if(_(this,Qs,!1),T(this,Ot,bv).call(this,-1),h(this,mo)){const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=h(this,mo);T(this,Ot,pv).call(this,t,e,i,a),_(this,mo,null)}},C(Yt,ad),Et(Yt,"_l10n",null),Et(Yt,"_l10nResizer",null),Et(Yt,"_borderLineWidth",-1),Et(Yt,"_colorManager",new sv),Et(Yt,"_zIndex",1),Et(Yt,"_telemetryTimeout",1e3);let Zt=Yt;class KO extends Zt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dw=3285377520,Si=4294901760,ss=65535;class tT{constructor(t){this.h1=t?t&4294967295:dw,this.h2=t?t&4294967295:dw}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let w=0,M=t.length;w<M;w++){const x=t.charCodeAt(w);x<=255?e[i++]=x:(e[i++]=x>>>8,e[i++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,o=i-a*4,u=new Uint32Array(e.buffer,0,a);let d=0,f=0,p=this.h1,m=this.h2;const b=3432918353,v=461845907,S=b&ss,A=v&ss;for(let w=0;w<a;w++)w&1?(d=u[w],d=d*b&Si|d*S&ss,d=d<<15|d>>>17,d=d*v&Si|d*A&ss,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(f=u[w],f=f*b&Si|f*S&ss,f=f<<15|f>>>17,f=f*v&Si|f*A&ss,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=e[a*4+2]<<16;case 2:d^=e[a*4+1]<<8;case 1:d^=e[a*4],d=d*b&Si|d*S&ss,d=d<<15|d>>>17,d=d*v&Si|d*A&ss,a&1?p^=d:m^=d}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Si|t*36045&ss,e=e*4283543511&Si|((e<<16|t>>>16)*2950163797&Si)>>>16,t^=e>>>1,t=t*444984403&Si|t*60499&ss,e=e*3301882366&Si|((e<<16|t>>>16)*3120437893&Si)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const vv=Object.freeze({map:null,hash:"",transfer:void 0});var vo,Ao,en,Lg,eT;class O0{constructor(){C(this,Lg);C(this,vo,!1);C(this,Ao,null);C(this,en,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=h(this,en).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return h(this,en).get(t)}remove(t){if(h(this,en).delete(t),h(this,en).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,en).values())if(e instanceof Zt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=h(this,en).get(t);let a=!1;if(i!==void 0)for(const[o,u]of Object.entries(e))i[o]!==u&&(a=!0,i[o]=u);else a=!0,h(this,en).set(t,e);a&&T(this,Lg,eT).call(this),e instanceof Zt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,en).has(t)}getAll(){return h(this,en).size>0?x0(h(this,en)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return h(this,en).size}resetModified(){h(this,vo)&&(_(this,vo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new nT(this)}get serializable(){if(h(this,en).size===0)return vv;const t=new Map,e=new tT,i=[],a=Object.create(null);let o=!1;for(const[u,d]of h(this,en)){const f=d instanceof Zt?d.serialize(!1,a):d;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const u of t.values())u.bitmap&&i.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:vv}get editorStats(){let t=null;const e=new Map;for(const i of h(this,en).values()){if(!(i instanceof Zt))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:o}=a;e.has(o)||e.set(o,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const u=t[o]||(t[o]=new Map);for(const[d,f]of Object.entries(a)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const m=p.get(f)??0;p.set(f,m+1)}}for(const[i,a]of e)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){_(this,Ao,null)}get modifiedIds(){if(h(this,Ao))return h(this,Ao);const t=[];for(const e of h(this,en).values())!(e instanceof Zt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return _(this,Ao,{ids:new Set(t),hash:t.join(",")})}}vo=new WeakMap,Ao=new WeakMap,en=new WeakMap,Lg=new WeakSet,eT=function(){h(this,vo)||(_(this,vo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var rd;class nT extends O0{constructor(e){super();C(this,rd);const{map:i,hash:a,transfer:o}=e.serializable,u=structuredClone(i,o?{transfer:o}:null);_(this,rd,{map:u,hash:a,transfer:o})}get print(){ce("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,rd)}get modifiedIds(){return It(this,"modifiedIds",{ids:new Set,hash:""})}}rd=new WeakMap;var wc;class WO{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){C(this,wc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,wc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,wc).has(t.loadedName))){if(je(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:o}=t,u=new FontFace(i,a,o);this.addNativeFontFace(u);try{await u.load(),h(this,wc).add(i),e==null||e(t)}catch{kt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ce("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw kt(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return It(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(_n||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),It(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(je(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return It(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(P,F){return P.charCodeAt(F)<<24|P.charCodeAt(F+1)<<16|P.charCodeAt(F+2)<<8|P.charCodeAt(F+3)&255}function a(P,F,j,V){const W=P.substring(0,F),tt=P.substring(F+j);return W+V+tt}let o,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let p=0;function m(P,F){if(++p>30){kt("Load test font never loaded."),F();return}if(f.font="30px "+P,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(m.bind(null,P,F))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,b.length,b);const A=16,w=1482184792;let M=i(v,A);for(o=0,u=b.length-3;o<u;o+=4)M=M-w+i(b,o)|0;o<b.length&&(M=M-w+i(b+"XXX",o)|0),v=a(v,A,4,kO(M));const x=`url(data:font/opentype;base64,${btoa(v)});`,L=`@font-face {font-family:"${b}";src:${x}}`;this.insertRule(L);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const P of[t.loadedName,b]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=P,O.append(F)}this._document.body.append(O),m(b,()=>{O.remove(),e.complete()})}}wc=new WeakMap;class QO{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const a in t)this[a]=t[a];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${BO(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(o){kt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(o,u){};const a=[];for(let o=0,u=i.length;o<u;)switch(i[o++]){case js.BEZIER_CURVE_TO:{const[d,f,p,m,b,v]=i.slice(o,o+6);a.push(S=>S.bezierCurveTo(d,f,p,m,b,v)),o+=6}break;case js.MOVE_TO:{const[d,f]=i.slice(o,o+2);a.push(p=>p.moveTo(d,f)),o+=2}break;case js.LINE_TO:{const[d,f]=i.slice(o,o+2);a.push(p=>p.lineTo(d,f)),o+=2}break;case js.QUADRATIC_CURVE_TO:{const[d,f,p,m]=i.slice(o,o+4);a.push(b=>b.quadraticCurveTo(d,f,p,m)),o+=4}break;case js.RESTORE:a.push(d=>d.restore());break;case js.SAVE:a.push(d=>d.save());break;case js.SCALE:je(a.length===2,"Scale command is only valid at the third position.");break;case js.TRANSFORM:{const[d,f,p,m,b,v]=i.slice(o,o+6);a.push(S=>S.transform(d,f,p,m,b,v)),o+=6}break;case js.TRANSLATE:{const[d,f]=i.slice(o,o+2);a.push(p=>p.translate(d,f)),o+=2}break}return this.compiledGlyphs[e]=function(u,d){a[0](u),a[1](u),u.scale(d,-d);for(let f=2,p=a.length;f<p;f++)a[f](u)}}}var od;class iT{constructor({enableHWA:t=!1}){C(this,od,!1);_(this,od,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!h(this,od)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ce("Abstract method `_createCanvas` called.")}}od=new WeakMap;class ZO extends iT{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class sT{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ce("Abstract method `_fetch` called.")}}class aT extends sT{async _fetch(t){const e=await em(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):tm(e)}}class rT{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,o){return"none"}destroy(t=!1){}}var So,Eo,ps,Zs,bn,Dg,_o,ot,mn,Zl,Jl,Yp,tc,oT,Av,ec,_h,wh,Sv,Th;class JO extends rT{constructor({docId:e,ownerDocument:i=globalThis.document}){super();C(this,ot);C(this,So);C(this,Eo);C(this,ps);C(this,Zs);C(this,bn);C(this,Dg);C(this,_o,0);_(this,Zs,e),_(this,bn,i)}addFilter(e){if(!e)return"none";let i=h(this,ot,mn).get(e);if(i)return i;const[a,o,u]=T(this,ot,Yp).call(this,e),d=e.length===1?a:`${a}${o}${u}`;if(i=h(this,ot,mn).get(d),i)return h(this,ot,mn).set(e,i),i;const f=`g_${h(this,Zs)}_transfer_map_${Tn(this,_o)._++}`,p=T(this,ot,tc).call(this,f);h(this,ot,mn).set(e,p),h(this,ot,mn).set(d,p);const m=T(this,ot,ec).call(this,f);return T(this,ot,wh).call(this,a,o,u,m),p}addHCMFilter(e,i){var A;const a=`${e}-${i}`,o="base";let u=h(this,ot,Zl).get(o);if((u==null?void 0:u.key)===a||(u?((A=u.filter)==null||A.remove(),u.key=a,u.url="none",u.filter=null):(u={key:a,url:"none",filter:null},h(this,ot,Zl).set(o,u)),!e||!i))return u.url;const d=T(this,ot,Th).call(this,e);e=dt.makeHexColor(...d);const f=T(this,ot,Th).call(this,i);if(i=dt.makeHexColor(...f),h(this,ot,Jl).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return u.url;const p=new Array(256);for(let w=0;w<=255;w++){const M=w/255;p[w]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=p.join(","),b=`g_${h(this,Zs)}_hcm_filter`,v=u.filter=T(this,ot,ec).call(this,b);T(this,ot,wh).call(this,m,m,m,v),T(this,ot,Av).call(this,v);const S=(w,M)=>{const x=d[w]/255,L=f[w]/255,O=new Array(M+1);for(let P=0;P<=M;P++)O[P]=x+P/M*(L-x);return O.join(",")};return T(this,ot,wh).call(this,S(0,5),S(1,5),S(2,5),v),u.url=T(this,ot,tc).call(this,b),u.url}addAlphaFilter(e){let i=h(this,ot,mn).get(e);if(i)return i;const[a]=T(this,ot,Yp).call(this,[e]),o=`alpha_${a}`;if(i=h(this,ot,mn).get(o),i)return h(this,ot,mn).set(e,i),i;const u=`g_${h(this,Zs)}_alpha_map_${Tn(this,_o)._++}`,d=T(this,ot,tc).call(this,u);h(this,ot,mn).set(e,d),h(this,ot,mn).set(o,d);const f=T(this,ot,ec).call(this,u);return T(this,ot,Sv).call(this,a,f),d}addLuminosityFilter(e){let i=h(this,ot,mn).get(e||"luminosity");if(i)return i;let a,o;if(e?([a]=T(this,ot,Yp).call(this,[e]),o=`luminosity_${a}`):o="luminosity",i=h(this,ot,mn).get(o),i)return h(this,ot,mn).set(e,i),i;const u=`g_${h(this,Zs)}_luminosity_map_${Tn(this,_o)._++}`,d=T(this,ot,tc).call(this,u);h(this,ot,mn).set(e,d),h(this,ot,mn).set(o,d);const f=T(this,ot,ec).call(this,u);return T(this,ot,oT).call(this,f),e&&T(this,ot,Sv).call(this,a,f),d}addHighlightHCMFilter(e,i,a,o,u){var L;const d=`${i}-${a}-${o}-${u}`;let f=h(this,ot,Zl).get(e);if((f==null?void 0:f.key)===d||(f?((L=f.filter)==null||L.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},h(this,ot,Zl).set(e,f)),!i||!a))return f.url;const[p,m]=[i,a].map(T(this,ot,Th).bind(this));let b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[S,A]=[o,u].map(T(this,ot,Th).bind(this));v<b&&([b,v,S,A]=[v,b,A,S]),h(this,ot,Jl).style.color="";const w=(O,P,F)=>{const j=new Array(256),V=(v-b)/F,W=O/255,tt=(P-O)/(255*F);let at=0;for(let st=0;st<=F;st++){const gt=Math.round(b+st*V),bt=W+st*tt;for(let ft=at;ft<=gt;ft++)j[ft]=bt;at=gt+1}for(let st=at;st<256;st++)j[st]=j[at-1];return j.join(",")},M=`g_${h(this,Zs)}_hcm_${e}_filter`,x=f.filter=T(this,ot,ec).call(this,M);return T(this,ot,Av).call(this,x),T(this,ot,wh).call(this,w(S[0],A[0],5),w(S[1],A[1],5),w(S[2],A[2],5),x),f.url=T(this,ot,tc).call(this,M),f.url}destroy(e=!1){e&&h(this,ot,Zl).size!==0||(h(this,ps)&&(h(this,ps).parentNode.parentNode.remove(),_(this,ps,null)),h(this,Eo)&&(h(this,Eo).clear(),_(this,Eo,null)),_(this,_o,0))}}So=new WeakMap,Eo=new WeakMap,ps=new WeakMap,Zs=new WeakMap,bn=new WeakMap,Dg=new WeakMap,_o=new WeakMap,ot=new WeakSet,mn=function(){return h(this,Eo)||_(this,Eo,new Map)},Zl=function(){return h(this,Dg)||_(this,Dg,new Map)},Jl=function(){if(!h(this,ps)){const e=h(this,bn).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const a=h(this,bn).createElementNS(Gs,"svg");a.setAttribute("width",0),a.setAttribute("height",0),_(this,ps,h(this,bn).createElementNS(Gs,"defs")),e.append(a),a.append(h(this,ps)),h(this,bn).body.append(e)}return h(this,ps)},Yp=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=p[v]/255;const b=m.join(",");return[b,b,b]}const[i,a,o]=e,u=new Array(256),d=new Array(256),f=new Array(256);for(let p=0;p<256;p++)u[p]=i[p]/255,d[p]=a[p]/255,f[p]=o[p]/255;return[u.join(","),d.join(","),f.join(",")]},tc=function(e){if(h(this,So)===void 0){_(this,So,"");const i=h(this,bn).URL;i!==h(this,bn).baseURI&&(nm(i)?kt('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,So,i.split("#",1)[0]))}return`url(${h(this,So)}#${e})`},oT=function(e){const i=h(this,bn).createElementNS(Gs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},Av=function(e){const i=h(this,bn).createElementNS(Gs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},ec=function(e){const i=h(this,bn).createElementNS(Gs,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),h(this,ot,Jl).append(i),i},_h=function(e,i,a){const o=h(this,bn).createElementNS(Gs,i);o.setAttribute("type","discrete"),o.setAttribute("tableValues",a),e.append(o)},wh=function(e,i,a,o){const u=h(this,bn).createElementNS(Gs,"feComponentTransfer");o.append(u),T(this,ot,_h).call(this,u,"feFuncR",e),T(this,ot,_h).call(this,u,"feFuncG",i),T(this,ot,_h).call(this,u,"feFuncB",a)},Sv=function(e,i){const a=h(this,bn).createElementNS(Gs,"feComponentTransfer");i.append(a),T(this,ot,_h).call(this,a,"feFuncA",e)},Th=function(e){return h(this,ot,Jl).style.color=e,D0(getComputedStyle(h(this,ot,Jl)).getPropertyValue("color"))};class lT{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ce("Abstract method `_fetch` called.")}}class cT extends lT{async _fetch(t){const e=await em(t,"arraybuffer");return new Uint8Array(e)}}if(_n){var Ev=Promise.withResolvers(),Fh=null;(async()=>{const t=await Mp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Mp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Mp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await Mp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,u;return new Map(Object.entries({fs:t,http:e,https:i,url:a,canvas:o,path2d:u}))})().then(t=>{Fh=t,Ev.resolve()},t=>{kt(`loadPackages: ${t}`),Fh=new Map,Ev.resolve()})}class xr{static get promise(){return Ev.promise}static get(t){return Fh==null?void 0:Fh.get(t)}}async function uT(l){const e=await xr.get("fs").promises.readFile(l);return new Uint8Array(e)}class t2 extends rT{}class e2 extends iT{_createCanvas(t,e){return xr.get("canvas").createCanvas(t,e)}}class n2 extends sT{async _fetch(t){return uT(t)}}class i2 extends lT{async _fetch(t){return uT(t)}}const Cn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function _v(l,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),l.clip(a)}class N0{getPattern(){ce("Abstract method `getPattern` called.")}}class s2 extends N0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let o;if(a===Cn.STROKE||a===Cn.FILL){const u=e.current.getClippedPathBoundingBox(a,ye(t))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",d,f),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-u[0],-u[1]),i=dt.transform(i,[1,0,0,1,u[0],u[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),_v(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(p.canvas,"no-repeat");const b=new DOMMatrix(i);o.setTransform(b)}else _v(t,this._bbox),o=this._createGradient(t);return o}}function Hb(l,t,e,i,a,o,u,d){const f=t.coords,p=t.colors,m=l.data,b=l.width*4;let v;f[e+1]>f[i+1]&&(v=e,e=i,i=v,v=o,o=u,u=v),f[i+1]>f[a+1]&&(v=i,i=a,a=v,v=u,u=d,d=v),f[e+1]>f[i+1]&&(v=e,e=i,i=v,v=o,o=u,u=v);const S=(f[e]+t.offsetX)*t.scaleX,A=(f[e+1]+t.offsetY)*t.scaleY,w=(f[i]+t.offsetX)*t.scaleX,M=(f[i+1]+t.offsetY)*t.scaleY,x=(f[a]+t.offsetX)*t.scaleX,L=(f[a+1]+t.offsetY)*t.scaleY;if(A>=L)return;const O=p[o],P=p[o+1],F=p[o+2],j=p[u],V=p[u+1],W=p[u+2],tt=p[d],at=p[d+1],st=p[d+2],gt=Math.round(A),bt=Math.round(L);let ft,ht,B,Y,J,wt,N,K;for(let nt=gt;nt<=bt;nt++){if(nt<M){const xt=nt<A?0:(A-nt)/(A-M);ft=S-(S-w)*xt,ht=O-(O-j)*xt,B=P-(P-V)*xt,Y=F-(F-W)*xt}else{let xt;nt>L?xt=1:M===L?xt=0:xt=(M-nt)/(M-L),ft=w-(w-x)*xt,ht=j-(j-tt)*xt,B=V-(V-at)*xt,Y=W-(W-st)*xt}let et;nt<A?et=0:nt>L?et=1:et=(A-nt)/(A-L),J=S-(S-x)*et,wt=O-(O-tt)*et,N=P-(P-at)*et,K=F-(F-st)*et;const lt=Math.round(Math.min(ft,J)),Tt=Math.round(Math.max(ft,J));let ct=b*nt+lt*4;for(let xt=lt;xt<=Tt;xt++)et=(ft-xt)/(ft-J),et<0?et=0:et>1&&(et=1),m[ct++]=ht-(ht-wt)*et|0,m[ct++]=B-(B-N)*et|0,m[ct++]=Y-(Y-K)*et|0,m[ct++]=255}}function a2(l,t,e){const i=t.coords,a=t.colors;let o,u;switch(t.type){case"lattice":const d=t.verticesPerRow,f=Math.floor(i.length/d)-1,p=d-1;for(o=0;o<f;o++){let m=o*d;for(let b=0;b<p;b++,m++)Hb(l,e,i[m],i[m+1],i[m+d],a[m],a[m+1],a[m+d]),Hb(l,e,i[m+d+1],i[m+1],i[m+d],a[m+d+1],a[m+1],a[m+d])}break;case"triangles":for(o=0,u=i.length;o<u;o+=3)Hb(l,e,i[o],i[o+1],i[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class r2 extends N0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),S=p/b,A=m/v,w={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/S,scaleY:1/A},M=b+2*2,x=v+2*2,L=i.getCanvas("mesh",M,x),O=L.context,P=O.createImageData(b,v);if(e){const j=P.data;for(let V=0,W=j.length;V<W;V+=4)j[V]=e[0],j[V+1]=e[1],j[V+2]=e[2],j[V+3]=255}for(const j of this._figures)a2(P,j,w);return O.putImageData(P,2,2),{canvas:L.canvas,offsetX:d-2*S,offsetY:f-2*A,scaleX:S,scaleY:A}}getPattern(t,e,i,a){_v(t,this._bbox);let o;if(a===Cn.SHADING)o=dt.singularValueDecompose2dScale(ye(t));else if(o=dt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=dt.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const u=this._createMeshCanvas(o,a===Cn.SHADING?null:this._background,e.cachedCanvases);return a!==Cn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class o2 extends N0{getPattern(){return"hotpink"}}function l2(l){switch(l[0]){case"RadialAxial":return new s2(l);case"Mesh":return new r2(l);case"Dummy":return new o2}throw new Error(`Unknown IR type: ${l[0]}`)}const fw={COLORED:1,UNCOLORED:2},Og=class Og{constructor(t,e,i,a,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=a,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:a,tilingType:o,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Zg("TilingType: "+o);const m=e[0],b=e[1],v=e[2],S=e[3],A=v-m,w=S-b,M=dt.singularValueDecompose2dScale(this.matrix),x=dt.singularValueDecompose2dScale(this.baseTransform),L=M[0]*x[0],O=M[1]*x[1];let P=A,F=w,j=!1,V=!1;const W=Math.ceil(f*L),tt=Math.ceil(p*O),at=Math.ceil(A*L),st=Math.ceil(w*O);W>=at?P=f:j=!0,tt>=st?F=p:V=!0;const gt=this.getSizeAndScale(P,this.ctx.canvas.width,L),bt=this.getSizeAndScale(F,this.ctx.canvas.height,O),ft=t.cachedCanvases.getCanvas("pattern",gt.size,bt.size),ht=ft.context,B=d.createCanvasGraphics(ht);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,a,u),ht.translate(-gt.scale*m,-bt.scale*b),B.transform(gt.scale,0,0,bt.scale,0,0),ht.save(),this.clipBbox(B,m,b,v,S),B.baseTransform=ye(B.ctx),B.executeOperatorList(i),B.endDrawing(),ht.restore(),j||V){const Y=ft.canvas;j&&(P=f),V&&(F=p);const J=this.getSizeAndScale(P,this.ctx.canvas.width,L),wt=this.getSizeAndScale(F,this.ctx.canvas.height,O),N=J.size,K=wt.size,nt=t.cachedCanvases.getCanvas("pattern-workaround",N,K),et=nt.context,lt=j?Math.floor(A/f):0,Tt=V?Math.floor(w/p):0;for(let ct=0;ct<=lt;ct++)for(let xt=0;xt<=Tt;xt++)et.drawImage(Y,N*ct,K*xt,N,K,0,0,N,K);return{canvas:nt.canvas,scaleX:J.scale,scaleY:wt.scale,offsetX:m,offsetY:b}}return{canvas:ft.canvas,scaleX:gt.scale,scaleY:bt.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,i){const a=Math.max(Og.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=a?o=a:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,a,o){const u=a-e,d=o-i;t.ctx.rect(e,i,u,d),t.current.updateRectMinMax(ye(t.ctx),[e,i,a,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,o=t.current;switch(e){case fw.COLORED:const u=this.ctx;a.fillStyle=u.fillStyle,a.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case fw.UNCOLORED:const d=dt.makeHexColor(i[0],i[1],i[2]);a.fillStyle=d,a.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new NO(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,a){let o=i;a!==Cn.SHADING&&(o=dt.transform(o,e.baseTransform),this.matrix&&(o=dt.transform(o,this.matrix)));const u=this.createPatternCanvas(e);let d=new DOMMatrix(o);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};Et(Og,"MAX_PATTERN_SIZE",3e3);let wv=Og;function c2({src:l,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const d=Mn.isLittleEndian?4278190080:255,[f,p]=u?[o,d]:[d,o],m=i>>3,b=i&7,v=l.length;e=new Uint32Array(e.buffer);let S=0;for(let A=0;A<a;A++){for(const M=t+m;t<M;t++){const x=t<v?l[t]:255;e[S++]=x&128?p:f,e[S++]=x&64?p:f,e[S++]=x&32?p:f,e[S++]=x&16?p:f,e[S++]=x&8?p:f,e[S++]=x&4?p:f,e[S++]=x&2?p:f,e[S++]=x&1?p:f}if(b===0)continue;const w=t<v?l[t++]:255;for(let M=0;M<b;M++)e[S++]=w&1<<7-M?p:f}return{srcPos:t,destPos:S}}const pw=16,gw=100,u2=15,mw=10,yw=1e3,jn=16;function h2(l,t){if(l._removeMirroring)throw new Error("Context is already forwarding operations.");l.__originalSave=l.save,l.__originalRestore=l.restore,l.__originalRotate=l.rotate,l.__originalScale=l.scale,l.__originalTranslate=l.translate,l.__originalTransform=l.transform,l.__originalSetTransform=l.setTransform,l.__originalResetTransform=l.resetTransform,l.__originalClip=l.clip,l.__originalMoveTo=l.moveTo,l.__originalLineTo=l.lineTo,l.__originalBezierCurveTo=l.bezierCurveTo,l.__originalRect=l.rect,l.__originalClosePath=l.closePath,l.__originalBeginPath=l.beginPath,l._removeMirroring=()=>{l.save=l.__originalSave,l.restore=l.__originalRestore,l.rotate=l.__originalRotate,l.scale=l.__originalScale,l.translate=l.__originalTranslate,l.transform=l.__originalTransform,l.setTransform=l.__originalSetTransform,l.resetTransform=l.__originalResetTransform,l.clip=l.__originalClip,l.moveTo=l.__originalMoveTo,l.lineTo=l.__originalLineTo,l.bezierCurveTo=l.__originalBezierCurveTo,l.rect=l.__originalRect,l.closePath=l.__originalClosePath,l.beginPath=l.__originalBeginPath,delete l._removeMirroring},l.save=function(){t.save(),this.__originalSave()},l.restore=function(){t.restore(),this.__originalRestore()},l.translate=function(i,a){t.translate(i,a),this.__originalTranslate(i,a)},l.scale=function(i,a){t.scale(i,a),this.__originalScale(i,a)},l.transform=function(i,a,o,u,d,f){t.transform(i,a,o,u,d,f),this.__originalTransform(i,a,o,u,d,f)},l.setTransform=function(i,a,o,u,d,f){t.setTransform(i,a,o,u,d,f),this.__originalSetTransform(i,a,o,u,d,f)},l.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},l.rotate=function(i){t.rotate(i),this.__originalRotate(i)},l.clip=function(i){t.clip(i),this.__originalClip(i)},l.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},l.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},l.bezierCurveTo=function(e,i,a,o,u,d){t.bezierCurveTo(e,i,a,o,u,d),this.__originalBezierCurveTo(e,i,a,o,u,d)},l.rect=function(e,i,a,o){t.rect(e,i,a,o),this.__originalRect(e,i,a,o)},l.closePath=function(){t.closePath(),this.__originalClosePath()},l.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class d2{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Lp(l,t,e,i,a,o,u,d,f,p){const[m,b,v,S,A,w]=ye(l);if(b===0&&v===0){const L=u*m+A,O=Math.round(L),P=d*S+w,F=Math.round(P),j=(u+f)*m+A,V=Math.abs(Math.round(j)-O)||1,W=(d+p)*S+w,tt=Math.abs(Math.round(W)-F)||1;return l.setTransform(Math.sign(m),0,0,Math.sign(S),O,F),l.drawImage(t,e,i,a,o,0,0,V,tt),l.setTransform(m,b,v,S,A,w),[V,tt]}if(m===0&&S===0){const L=d*v+A,O=Math.round(L),P=u*b+w,F=Math.round(P),j=(d+p)*v+A,V=Math.abs(Math.round(j)-O)||1,W=(u+f)*b+w,tt=Math.abs(Math.round(W)-F)||1;return l.setTransform(0,Math.sign(b),Math.sign(v),0,O,F),l.drawImage(t,e,i,a,o,0,0,tt,V),l.setTransform(m,b,v,S,A,w),[tt,V]}l.drawImage(t,e,i,a,o,u,d,f,p);const M=Math.hypot(m,b),x=Math.hypot(v,S);return[M*f,x*p]}function f2(l){const{width:t,height:e}=l;if(t>yw||e>yw)return null;const i=1e3,a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let u=new Uint8Array(o*(e+1)),d,f,p;const m=t+7&-8;let b=new Uint8Array(m*e),v=0;for(const x of l.data){let L=128;for(;L>0;)b[v++]=x&L?0:255,L>>=1}let S=0;for(v=0,b[v]!==0&&(u[0]=1,++S),f=1;f<t;f++)b[v]!==b[v+1]&&(u[f]=b[v]?2:1,++S),v++;for(b[v]!==0&&(u[f]=2,++S),d=1;d<e;d++){v=d*m,p=d*o,b[v-m]!==b[v]&&(u[p]=b[v]?1:8,++S);let x=(b[v]?4:0)+(b[v-m]?8:0);for(f=1;f<t;f++)x=(x>>2)+(b[v+1]?4:0)+(b[v-m+1]?8:0),a[x]&&(u[p+f]=a[x],++S),v++;if(b[v-m]!==b[v]&&(u[p+f]=b[v]?2:4,++S),S>i)return null}for(v=m*(e-1),p=d*o,b[v]!==0&&(u[p]=8,++S),f=1;f<t;f++)b[v]!==b[v+1]&&(u[p+f]=b[v]?4:8,++S),v++;if(b[v]!==0&&(u[p+f]=4,++S),S>i)return null;const A=new Int32Array([0,o,-1,0,-o,0,0,0,1]),w=new Path2D;for(d=0;S&&d<=e;d++){let x=d*o;const L=x+t;for(;x<L&&!u[x];)x++;if(x===L)continue;w.moveTo(x%o,d);const O=x;let P=u[x];do{const F=A[P];do x+=F;while(!u[x]);const j=u[x];j!==5&&j!==10?(P=j,u[x]=0):(P=j&51*P>>4,u[x]&=P>>2|P<<2),w.lineTo(x%o,x/o|0),u[x]||--S}while(O!==x);--d}return b=null,u=null,function(x){x.save(),x.scale(1/t,-1/e),x.translate(0,-e),x.fill(w),x.beginPath(),x.restore()}}class bw{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=R1,this.textMatrixScale=1,this.fontMatrix=Wb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=gn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=dt.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=dt.applyTransform(e,t),a=dt.applyTransform(e.slice(2),t),o=dt.applyTransform([e[0],e[3]],t),u=dt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],a[0],o[0],u[0]),this.minY=Math.min(this.minY,i[1],a[1],o[1],u[1]),this.maxX=Math.max(this.maxX,i[0],a[0],o[0],u[0]),this.maxY=Math.max(this.maxY,i[1],a[1],o[1],u[1])}updateScalingPathMinMax(t,e){dt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,a,o,u,d,f,p,m){const b=dt.bezierBoundingBox(e,i,a,o,u,d,f,p,m);m||this.updateRectMinMax(t,b)}getPathBoundingBox(t=Cn.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===Cn.STROKE){e||ce("Stroke bounding box must include transform.");const a=dt.singularValueDecompose2dScale(e),o=a[0]*this.lineWidth/2,u=a[1]*this.lineWidth/2;i[0]-=o,i[1]-=u,i[2]+=o,i[3]+=u}return i}updateClipFromPath(){const t=dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Cn.FILL,e=null){return dt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function vw(l,t){if(typeof ImageData<"u"&&t instanceof ImageData){l.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%jn,o=(e-a)/jn,u=a===0?o:o+1,d=l.createImageData(i,jn);let f=0,p;const m=t.data,b=d.data;let v,S,A,w;if(t.kind===Bp.GRAYSCALE_1BPP){const M=m.byteLength,x=new Uint32Array(b.buffer,0,b.byteLength>>2),L=x.length,O=i+7>>3,P=4294967295,F=Mn.isLittleEndian?4278190080:255;for(v=0;v<u;v++){for(A=v<o?jn:a,p=0,S=0;S<A;S++){const j=M-f;let V=0;const W=j>O?i:j*8-7,tt=W&-8;let at=0,st=0;for(;V<tt;V+=8)st=m[f++],x[p++]=st&128?P:F,x[p++]=st&64?P:F,x[p++]=st&32?P:F,x[p++]=st&16?P:F,x[p++]=st&8?P:F,x[p++]=st&4?P:F,x[p++]=st&2?P:F,x[p++]=st&1?P:F;for(;V<W;V++)at===0&&(st=m[f++],at=128),x[p++]=st&at?P:F,at>>=1}for(;p<L;)x[p++]=0;l.putImageData(d,0,v*jn)}}else if(t.kind===Bp.RGBA_32BPP){for(S=0,w=i*jn*4,v=0;v<o;v++)b.set(m.subarray(f,f+w)),f+=w,l.putImageData(d,0,S),S+=jn;v<u&&(w=i*a*4,b.set(m.subarray(f,f+w)),l.putImageData(d,0,S))}else if(t.kind===Bp.RGB_24BPP)for(A=jn,w=i*A,v=0;v<u;v++){for(v>=o&&(A=a,w=i*A),p=0,S=w;S--;)b[p++]=m[f++],b[p++]=m[f++],b[p++]=m[f++],b[p++]=255;l.putImageData(d,0,v*jn)}else throw new Error(`bad image kind: ${t.kind}`)}function Aw(l,t){if(t.bitmap){l.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%jn,o=(e-a)/jn,u=a===0?o:o+1,d=l.createImageData(i,jn);let f=0;const p=t.data,m=d.data;for(let b=0;b<u;b++){const v=b<o?jn:a;({srcPos:f}=c2({src:p,srcPos:f,dest:m,width:i,height:v,nonBlackColor:0})),l.putImageData(d,0,b*jn)}}function yh(l,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)l[i]!==void 0&&(t[i]=l[i]);l.setLineDash!==void 0&&(t.setLineDash(l.getLineDash()),t.lineDashOffset=l.lineDashOffset)}function Dp(l){if(l.strokeStyle=l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0),!_n){const{filter:t}=l;t!=="none"&&t!==""&&(l.filter="none")}}function Sw(l,t){if(t)return!0;const e=dt.singularValueDecompose2dScale(l);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Tr.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const p2=["butt","round","square"],g2=["miter","round","bevel"],m2={},Ew={};var Cr,Tv,xv;const I0=class I0{constructor(t,e,i,a,o,{optionalContentConfig:u,markedContentStack:d=null},f,p){C(this,Cr);this.ctx=t,this.current=new bw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new d2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=d,i){const f=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ye(this.compositeCtx))}this.ctx.save(),Dp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ye(this.ctx)}executeOperatorList(t,e,i,a){const o=t.argsArray,u=t.fnArray;let d=e||0;const f=o.length;if(f===d)return d;const p=f-d>mw&&typeof i=="function",m=p?Date.now()+u2:0;let b=0;const v=this.commonObjs,S=this.objs;let A;for(;;){if(a!==void 0&&d===a.nextBreakPoint)return a.breakIt(d,i),d;if(A=u[d],A!==Pi.dependency)this[A].apply(this,o[d]);else for(const w of o[d]){const M=w.startsWith("g_")?v:S;if(!M.has(w))return M.get(w,i),d}if(d++,d===f)return d;if(p&&++b>mw){if(Date.now()>m)return i(),d;b=0}}}endDrawing(){T(this,Cr,Tv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),T(this,Cr,xv).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),d=i,f=a,p="prescale1",m,b;for(;o>2&&d>1||u>2&&f>1;){let v=d,S=f;o>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/v),u>2&&f>1&&(S=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/S),m=this.cachedCanvases.getCanvas(p,v,S),b=m.context,b.clearRect(0,0,v,S),b.drawImage(t,0,0,d,f,0,0,v,S),t=m.canvas,d=v,f=S,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:a}=t,o=this.current.fillColor,u=this.current.patternFill,d=ye(e);let f,p,m,b;if((t.bitmap||t.data)&&t.count>1){const W=t.bitmap||t.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),o]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const tt=f.get(p);if(tt&&!u){const at=Math.round(Math.min(d[0],d[2])+d[4]),st=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:tt,offsetX:at,offsetY:st}}m=tt}m||(b=this.cachedCanvases.getCanvas("maskCanvas",i,a),Aw(b.context,t));let v=dt.transform(d,[1/i,0,0,-1/a,0,0]);v=dt.transform(v,[1,0,0,1,0,-a]);const[S,A,w,M]=dt.getAxialAlignedBoundingBox([0,0,i,a],v),x=Math.round(w-S)||1,L=Math.round(M-A)||1,O=this.cachedCanvases.getCanvas("fillCanvas",x,L),P=O.context,F=S,j=A;P.translate(-F,-j),P.transform(...v),m||(m=this._scaleImage(b.canvas,qs(P)),m=m.img,f&&u&&f.set(p,m)),P.imageSmoothingEnabled=Sw(ye(P),t.interpolate),Lp(P,m,0,0,m.width,m.height,0,0,i,a),P.globalCompositeOperation="source-in";const V=dt.transform(qs(P),[1,0,0,1,-F,-j]);return P.fillStyle=u?o.getPattern(e,this,V,Cn.FILL):o,P.fillRect(0,0,i,a),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,O.canvas)),{canvas:O.canvas,offsetX:Math.round(F),offsetY:Math.round(j)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=p2[t]}setLineJoin(t){this.ctx.lineJoin=g2[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=a.context;const o=this.ctx;o.setTransform(...ye(this.suspendedCtx)),yh(this.suspendedCtx,o),h2(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const o=a[0],u=a[1],d=a[2]-o,f=a[3]-u;d===0||f===0||(this.genericComposeSMask(e.context,i,d,f,e.subtype,e.backdrop,e.transferMap,o,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,o,u,d,f,p,m,b){let v=t.canvas,S=f-m,A=p-b;if(u){const M=dt.makeHexColor(...u);if(S<0||A<0||S+i>v.width||A+a>v.height){const x=this.cachedCanvases.getCanvas("maskExtension",i,a),L=x.context;L.drawImage(v,-S,-A),L.globalCompositeOperation="destination-atop",L.fillStyle=M,L.fillRect(0,0,i,a),L.globalCompositeOperation="source-over",v=x.canvas,S=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(S,A,i,a),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(S,A,i,a),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const w=new Path2D;w.rect(f,p,i,a),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(v,S,A,i,a,f,p,i,a),e.restore()}save(){this.inSMaskMode?(yh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),yh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,a,o,u){this.ctx.transform(t,e,i,a,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const a=this.ctx,o=this.current;let u=o.x,d=o.y,f,p;const m=ye(a),b=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=b?i.slice(0):null;for(let S=0,A=0,w=t.length;S<w;S++)switch(t[S]|0){case Pi.rectangle:u=e[A++],d=e[A++];const M=e[A++],x=e[A++],L=u+M,O=d+x;a.moveTo(u,d),M===0||x===0?a.lineTo(L,O):(a.lineTo(L,d),a.lineTo(L,O),a.lineTo(u,O)),b||o.updateRectMinMax(m,[u,d,L,O]),a.closePath();break;case Pi.moveTo:u=e[A++],d=e[A++],a.moveTo(u,d),b||o.updatePathMinMax(m,u,d);break;case Pi.lineTo:u=e[A++],d=e[A++],a.lineTo(u,d),b||o.updatePathMinMax(m,u,d);break;case Pi.curveTo:f=u,p=d,u=e[A+4],d=e[A+5],a.bezierCurveTo(e[A],e[A+1],e[A+2],e[A+3],u,d),o.updateCurvePathMinMax(m,f,p,e[A],e[A+1],e[A+2],e[A+3],u,d,v),A+=6;break;case Pi.curveTo2:f=u,p=d,a.bezierCurveTo(u,d,e[A],e[A+1],e[A+2],e[A+3]),o.updateCurvePathMinMax(m,f,p,u,d,e[A],e[A+1],e[A+2],e[A+3],v),u=e[A+2],d=e[A+3],A+=4;break;case Pi.curveTo3:f=u,p=d,u=e[A+2],d=e[A+3],a.bezierCurveTo(e[A],e[A+1],u,d,u,d),o.updateCurvePathMinMax(m,f,p,e[A],e[A+1],u,d,u,d,v),A+=4;break;case Pi.closePath:a.closePath();break}b&&o.updateScalingPathMinMax(m,v),o.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(e.save(),e.strokeStyle=i.getPattern(e,this,qs(e),Cn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;let o=!1;a&&(e.save(),e.fillStyle=i.getPattern(e,this,qs(e),Cn.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=m2}eoClip(){this.pendingClip=Ew}beginText(){this.current.textMatrix=R1,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||Wb,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&kt("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const o=i.loadedName||"sans-serif",u=((m=i.systemFontInfo)==null?void 0:m.css)||`"${o}", ${i.fallbackName}`;let d="normal";i.black?d="900":i.bold&&(d="bold");const f=i.italic?"italic":"normal";let p=e;e<pw?p=pw:e>gw&&(p=gw),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,a,o,u){this.current.textMatrix=[t,e,i,a,o,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,a){const o=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&gn.FILL_STROKE_MASK,b=!!(f&gn.ADD_TO_PATH_FLAG),v=u.patternFill&&!d.missingFile;let S;(d.disableFontFace||b||v)&&(S=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v?(o.save(),o.translate(e,i),o.beginPath(),S(o,p),a&&o.setTransform(...a),(m===gn.FILL||m===gn.FILL_STROKE)&&o.fill(),(m===gn.STROKE||m===gn.FILL_STROKE)&&o.stroke(),o.restore()):((m===gn.FILL||m===gn.FILL_STROKE)&&o.fillText(t,e,i),(m===gn.STROKE||m===gn.FILL_STROKE)&&o.strokeText(t,e,i)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ye(o),x:e,y:i,fontSize:p,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return It(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const o=this.ctx,u=e.fontSizeScale,d=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,b=t.length,v=i.vertical,S=v?1:-1,A=i.defaultVMetrics,w=a*e.fontMatrix[0],M=e.textRenderingMode===gn.FILL&&!i.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),p>0?o.scale(m,-1):o.scale(m,1);let x;if(e.patternFill){o.save();const j=e.fillColor.getPattern(o,this,qs(o),Cn.FILL);x=ye(o),o.restore(),o.fillStyle=j}let L=e.lineWidth;const O=e.textMatrixScale;if(O===0||L===0){const j=e.textRenderingMode&gn.FILL_STROKE_MASK;(j===gn.STROKE||j===gn.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=O;if(u!==1&&(o.scale(u,u),L/=u),o.lineWidth=L,i.isInvalidPDFjsFont){const j=[];let V=0;for(const W of t)j.push(W.unicode),V+=W.width;o.fillText(j.join(""),0,0),e.x+=V*w*m,o.restore(),this.compose();return}let P=0,F;for(F=0;F<b;++F){const j=t[F];if(typeof j=="number"){P+=S*j*a/1e3;continue}let V=!1;const W=(j.isSpace?f:0)+d,tt=j.fontChar,at=j.accent;let st,gt,bt=j.width;if(v){const ht=j.vmetric||A,B=-(j.vmetric?ht[1]:bt*.5)*w,Y=ht[2]*w;bt=ht?-ht[0]:bt,st=B/u,gt=(P+Y)/u}else st=P/u,gt=0;if(i.remeasure&&bt>0){const ht=o.measureText(tt).width*1e3/a*u;if(bt<ht&&this.isFontSubpixelAAEnabled){const B=bt/ht;V=!0,o.save(),o.scale(B,1),st/=B}else bt!==ht&&(st+=(bt-ht)/2e3*a/u)}if(this.contentVisible&&(j.isInFont||i.missingFile)){if(M&&!at)o.fillText(tt,st,gt);else if(this.paintChar(tt,st,gt,x),at){const ht=st+a*at.offset.x/u,B=gt-a*at.offset.y/u;this.paintChar(at.fontChar,ht,B,x)}}const ft=v?bt*w-W*p:bt*w+W*p;P+=ft,V&&o.restore()}v?e.y-=P:e.x+=P*m,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,a=i.font,o=i.fontSize,u=i.fontDirection,d=a.vertical?1:-1,f=i.charSpacing,p=i.wordSpacing,m=i.textHScale*u,b=i.fontMatrix||Wb,v=t.length,S=i.textRenderingMode===gn.INVISIBLE;let A,w,M,x;if(!(S||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(m,u),A=0;A<v;++A){if(w=t[A],typeof w=="number"){x=d*w*o/1e3,this.ctx.translate(x,0),i.x+=x*m;continue}const L=(w.isSpace?p:0)+f,O=a.charProcOperatorList[w.operatorListId];if(!O){kt(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(o,o),e.transform(...b),this.executeOperatorList(O),this.restore()),M=dt.applyTransform([w.width,0],b)[0]*o+L,e.translate(M,0),i.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,a,o,u){this.ctx.rect(i,a,o-i,u-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],a=this.baseTransform||ye(this.ctx),o={createCanvasGraphics:u=>new I0(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new wv(t,i,this.ctx,o,a)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=dt.makeHexColor(t,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=dt.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=l2(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,qs(e),Cn.SHADING);const a=qs(e);if(a){const{width:o,height:u}=e.canvas,[d,f,p,m]=dt.getAxialAlignedBoundingBox([0,0,o,u],a);this.ctx.fillRect(d,f,p-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ce("Should not call beginInlineImage")}beginImageData(){ce("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ye(this.ctx),e)){const i=e[2]-e[0],a=e[3]-e[1];this.ctx.rect(e[0],e[1],i,a),this.current.updateRectMinMax(ye(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Zg("TODO: Support non-isolated groups."),t.knockout&&kt("Knockout groups not supported.");const i=ye(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=dt.getAxialAlignedBoundingBox(t.bbox,ye(e));const o=[0,0,e.canvas.width,e.canvas.height];a=dt.intersect(a,o)||[0,0,0,0];const u=Math.floor(a[0]),d=Math.floor(a[1]),f=Math.max(Math.ceil(a[2])-u,1),p=Math.max(Math.ceil(a[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,f,p),v=b.context;v.translate(-u,-d),v.transform(...i),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:u,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,d),e.save()),yh(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=ye(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const o=dt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,i,a,o){if(T(this,Cr,Tv).call(this),Dp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],d=e[3]-e[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=d;const[f,p]=dt.singularValueDecompose2dScale(ye(this.ctx)),{viewportScale:m}=this,b=Math.ceil(u*this.outputScaleX*m),v=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:S,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(t,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,d*p),Dp(this.ctx)}else Dp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new bw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),T(this,Cr,xv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,a=this.processingType3;if(a&&(a.compiled===void 0&&(a.compiled=f2(t)),a.compiled)){a.compiled(i);return}const o=this._createMaskCanvas(t),u=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(u,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,a=0,o,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const f=ye(d);d.transform(e,i,a,o,0,0);const p=this._createMaskCanvas(t);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let m=0,b=u.length;m<b;m+=2){const v=dt.transform(f,[e,i,a,o,u[m],u[m+1]]),[S,A]=dt.applyTransform([0,0],v);d.drawImage(p.canvas,S,A)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const o of t){const{data:u,width:d,height:f,transform:p}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=m.context;b.save();const v=this.getObject(u,o);Aw(b,v),b.globalCompositeOperation="source-in",b.fillStyle=a?i.getPattern(b,this,qs(e),Cn.FILL):i,b.fillRect(0,0,d,f),b.restore(),e.save(),e.transform(...p),e.scale(1,-1),Lp(e,m.canvas,0,0,d,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){kt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,a){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){kt("Dependent image isn't ready yet");return}const u=o.width,d=o.height,f=[];for(let p=0,m=a.length;p<m;p+=2)f.push({transform:[e,0,0,i,a[p],a[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,a),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,a=this.ctx;if(this.save(),!_n){const{filter:d}=a;d!=="none"&&d!==""&&(a.filter="none")}a.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,i).context;vw(f,t),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,qs(a));a.imageSmoothingEnabled=Sw(ye(a),t.interpolate),Lp(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const o=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u).context;vw(f,t),a=this.applyTransferMapsToCanvas(f)}for(const o of e)i.save(),i.transform(...o.transform),i.scale(1,-1),Lp(i,a,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===Ew?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ye(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:o}=this.ctx.getTransform();let u,d;if(i===0&&a===0){const f=Math.abs(e),p=Math.abs(o);if(f===p)if(t===0)u=d=1/f;else{const m=f*t;u=d=m<1?1/m:1}else if(t===0)u=1/f,d=1/p;else{const m=f*t,b=p*t;u=m<1?1/m:1,d=b<1?1/b:1}}else{const f=Math.abs(e*o-i*a),p=Math.hypot(e,i),m=Math.hypot(a,o);if(t===0)u=m/f,d=p/f;else{const b=t*f;u=m>b?m/b:1,d=p>b?p/b:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[a,o]=this.getScaleForStroking();if(e.lineWidth=i||1,a===1&&o===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(a,o),u.length>0){const d=Math.max(a,o);e.setLineDash(u.map(f=>f/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Cr=new WeakSet,Tv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xv=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let oc=I0;for(const l in Pi)oc.prototype[l]!==void 0&&(oc.prototype[Pi[l]]=oc.prototype[l]);var ld,cd;class ya{static get workerPort(){return h(this,ld)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");_(this,ld,t)}static get workerSrc(){return h(this,cd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");_(this,cd,t)}}ld=new WeakMap,cd=new WeakMap,C(ya,ld,null),C(ya,cd,"");const Op={DATA:1,ERROR:2},Ne={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ti(l){switch(l instanceof Error||typeof l=="object"&&l!==null||ce('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new hl(l.message);case"MissingPDFException":return new ul(l.message);case"PasswordException":return new Qb(l.message,l.code);case"UnexpectedResponseException":return new Jg(l.message,l.status);case"UnknownErrorException":return new Zb(l.message,l.details);default:return new Zb(l.message,l.toString())}}var Tc,Mi,hT,dT,fT,$p;class xh{constructor(t,e,i){C(this,Mi);C(this,Tc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",T(this,Mi,hT).bind(this),{signal:h(this,Tc).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(u){o.reject(u)}return o.promise}sendWithStream(t,e,i,a){const o=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:t,streamId:o,data:e,desiredSize:p.desiredSize},a),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,f.postMessage({sourceName:u,targetName:d,stream:Ne.PULL,streamId:o,desiredSize:p.desiredSize}),m.promise},cancel:p=>{je(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:Ne.CANCEL,streamId:o,reason:ti(p)}),m.promise}},i)}destroy(){var t;(t=h(this,Tc))==null||t.abort(),_(this,Tc,null)}}Tc=new WeakMap,Mi=new WeakSet,hT=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){T(this,Mi,fT).call(this,t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Op.DATA)a.resolve(t.data);else if(t.callback===Op.ERROR)a.reject(ti(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,o=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){o.postMessage({sourceName:i,targetName:a,callback:Op.DATA,callbackId:t.callbackId,data:u})},function(u){o.postMessage({sourceName:i,targetName:a,callback:Op.ERROR,callbackId:t.callbackId,reason:ti(u)})});return}if(t.streamId){T(this,Mi,dT).call(this,t);return}e(t.data)},dT=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,o=this.comObj,u=this,d=this.actionHandler[t.action],f={enqueue(p,m=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:a,stream:Ne.ENQUEUE,streamId:e,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:a,stream:Ne.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){je(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:a,stream:Ne.ERROR,streamId:e,reason:ti(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(p){p(d(t.data,f))}).then(function(){o.postMessage({sourceName:i,targetName:a,stream:Ne.START_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:i,targetName:a,stream:Ne.START_COMPLETE,streamId:e,reason:ti(p)})})},fT=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,o=this.comObj,u=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case Ne.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(ti(t.reason));break;case Ne.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(ti(t.reason));break;case Ne.PULL:if(!d){o.postMessage({sourceName:i,targetName:a,stream:Ne.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(f){var p;f((p=d.onPull)==null?void 0:p.call(d))}).then(function(){o.postMessage({sourceName:i,targetName:a,stream:Ne.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:Ne.PULL_COMPLETE,streamId:e,reason:ti(f)})});break;case Ne.ENQUEUE:if(je(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case Ne.CLOSE:if(je(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),T(this,Mi,$p).call(this,u,e);break;case Ne.ERROR:je(u,"error should have stream controller"),u.controller.error(ti(t.reason)),T(this,Mi,$p).call(this,u,e);break;case Ne.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(ti(t.reason)),T(this,Mi,$p).call(this,u,e);break;case Ne.CANCEL:if(!d)break;new Promise(function(f){var p;f((p=d.onCancel)==null?void 0:p.call(d,ti(t.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:a,stream:Ne.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:Ne.CANCEL_COMPLETE,streamId:e,reason:ti(f)})}),d.sinkCapability.reject(ti(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},$p=async function(t,e){var i,a,o;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(a=t.pullCall)==null?void 0:a.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var wo,ud;class y2{constructor({parsedData:t,rawData:e}){C(this,wo);C(this,ud);_(this,wo,t),_(this,ud,e)}getRaw(){return h(this,ud)}get(t){return h(this,wo).get(t)??null}getAll(){return x0(h(this,wo))}has(t){return h(this,wo).has(t)}}wo=new WeakMap,ud=new WeakMap;const nc=Symbol("INTERNAL");var hd,dd,fd,xc;class b2{constructor(t,{name:e,intent:i,usage:a,rbGroups:o}){C(this,hd,!1);C(this,dd,!1);C(this,fd,!1);C(this,xc,!0);_(this,hd,!!(t&ci.DISPLAY)),_(this,dd,!!(t&ci.PRINT)),this.name=e,this.intent=i,this.usage=a,this.rbGroups=o}get visible(){if(h(this,fd))return h(this,xc);if(!h(this,xc))return!1;const{print:t,view:e}=this.usage;return h(this,hd)?(e==null?void 0:e.viewState)!=="OFF":h(this,dd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==nc&&ce("Internal method `_setVisible` called."),_(this,fd,i),_(this,xc,e)}}hd=new WeakMap,dd=new WeakMap,fd=new WeakMap,xc=new WeakMap;var cr,Qt,Rc,Cc,pd,Rv;class v2{constructor(t,e=ci.DISPLAY){C(this,pd);C(this,cr,null);C(this,Qt,new Map);C(this,Rc,null);C(this,Cc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,_(this,Cc,t.order);for(const i of t.groups)h(this,Qt).set(i.id,new b2(e,i));if(t.baseState==="OFF")for(const i of h(this,Qt).values())i._setVisible(nc,!1);for(const i of t.on)h(this,Qt).get(i)._setVisible(nc,!0);for(const i of t.off)h(this,Qt).get(i)._setVisible(nc,!1);_(this,Rc,this.getHash())}}isVisible(t){if(h(this,Qt).size===0)return!0;if(!t)return Zg("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Qt).has(t.id)?h(this,Qt).get(t.id).visible:(kt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return T(this,pd,Rv).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Qt).has(e))return kt(`Optional content group not found: ${e}`),!0;if(h(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Qt).has(e))return kt(`Optional content group not found: ${e}`),!0;if(!h(this,Qt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Qt).has(e))return kt(`Optional content group not found: ${e}`),!0;if(!h(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Qt).has(e))return kt(`Optional content group not found: ${e}`),!0;if(h(this,Qt).get(e).visible)return!1}return!0}return kt(`Unknown optional content policy ${t.policy}.`),!0}return kt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var o;const a=h(this,Qt).get(t);if(!a){kt(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const u of a.rbGroups)for(const d of u)d!==t&&((o=h(this,Qt).get(d))==null||o._setVisible(nc,!1,!0));a._setVisible(nc,!!e,!0),_(this,cr,null)}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const o=h(this,Qt).get(a);if(o)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!o.visible,e);break}}_(this,cr,null)}get hasInitialVisibility(){return h(this,Rc)===null||this.getHash()===h(this,Rc)}getOrder(){return h(this,Qt).size?h(this,Cc)?h(this,Cc).slice():[...h(this,Qt).keys()]:null}getGroups(){return h(this,Qt).size>0?x0(h(this,Qt)):null}getGroup(t){return h(this,Qt).get(t)||null}getHash(){if(h(this,cr)!==null)return h(this,cr);const t=new tT;for(const[e,i]of h(this,Qt))t.update(`${e}:${i.visible}`);return _(this,cr,t.hexdigest())}}cr=new WeakMap,Qt=new WeakMap,Rc=new WeakMap,Cc=new WeakMap,pd=new WeakSet,Rv=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const o=t[a];let u;if(Array.isArray(o))u=T(this,pd,Rv).call(this,o);else if(h(this,Qt).has(o))u=h(this,Qt).get(o).visible;else return kt(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return i==="And"};class A2{constructor(t,{disableRange:e=!1,disableStream:i=!1}){je(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:o,progressiveDone:u,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});je(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,a,o;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(o=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||o.call(a,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){je(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new S2(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new E2(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class S2{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=M0(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class E2{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function _2(l){let t=!0,e=i("filename\\*","i").exec(l);if(e){e=e[1];let m=d(e);return m=unescape(m),m=f(m),m=p(m),o(m)}if(e=u(l),e){const m=p(e);return o(m)}if(e=i("filename","i").exec(l),e){e=e[1];let m=d(e);return m=p(m),o(m)}function i(m,b){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function a(m,b){if(m){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(m,{fatal:!0}),S=tm(b);b=v.decode(S),t=!1}catch{}}return b}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=a("utf-8",m),t&&(m=a("iso-8859-1",m))),m}function u(m){const b=[];let v;const S=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(m))!==null;){let[,w,M,x]=v;if(w=parseInt(w,10),w in b){if(w===0)break;continue}b[w]=[M,x]}const A=[];for(let w=0;w<b.length&&w in b;++w){let[M,x]=b[w];x=d(x),M&&(x=unescape(x),w===0&&(x=f(x))),A.push(x)}return A.join("")}function d(m){if(m.startsWith('"')){const b=m.slice(1).split('\\"');for(let v=0;v<b.length;++v){const S=b[v].indexOf('"');S!==-1&&(b[v]=b[v].slice(0,S),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}m=b.join('"')}return m}function f(m){const b=m.indexOf("'");if(b===-1)return m;const v=m.slice(0,b),A=m.slice(b+1).replace(/^[^']*'/,"");return a(v,A)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,S,A){if(S==="q"||S==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,M){return String.fromCharCode(parseInt(M,16))}),a(v,A);try{A=atob(A)}catch{}return a(v,A)})}return""}function k0(l,t){const e=new Headers;if(!l||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function P0({responseHeaders:l,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(l.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*e)||i||!t||l.get("Accept-Ranges")!=="bytes"||(l.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function F0(l){const t=l.get("Content-Disposition");if(t){let e=_2(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(M0(e))return e}return null}function im(l,t){return l===404||l===0&&t.startsWith("file:")?new ul('Missing PDF "'+t+'".'):new Jg(`Unexpected server response (${l}) while retrieving PDF "${t}".`,l)}function pT(l){return l===200||l===206}function gT(l,t,e){return{method:"GET",headers:l,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function mT(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:(kt(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class _w{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=k0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return je(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new w2(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new T2(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class w2{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,gT(i,this._withCredentials,this._abortController)).then(o=>{if(!pT(o.status))throw im(o.status,a);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:d,suggestedLength:f}=P0({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=f||this._contentLength,this._filename=F0(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new hl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:mT(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class T2{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);const u=a.url;fetch(u,gT(o,this._withCredentials,this._abortController)).then(d=>{if(!pT(d.status))throw im(d.status,u);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:mT(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const zb=200,Ub=206;function x2(l){const t=l.response;return typeof t!="string"?t:tm(t).buffer}class R2{constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=k0(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){const a={begin:t,end:e};for(const o in i)a[o]=i[o];return this.request(a)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,u]of this.headers)e.setRequestHeader(o,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=Ub):a.expectedStatus=zb,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var a;const i=this.pendingRequests[t];i&&((a=i.onProgress)==null||a.call(i,e))}onStateChange(t,e){var f,p,m;const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){(f=i.onError)==null||f.call(i,a.status);return}const o=a.status||zb;if(!(o===zb&&i.expectedStatus===Ub)&&o!==i.expectedStatus){(p=i.onError)==null||p.call(i,a.status);return}const d=x2(a);if(o===Ub){const b=a.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);i.onDone({begin:parseInt(v[1],10),chunk:d})}else d?i.onDone({begin:0,chunk:d}):(m=i.onError)==null||m.call(i,a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class C2{constructor(t){this._source=t,this._manager=new R2(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return je(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new M2(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new L2(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class M2{constructor(t,e){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]})),{allowRangeRequests:a,suggestedLength:o}=P0({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=F0(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=im(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class L2{constructor(t,e,i){this._manager=t;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=im(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const D2=/^[a-z][a-z0-9\-+.]+:/i;function O2(l){if(D2.test(l))return new URL(l);const t=xr.get("url");return new URL(t.pathToFileURL(l))}function yT(l,t,e){return l.protocol==="http:"?xr.get("http").request(l,{headers:t},e):xr.get("https").request(l,{headers:t},e)}class N2{constructor(t){this.source=t,this.url=O2(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=k0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return je(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new F2(this):new k2(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new H2(this,t,e):new P2(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class bT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new hl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class vT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class k2 extends bT{constructor(t){super(t);const e=Object.fromEntries(t.headers),i=a=>{if(a.statusCode===404){const f=new ul(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(a);const o=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:d}=P0({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=F0(o)};this._request=yT(this._url,e,i),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class P2 extends vT{constructor(t,e,i){super(t);const a=Object.fromEntries(t.headers);a.Range=`bytes=${e}-${i-1}`;const o=u=>{if(u.statusCode===404){const d=new ul(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(u)};this._request=yT(this._url,a,o),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class F2 extends bT{constructor(t){super(t);const e=xr.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new ul(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class H2 extends vT{constructor(t,e,i){super(t);const a=xr.get("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}}const z2=1e5,Hn=30,U2=.8;var zw,ur,Bn,gd,md,To,Js,yd,bd,xo,Mc,Lc,hr,Dc,vd,Oc,Ro,Ad,Sd,Ee,Co,Mo,Ed,dr,Nc,_a,AT,ST,Mv,hi,Kp,Lv,ET,_T;let Cv=(Ee=class{constructor({textContentSource:t,container:e,viewport:i}){C(this,_a);C(this,ur,Promise.withResolvers());C(this,Bn,null);C(this,gd,!1);C(this,md,!!((zw=globalThis.FontInspector)!=null&&zw.enabled));C(this,To,null);C(this,Js,null);C(this,yd,0);C(this,bd,0);C(this,xo,null);C(this,Mc,null);C(this,Lc,0);C(this,hr,0);C(this,Dc,Object.create(null));C(this,vd,[]);C(this,Oc,null);C(this,Ro,[]);C(this,Ad,new WeakMap);C(this,Sd,null);var f;if(t instanceof ReadableStream)_(this,Oc,t);else if(typeof t=="object")_(this,Oc,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,Bn,_(this,Mc,e)),_(this,hr,i.scale*(globalThis.devicePixelRatio||1)),_(this,Lc,i.rotation),_(this,Js,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:o,pageX:u,pageY:d}=i.rawDims;_(this,Sd,[1,0,0,-1,-u,d+o]),_(this,bd,a),_(this,yd,o),T(f=Ee,hi,ET).call(f),il(e,i),h(this,ur).promise.finally(()=>{h(Ee,Nc).delete(this),_(this,Js,null),_(this,Dc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Mn.platform;return It(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,xo).read().then(({value:e,done:i})=>{if(i){h(this,ur).resolve();return}h(this,To)??_(this,To,e.lang),Object.assign(h(this,Dc),e.styles),T(this,_a,AT).call(this,e.items),t()},h(this,ur).reject)};return _(this,xo,h(this,Oc).getReader()),h(Ee,Nc).add(this),t(),h(this,ur).promise}update({viewport:t,onBefore:e=null}){var o;const i=t.scale*(globalThis.devicePixelRatio||1),a=t.rotation;if(a!==h(this,Lc)&&(e==null||e(),_(this,Lc,a),il(h(this,Mc),{rotation:a})),i!==h(this,hr)){e==null||e(),_(this,hr,i);const u={div:null,properties:null,ctx:T(o=Ee,hi,Kp).call(o,h(this,To))};for(const d of h(this,Ro))u.properties=h(this,Ad).get(d),u.div=d,T(this,_a,Mv).call(this,u)}}cancel(){var e;const t=new hl("TextLayer task cancelled.");(e=h(this,xo))==null||e.cancel(t).catch(()=>{}),_(this,xo,null),h(this,ur).reject(t)}get textDivs(){return h(this,Ro)}get textContentItemsStr(){return h(this,vd)}static cleanup(){if(!(h(this,Nc).size>0)){h(this,Co).clear();for(const{canvas:t}of h(this,Mo).values())t.remove();h(this,Mo).clear()}}},ur=new WeakMap,Bn=new WeakMap,gd=new WeakMap,md=new WeakMap,To=new WeakMap,Js=new WeakMap,yd=new WeakMap,bd=new WeakMap,xo=new WeakMap,Mc=new WeakMap,Lc=new WeakMap,hr=new WeakMap,Dc=new WeakMap,vd=new WeakMap,Oc=new WeakMap,Ro=new WeakMap,Ad=new WeakMap,Sd=new WeakMap,Co=new WeakMap,Mo=new WeakMap,Ed=new WeakMap,dr=new WeakMap,Nc=new WeakMap,_a=new WeakSet,AT=function(t){var a,o;if(h(this,gd))return;(o=h(this,Js)).ctx??(o.ctx=T(a=Ee,hi,Kp).call(a,h(this,To)));const e=h(this,Ro),i=h(this,vd);for(const u of t){if(e.length>z2){kt("Ignoring additional textDivs for performance reasons."),_(this,gd,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=h(this,Bn);_(this,Bn,document.createElement("span")),h(this,Bn).classList.add("markedContent"),u.id!==null&&h(this,Bn).setAttribute("id",`${u.id}`),d.append(h(this,Bn))}else u.type==="endMarkedContent"&&_(this,Bn,h(this,Bn).parentNode);continue}i.push(u.str),T(this,_a,ST).call(this,u)}},ST=function(t){var w;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,Ro).push(e);const a=dt.transform(h(this,Sd),t.transform);let o=Math.atan2(a[1],a[0]);const u=h(this,Dc)[t.fontName];u.vertical&&(o+=Math.PI/2);let d=h(this,md)&&u.fontSubstitution||u.fontFamily;d=Ee.fontFamilyMap.get(d)||d;const f=Math.hypot(a[2],a[3]),p=f*T(w=Ee,hi,_T).call(w,d,h(this,To));let m,b;o===0?(m=a[4],b=a[5]-p):(m=a[4]+p*Math.sin(o),b=a[5]-p*Math.cos(o));const v="calc(var(--scale-factor)*",S=e.style;h(this,Bn)===h(this,Mc)?(S.left=`${(100*m/h(this,bd)).toFixed(2)}%`,S.top=`${(100*b/h(this,yd)).toFixed(2)}%`):(S.left=`${v}${m.toFixed(2)}px)`,S.top=`${v}${b.toFixed(2)}px)`),S.fontSize=`${v}${(h(Ee,dr)*f).toFixed(2)}px)`,S.fontFamily=d,i.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,md)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let A=!1;if(t.str.length>1)A=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);M!==x&&Math.max(M,x)/Math.min(M,x)>1.5&&(A=!0)}if(A&&(i.canvasWidth=u.vertical?t.height:t.width),h(this,Ad).set(e,i),h(this,Js).div=e,h(this,Js).properties=i,T(this,_a,Mv).call(this,h(this,Js)),i.hasText&&h(this,Bn).append(e),i.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,Bn).append(M)}},Mv=function(t){var d;const{div:e,properties:i,ctx:a}=t,{style:o}=e;let u="";if(h(Ee,dr)>1&&(u=`scale(${1/h(Ee,dr)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:f}=o,{canvasWidth:p,fontSize:m}=i;T(d=Ee,hi,Lv).call(d,a,m*h(this,hr),f);const{width:b}=a.measureText(e.textContent);b>0&&(u=`scaleX(${p*h(this,hr)/b}) ${u}`)}i.angle!==0&&(u=`rotate(${i.angle}deg) ${u}`),u.length>0&&(o.transform=u)},hi=new WeakSet,Kp=function(t=null){let e=h(this,Mo).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Mo).set(t,e),h(this,Ed).set(e,{size:0,family:""})}return e},Lv=function(t,e,i){const a=h(this,Ed).get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)},ET=function(){if(h(this,dr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),_(this,dr,t.getBoundingClientRect().height),t.remove()},_T=function(t,e){const i=h(this,Co).get(t);if(i)return i;const a=T(this,hi,Kp).call(this,e);a.canvas.width=a.canvas.height=Hn,T(this,hi,Lv).call(this,a,Hn,t);const o=a.measureText("");let u=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(u){const m=u/(u+d);return h(this,Co).set(t,m),a.canvas.width=a.canvas.height=0,m}a.strokeStyle="red",a.clearRect(0,0,Hn,Hn),a.strokeText("g",0,0);let f=a.getImageData(0,0,Hn,Hn).data;d=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){d=Math.ceil(m/4/Hn);break}a.clearRect(0,0,Hn,Hn),a.strokeText("A",0,Hn),f=a.getImageData(0,0,Hn,Hn).data,u=0;for(let m=0,b=f.length;m<b;m+=4)if(f[m]>0){u=Hn-Math.floor(m/4/Hn);break}a.canvas.width=a.canvas.height=0;const p=u?u/(u+d):U2;return h(this,Co).set(t,p),p},C(Ee,hi),C(Ee,Co,new Map),C(Ee,Mo,new Map),C(Ee,Ed,new WeakMap),C(Ee,dr,null),C(Ee,Nc,new Set),Ee);class Bh{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(o){var f;if(!o)return;let u=null;const d=o.name;if(d==="#text")u=o.value;else if(Bh.shouldBuildText(d))(f=o==null?void 0:o.attributes)!=null&&f.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&e.push({str:u}),!!o.children)for(const p of o.children)a(p)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const B2=65536,I2=100,j2=5e3,q2=_n?e2:ZO,G2=_n?n2:aT,V2=_n?t2:JO,X2=_n?i2:cT;function Y2(l={}){typeof l=="string"||l instanceof URL?l={url:l}:(l instanceof ArrayBuffer||ArrayBuffer.isView(l))&&(l={data:l});const t=new Dv,{docId:e}=t,i=l.url?$2(l.url):null,a=l.data?K2(l.data):null,o=l.httpHeaders||null,u=l.withCredentials===!0,d=l.password??null,f=l.range instanceof wT?l.range:null,p=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:B2;let m=l.worker instanceof lc?l.worker:null;const b=l.verbosity,v=typeof l.docBaseUrl=="string"&&!nm(l.docBaseUrl)?l.docBaseUrl:null,S=typeof l.cMapUrl=="string"?l.cMapUrl:null,A=l.cMapPacked!==!1,w=l.CMapReaderFactory||G2,M=typeof l.standardFontDataUrl=="string"?l.standardFontDataUrl:null,x=l.StandardFontDataFactory||X2,L=l.stopAtErrors!==!0,O=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,P=l.isEvalSupported!==!1,F=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!_n,j=typeof l.isChrome=="boolean"?l.isChrome:!Mn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),V=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,W=typeof l.disableFontFace=="boolean"?l.disableFontFace:_n,tt=l.fontExtraProperties===!0,at=l.enableXfa===!0,st=l.ownerDocument||globalThis.document,gt=l.disableRange===!0,bt=l.disableStream===!0,ft=l.disableAutoFetch===!0,ht=l.pdfBug===!0,B=l.CanvasFactory||q2,Y=l.FilterFactory||V2,J=l.enableHWA===!0,wt=f?f.length:l.length??NaN,N=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!_n&&!W,K=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:w===aT&&x===cT&&S&&M&&vh(S,document.baseURI)&&vh(M,document.baseURI);l.canvasFactory&&hw("`canvasFactory`-instance option, please use `CanvasFactory` instead."),l.filterFactory&&hw("`filterFactory`-instance option, please use `FilterFactory` instead.");const nt=null;MO(b);const et={canvasFactory:new B({ownerDocument:st,enableHWA:J}),filterFactory:new Y({docId:e,ownerDocument:st}),cMapReaderFactory:K?null:new w({baseUrl:S,isCompressed:A}),standardFontDataFactory:K?null:new x({baseUrl:M})};if(!m){const ct={verbosity:b,port:ya.workerPort};m=ct.port?lc.fromPort(ct):new lc(ct),t._worker=m}const lt={docId:e,apiVersion:"4.8.69",data:a,password:d,disableAutoFetch:ft,rangeChunkSize:p,length:wt,docBaseUrl:v,enableXfa:at,evaluatorOptions:{maxImageSize:O,disableFontFace:W,ignoreErrors:L,isEvalSupported:P,isOffscreenCanvasSupported:F,isChrome:j,canvasMaxAreaInBytes:V,fontExtraProperties:tt,useSystemFonts:N,cMapUrl:K?S:null,standardFontDataUrl:K?M:null}},Tt={disableFontFace:W,fontExtraProperties:tt,ownerDocument:st,pdfBug:ht,styleElement:nt,loadingParams:{disableAutoFetch:ft,enableXfa:at}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ct=m.messageHandler.sendWithPromise("GetDocRequest",lt,a?[a.buffer]:null);let xt;if(f)xt=new A2(f,{disableRange:gt,disableStream:bt});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Bt;_n?Bt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&vh(i)?_w:N2:Bt=vh(i)?_w:C2,xt=new Bt({url:i,length:wt,httpHeaders:o,withCredentials:u,rangeChunkSize:p,disableRange:gt,disableStream:bt})}return ct.then(Bt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Ce=new xh(e,Bt,m.port),Jt=new J2(Ce,t,xt,Tt,et);t._transport=Jt,Ce.send("Ready",null)})}).catch(t._capability.reject),t}function $2(l){if(l instanceof URL)return l.href;try{return new URL(l,window.location).href}catch{if(_n&&typeof l=="string")return l}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function K2(l){if(_n&&typeof Buffer<"u"&&l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return tm(l);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)||typeof l=="object"&&!isNaN(l==null?void 0:l.length))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ww(l){return typeof l=="object"&&Number.isInteger(l==null?void 0:l.num)&&l.num>=0&&Number.isInteger(l==null?void 0:l.gen)&&l.gen>=0}var Ng;const kg=class kg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Tn(kg,Ng)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ng=new WeakMap,C(kg,Ng,0);let Dv=kg,wT=class{constructor(t,e,i=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ce("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class W2{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var fr,ta,Ri,ic,Wp;class Q2{constructor(t,e,i,a=!1){C(this,Ri);C(this,fr,null);C(this,ta,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new uw:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new TT,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:o=!1}={}){return new lf({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:a=Qa.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:b=!1}){var P,F;(P=this._stats)==null||P.time("Overall");const v=this._transport.getRenderingIntent(i,a,m,b),{renderingIntent:S,cacheKey:A}=v;_(this,ta,!1),T(this,Ri,Wp).call(this),d||(d=this._transport.getOptionalContentConfig(S));let w=this._intentStates.get(A);w||(w=Object.create(null),this._intentStates.set(A,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const M=!!(S&ci.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(v));const x=j=>{var V;w.renderTasks.delete(L),(this._maybeCleanupAfterRender||M)&&_(this,ta,!0),T(this,Ri,ic).call(this,!M),j?(L.capability.reject(j),this._abortOperatorList({intentState:w,reason:j instanceof Error?j:new Error(j)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new Nv({callback:x,params:{canvasContext:t,viewport:e,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:p});(w.renderTasks||(w.renderTasks=new Set)).add(L);const O=L.task;return Promise.all([w.displayReadyCapability.promise,d]).then(([j,V])=>{var W;if(this.destroyed){x();return}if((W=this._stats)==null||W.time("Rendering"),!(V.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:j,optionalContentConfig:V}),L.operatorListChanged()}).catch(x),O}getOperatorList({intent:t="display",annotationMode:e=Qa.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){var p;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,i,a,!0);let d=this._intentStates.get(u.cacheKey);d||(d=Object.create(null),this._intentStates.set(u.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(u)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Bh.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function o(){u.read().then(function({value:f,done:p}){if(p){i(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),o()},a)}const u=e.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),_(this,ta,!1),T(this,Ri,Wp).call(this),Promise.all(t)}cleanup(t=!1){_(this,ta,!0);const e=T(this,Ri,ic).call(this,!1);return t&&e&&this._stats&&(this._stats=new uw),e}_startRenderPage(t,e){var a,o;const i=this._intentStates.get(e);i&&((a=this._stats)==null||a.timeEnd("Page Request"),(o=i.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&T(this,Ri,ic).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:o,transfer:u}=i,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:a},u).getReader(),p=this._intentStates.get(e);p.streamReader=f;const m=()=>{f.read().then(({value:b,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,p),m())},b=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();T(this,Ri,ic).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(b);else if(p.opListReadCapability)p.opListReadCapability.reject(b);else throw b}})};m()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof C0){let a=I2;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new hl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}fr=new WeakMap,ta=new WeakMap,Ri=new WeakSet,ic=function(t=!1){if(T(this,Ri,Wp).call(this),!h(this,ta)||this.destroyed)return!1;if(t)return _(this,fr,setTimeout(()=>{_(this,fr,null),T(this,Ri,ic).call(this,!1)},j2)),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,ta,!1),!0},Wp=function(){h(this,fr)&&(clearTimeout(h(this,fr)),_(this,fr,null))};var ea,Pg;class Z2{constructor(){C(this,ea,new Map);C(this,Pg,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};h(this,Pg).then(()=>{for(const[a]of h(this,ea))a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){kt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);a=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}h(this,ea).set(e,a)}removeEventListener(t,e){const i=h(this,ea).get(e);i==null||i(),h(this,ea).delete(e)}terminate(){for(const[,t]of h(this,ea))t==null||t();h(this,ea).clear()}}ea=new WeakMap,Pg=new WeakMap;var Fg,Lo,Do,kc,Qp,Pc,Zp;const de=class de{constructor({name:t=null,port:e=null,verbosity:i=LO()}={}){C(this,kc);var a;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((a=h(de,Do))!=null&&a.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(de,Do)||_(de,Do,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return _n?Promise.all([xr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new xh("main","worker",t),this._messageHandler.on("ready",function(){}),T(this,kc,Qp).call(this)}_initialize(){if(h(de,Lo)||h(de,Pc,Zp)){this._setupFakeWorker();return}let{workerSrc:t}=de;try{de._isSameOrigin(window.location.href,t)||(t=de._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new xh("main","worker",e),a=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||a()},{signal:o.signal}),i.on("test",d=>{if(o.abort(),this.destroyed||!d){a();return}this._messageHandler=i,this._port=e,this._webWorker=e,T(this,kc,Qp).call(this)}),i.on("ready",d=>{if(o.abort(),this.destroyed){a();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;i.send("test",d,[d.buffer])};u();return}catch{Zg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(de,Lo)||(kt("Setting up fake worker."),_(de,Lo,!0)),de._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new Z2;this._port=e;const i=`fake${Tn(de,Fg)._++}`,a=new xh(i+"_worker",i,e);t.setup(a,e),this._messageHandler=new xh(i,i+"_worker",e),T(this,kc,Qp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(de,Do))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=h(this,Do))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new de(t)}static get workerSrc(){if(ya.workerSrc)return ya.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return It(this,"_setupFakeWorkerGlobal",(async()=>h(this,Pc,Zp)?h(this,Pc,Zp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Fg=new WeakMap,Lo=new WeakMap,Do=new WeakMap,kc=new WeakSet,Qp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Pc=new WeakSet,Zp=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},C(de,Pc),C(de,Fg,0),C(de,Lo,!1),C(de,Do),_n&&(_(de,Lo,!0),ya.workerSrc||(ya.workerSrc="./pdf.worker.mjs")),de._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const a=new URL(e,i);return i.origin===a.origin},de._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let lc=de;var na,gs,Fc,Hc,ms,Oo,Rh;class J2{constructor(t,e,i,a,o){C(this,Oo);C(this,na,new Map);C(this,gs,new Map);C(this,Fc,new Map);C(this,Hc,new Map);C(this,ms,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new TT,this.fontLoader=new WO({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return It(this,"annotationStorage",new O0)}getRenderingIntent(t,e=Qa.ENABLE,i=null,a=!1,o=!1){let u=ci.DISPLAY,d=vv;switch(t){case"any":u=ci.ANY;break;case"display":break;case"print":u=ci.PRINT;break;default:kt(`getRenderingIntent - invalid intent: ${t}`)}const f=u&ci.PRINT&&i instanceof nT?i:this.annotationStorage;switch(e){case Qa.DISABLE:u+=ci.ANNOTATIONS_DISABLE;break;case Qa.ENABLE:break;case Qa.ENABLE_FORMS:u+=ci.ANNOTATIONS_FORMS;break;case Qa.ENABLE_STORAGE:u+=ci.ANNOTATIONS_STORAGE,d=f.serializable;break;default:kt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(u+=ci.IS_EDITING),o&&(u+=ci.OPLIST);const{ids:p,hash:m}=f.modifiedIds,b=[u,d.hash,m];return{renderingIntent:u,cacheKey:b.join("_"),annotationStorageSerializable:d,modifiedIds:p}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=h(this,ms))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of h(this,gs).values())t.push(a._destroy());h(this,gs).clear(),h(this,Fc).clear(),h(this,Hc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var a;this.commonObjs.clear(),this.fontLoader.clear(),h(this,na).clear(),this.filterFactory.destroy(),Cv.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new hl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{je(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},a.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){a.close();return}je(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this._fullReader.cancel(o),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async i=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:u}=this._fullReader;return(!a||!o)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:a,isRangeSupported:o,contentLength:u}}),t.on("GetRangeReader",(i,a)=>{je(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:u,done:d}){if(d){a.close();return}je(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{a.error(u)})},a.onCancel=u=>{o.cancel(u),a.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new W2(i,this))}),t.on("DocException",function(i){let a;switch(i.name){case"PasswordException":a=new Qb(i.message,i.code);break;case"InvalidPDFException":a=new C1(i.message);break;case"MissingPDFException":a=new ul(i.message);break;case"UnexpectedResponseException":a=new Jg(i.message,i.status);break;case"UnknownErrorException":a=new Zb(i.message,i.details);break;default:ce("DocException - expected a valid Error.")}e._capability.reject(a)}),t.on("PasswordRequest",i=>{if(_(this,ms,Promise.withResolvers()),e.onPassword){const a=o=>{o instanceof Error?h(this,ms).reject(o):h(this,ms).resolve({password:o})};try{e.onPassword(a,i.code)}catch(o){h(this,ms).reject(o)}}else h(this,ms).reject(new Qb(i.message,i.code));return h(this,ms).promise}),t.on("DataLoaded",i=>{var a;(a=e.onProgress)==null||a.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;h(this,gs).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,o])=>{var u;if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in o){const S=o.error;kt(`Error during font loading: ${S}`),this.commonObjs.resolve(i,S);break}const m=p&&((u=globalThis.FontInspector)!=null&&u.enabled)?(S,A)=>globalThis.FontInspector.fontAdded(S,A):null,b=new QO(o,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(i,b)});break;case"CopyLocalImage":const{imageRef:v}=o;je(v,"The imageRef must be defined.");for(const S of h(this,gs).values())for(const[,A]of S.objs)if((A==null?void 0:A.ref)===v)return A.dataLen?(this.commonObjs.resolve(i,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,o,u])=>{var f;if(this.destroyed)return;const d=h(this,gs).get(a);if(!d.objs.has(i)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(o){case"Image":d.objs.resolve(i,u),(u==null?void 0:u.dataLen)>TO&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(i,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{var a;this.destroyed||(a=e.onProgress)==null||a.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&kt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=h(this,Fc).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&h(this,Hc).set(o.refStr,t);const u=new Q2(e,o,this,this._params.pdfBug);return h(this,gs).set(e,u),u});return h(this,Fc).set(e,a),a}getPageIndex(t){return ww(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return T(this,Oo,Rh).call(this,"GetFieldObjects")}hasJSActions(){return T(this,Oo,Rh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return T(this,Oo,Rh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return T(this,Oo,Rh).call(this,"GetOptionalContentConfig").then(e=>new v2(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,na).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>{var o,u;return{info:a[0],metadata:a[1]?new y2(a[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return h(this,na).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,gs).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,na).clear(),this.filterFactory.destroy(!0),Cv.cleanup()}}cachedPageNumber(t){if(!ww(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Hc).get(e)??null}}na=new WeakMap,gs=new WeakMap,Fc=new WeakMap,Hc=new WeakMap,ms=new WeakMap,Oo=new WeakSet,Rh=function(t,e=null){const i=h(this,na).get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return h(this,na).set(t,a),a};const Np=Symbol("INITIAL_DATA");var Ii,_d,Ov;class TT{constructor(){C(this,_d);C(this,Ii,Object.create(null))}get(t,e=null){if(e){const a=T(this,_d,Ov).call(this,t);return a.promise.then(()=>e(a.data)),null}const i=h(this,Ii)[t];if(!i||i.data===Np)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=h(this,Ii)[t];return!!e&&e.data!==Np}resolve(t,e=null){const i=T(this,_d,Ov).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in h(this,Ii)){const{data:i}=h(this,Ii)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}_(this,Ii,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Ii)){const{data:e}=h(this,Ii)[t];e!==Np&&(yield[t,e])}}}Ii=new WeakMap,_d=new WeakSet,Ov=function(t){var e;return(e=h(this,Ii))[t]||(e[t]={...Promise.withResolvers(),data:Np})};var pr;class tN{constructor(t){C(this,pr,null);_(this,pr,t),this.onContinue=null}get promise(){return h(this,pr).capability.promise}cancel(t=0){h(this,pr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,pr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,pr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}pr=new WeakMap;var gr,No;const no=class no{constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:o,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:b=!1,pageColors:v=null}){C(this,gr,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new tN(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,f;if(this.cancelled)return;if(this._canvas){if(h(no,No).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(no,No).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:a,transform:o,background:u}=this.params;this.gfx=new oc(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),h(this,gr)&&(window.cancelAnimationFrame(h(this,gr)),_(this,gr,null)),h(no,No).delete(this._canvas),this.callback(t||new C0(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,gr,window.requestAnimationFrame(()=>{_(this,gr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(no,No).delete(this._canvas),this.callback())))}};gr=new WeakMap,No=new WeakMap,C(no,No,new WeakSet);let Nv=no;const eN="4.8.69",nN="3634dab10";function Tw(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function bh(l){return Math.max(0,Math.min(255,255*l))}class xw{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=bh(t),[t,t,t]}static G_HTML([t]){const e=Tw(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(bh)}static RGB_HTML(t){return`#${t.map(Tw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[bh(1-Math.min(1,t+a)),bh(1-Math.min(1,i+a)),bh(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,o=1-e,u=1-i,d=Math.min(a,o,u);return["CMYK",a,o,u,d]}}class iN{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ce("Abstract method `_createSVG` called.")}}class H0 extends iN{_createSVG(t){return document.createElementNS(Gs,t)}}class xT{static setupStorage(t,e,i,a,o){const u=a.getValue(e,{value:null});switch(i.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),o==="print")break;t.addEventListener("input",d=>{a.setValue(e,{value:d.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(u.value===i.attributes.xfaOn?t.setAttribute("checked",!0):u.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",d=>{a.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),o==="print")break;t.addEventListener("input",d=>{a.setValue(e,{value:d.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const d of i.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const f=d.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;a.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:o}){const{attributes:u}=e,d=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${a}`);for(const[f,p]of Object.entries(u))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!d||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}d&&o.addLinkAttributes(t,u.href,u.newWindow),i&&u.dataId&&this.setupStorage(t,u.dataId,e,i)}static render(t){var b,v;const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,o=t.intent||"display",u=document.createElement(a.name);a.attributes&&this.setAttributes({html:u,element:a,intent:o,linkService:i});const d=o!=="richText",f=t.div;if(f.append(u),t.viewport){const S=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=S}d&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const S=document.createTextNode(a.value);u.append(S),d&&Bh.shouldBuildText(a.name)&&p.push(S)}return{textDivs:p}}const m=[[a,-1,u]];for(;m.length>0;){const[S,A,w]=m.at(-1);if(A+1===S.children.length){m.pop();continue}const M=S.children[++m.at(-1)[1]];if(M===null)continue;const{name:x}=M;if(x==="#text"){const O=document.createTextNode(M.value);p.push(O),w.append(O);continue}const L=(b=M==null?void 0:M.attributes)!=null&&b.xmlns?document.createElementNS(M.attributes.xmlns,x):document.createElement(x);if(w.append(L),M.attributes&&this.setAttributes({html:L,element:M,storage:e,intent:o,linkService:i}),((v=M.children)==null?void 0:v.length)>0)m.push([M,-1,L]);else if(M.value){const O=document.createTextNode(M.value);d&&Bh.shouldBuildText(x)&&p.push(O),L.append(O)}}for(const S of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const uf=1e3,sN=9,al=new WeakSet;function va(l){return{width:l[2]-l[0],height:l[3]-l[1]}}class aN{static create(t){switch(t.data.annotationType){case ze.LINK:return new RT(t);case ze.TEXT:return new rN(t);case ze.WIDGET:switch(t.data.fieldType){case"Tx":return new oN(t);case"Btn":return t.data.radioButton?new LT(t):t.data.checkBox?new cN(t):new uN(t);case"Ch":return new hN(t);case"Sig":return new lN(t)}return new dl(t);case ze.POPUP:return new Pv(t);case ze.FREETEXT:return new PT(t);case ze.LINE:return new fN(t);case ze.SQUARE:return new pN(t);case ze.CIRCLE:return new gN(t);case ze.POLYLINE:return new FT(t);case ze.CARET:return new yN(t);case ze.INK:return new z0(t);case ze.POLYGON:return new mN(t);case ze.HIGHLIGHT:return new HT(t);case ze.UNDERLINE:return new bN(t);case ze.SQUIGGLY:return new vN(t);case ze.STRIKEOUT:return new AN(t);case ze.STAMP:return new zT(t);case ze.FILEATTACHMENT:return new SN(t);default:return new Re(t)}}}var ko,zc,Uc,wd,kv;const j0=class j0{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){C(this,wd);C(this,ko,null);C(this,zc,!1);C(this,Uc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return j0._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;h(this,ko)||_(this,ko,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&T(this,wd,kv).call(this,e),(i=h(this,Uc))==null||i.popup.updateEdited(t)}resetEdited(){var t;h(this,ko)&&(T(this,wd,kv).call(this,h(this,ko).rect),(t=h(this,Uc))==null||t.popup.resetEdited(),_(this,ko,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof dl||(o.tabIndex=uf);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Pv){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,o),o}const{width:d,height:f}=va(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(w>0||M>0){const L=`calc(${w}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;u.borderRadius=L}else if(this instanceof LT){const L=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=L}switch(e.borderStyle.style){case mh.SOLID:u.borderStyle="solid";break;case mh.DASHED:u.borderStyle="dashed";break;case mh.BEVELED:kt("Unimplemented border style: beveled");break;case mh.INSET:kt("Unimplemented border style: inset");break;case mh.UNDERLINE:u.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(_(this,zc,!0),u.borderColor=dt.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):u.borderWidth=0}const p=dt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:m,pageHeight:b,pageX:v,pageY:S}=a.rawDims;u.left=`${100*(p[0]-v)/m}%`,u.top=`${100*(p[1]-S)/b}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(u.width=`${100*d/m}%`,u.height=`${100*f/b}%`):this.setRotation(A,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims,{width:o,height:u}=va(this.data.rect);let d,f;t%180===0?(d=100*o/i,f=100*u/a):(d=100*u/i,f=100*o/a),e.style.width=`${d}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const o=a.detail[e],u=o[0],d=o.slice(1);a.target.style[i]=xw[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[i]:xw[`${u}_rgb`](d)})};return It(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail)){const o=t[a]||i[a];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,o]of Object.entries(e)){const u=i[a];if(u){const d={detail:{[a]:o},target:t};u(d),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,o]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,M,x,L]=t.subarray(2,6);if(a===w&&o===M&&e===x&&i===L)return}const{style:u}=this.container;let d;if(h(this,zc)){const{borderColor:w,borderWidth:M}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=a-e,p=o-i,{svgFactory:m}=this,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=m.createElement("defs");b.append(v);const S=m.createElement("clipPath"),A=`clippath_${this.data.id}`;S.setAttribute("id",A),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let w=2,M=t.length;w<M;w+=8){const x=t[w],L=t[w+1],O=t[w+2],P=t[w+3],F=m.createElement("rect"),j=(O-e)/f,V=(o-L)/p,W=(x-O)/f,tt=(L-P)/p;F.setAttribute("x",j),F.setAttribute("y",V),F.setAttribute("width",W),F.setAttribute("height",tt),S.append(F),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${V}" width="${W}" height="${tt}"/>`)}h(this,zc)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(b),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:t}=this,e=_(this,Uc,new Pv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ce("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:o,id:u,exportValues:d}of a){if(o===-1||u===e)continue;const f=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!al.has(p)){kt(`_getElementsByName - element not allowed: ${u}`);continue}i.push({id:u,exportValue:f,domElement:p})}return i}for(const a of document.getElementsByName(t)){const{exportValue:o}=a,u=a.getAttribute("data-element-id");u!==e&&al.has(a)&&i.push({id:u,exportValue:o,domElement:a})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};ko=new WeakMap,zc=new WeakMap,Uc=new WeakMap,wd=new WeakSet,kv=function(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:d,pageY:f}}}}=this;i==null||i.splice(0,4,...t);const{width:p,height:m}=va(t);e.left=`${100*(t[0]-d)/o}%`,e.top=`${100*(u-t[3]+f)/u}%`,a===0?(e.width=`${100*p/o}%`,e.height=`${100*m/u}%`):this.setRotation(a)};let Re=j0;var ui,Qr,CT,MT;class RT extends Re{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});C(this,ui);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let o=!1;return e.url?(i.addLinkAttributes(a,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(a,e.action),o=!0):e.attachment?(T(this,ui,CT).call(this,a,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(T(this,ui,MT).call(this,a,e.setOCGState),o=!0):e.dest?(this._bindLink(a,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),o=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(a,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(a),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&T(this,ui,Qr).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),T(this,ui,Qr).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(i.actions)){const u=a.get(o);u&&(e[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),T(this,ui,Qr).call(this)}_bindResetFormAction(e,i){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),T(this,ui,Qr).call(this),!this._fieldObjects){kt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(e.onclick=()=>!1);return}e.onclick=()=>{var b;a==null||a();const{fields:o,refs:u,include:d}=i,f=[];if(o.length!==0||u.length!==0){const v=new Set(u);for(const S of o){const A=this._fieldObjects[S]||[];for(const{id:w}of A)v.add(w)}for(const S of Object.values(this._fieldObjects))for(const A of S)v.has(A.id)===d&&f.push(A)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const p=this.annotationStorage,m=[];for(const v of f){const{id:S}=v;switch(m.push(S),v.type){case"text":{const w=v.defaultValue||"";p.setValue(S,{value:w});break}case"checkbox":case"radiobutton":{const w=v.defaultValue===v.exportValues;p.setValue(S,{value:w});break}case"combobox":case"listbox":{const w=v.defaultValue||"";p.setValue(S,{value:w});break}default:continue}const A=document.querySelector(`[data-element-id="${S}"]`);if(A){if(!al.has(A)){kt(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}ui=new WeakSet,Qr=function(){this.container.setAttribute("data-internal-link","")},CT=function(e,i,a=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,a),!1},T(this,ui,Qr).call(this)},MT=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),T(this,ui,Qr).call(this)};class rN extends Re{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class dl extends Re{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Mn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,o){i.includes("mouse")?t.addEventListener(i,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(i,u=>{var d;if(i==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(u)}}))})}_setEventListeners(t,e,i,a){var o,u,d;for(const[f,p]of i)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,a),p==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":dt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||sN,o=t.style;let u;const d=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(p/(kb*a))||1,b=p/m;u=Math.min(a,f(b/kb))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(a,f(p/kb))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=dt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class oN extends dl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const o=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=i),o.setValue(u.id,{[a]:i})}render(){var a,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let d=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let p=u.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??d,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",p??d),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),al.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=uf,this._setRequired(i,this.data.required),f&&(i.maxLength=f),i.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(i,"value",v.target.value,"value"),m.formattedValue=null}),i.addEventListener("resetform",v=>{const S=this.data.defaultFieldValue??"";i.value=m.userValue=S,m.formattedValue=null});let b=v=>{const{formattedValue:S}=m;S!=null&&(v.target.value=S),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",S=>{var w;if(m.focused)return;const{target:A}=S;m.userValue&&(A.value=m.userValue),m.lastCommittedValue=A.value,m.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(m.focused=!0)}),i.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const A={value(w){m.userValue=w.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),w.target.value=m.userValue},formattedValue(w){const{formattedValue:M}=w.detail;m.formattedValue=M,M!=null&&w.target!==document.activeElement&&(w.target.value=M),t.setValue(e,{formattedValue:M})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var O;const{charLimit:M}=w.detail,{target:x}=w;if(M===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",M);let L=m.userValue;!L||L.length<=M||(L=L.slice(0,M),x.value=m.userValue=L,t.setValue(e,{value:L}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(A,S)}),i.addEventListener("keydown",S=>{var M;m.commitKey=1;let A=-1;if(S.key==="Escape"?A=0:S.key==="Enter"&&!this.data.multiLine?A=2:S.key==="Tab"&&(m.commitKey=3),A===-1)return;const{value:w}=S.target;m.lastCommittedValue!==w&&(m.lastCommittedValue=w,m.userValue=w,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:A,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const v=b;b=null,i.addEventListener("blur",S=>{var w,M;if(!m.focused||!S.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(m.focused=!1);const{value:A}=S.target;m.userValue=A,m.lastCommittedValue!==A&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:m.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),v(S)}),(o=this.data.actions)!=null&&o.Keystroke&&i.addEventListener("beforeinput",S=>{var F;m.lastCommittedValue=null;const{data:A,target:w}=S,{value:M,selectionStart:x,selectionEnd:L}=w;let O=x,P=L;switch(S.inputType){case"deleteWordBackward":{const j=M.substring(0,x).match(/\w*[^\w]*$/);j&&(O-=j[0].length);break}case"deleteWordForward":{const j=M.substring(x).match(/^[^\w]*\w*/);j&&(P+=j[0].length);break}case"deleteContentBackward":x===L&&(O-=1);break;case"deleteContentForward":x===L&&(P+=1);break}S.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:A||"",willCommit:!1,selStart:O,selEnd:P}})}),this._setEventListeners(i,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/f;i.classList.add("comb"),i.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class lN extends dl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class cN extends dl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return al.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=uf,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,i)){const m=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(i,{value:f})}),o.addEventListener("resetform",u=>{const d=e.defaultFieldValue||"Off";u.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(i,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class LT extends dl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const u of this._getElementsByName(e.fieldName,i))t.setValue(u.id,{value:!1});const o=document.createElement("input");if(al.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=uf,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,i))t.setValue(p.id,{value:!1});t.setValue(i,{value:f})}),o.addEventListener("resetform",u=>{const d=e.defaultFieldValue;u.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;o.addEventListener("updatefromsandbox",d=>{const f={value:p=>{const m=u===p.detail.value;for(const b of this._getElementsByName(p.target.name)){const v=m&&b.id===i;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class uN extends RT{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class hN extends dl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");al.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=uf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",m=>{const b=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===b});for(const m of this.data.options){const b=document.createElement("option");b.textContent=m.displayValue,b.value=m.exportValue,i.value.includes(m.exportValue)&&(b.setAttribute("selected",!0),o=!1),a.append(b)}let u=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),a.prepend(m),u=()=>{m.remove(),a.removeEventListener("input",u),u=null},a.addEventListener("input",u)}const d=m=>{const b=m?"value":"textContent",{options:v,multiple:S}=a;return S?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let f=d(!1);const p=m=>{const b=m.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",m=>{const b={value(v){u==null||u();const S=v.detail.value,A=new Set(Array.isArray(S)?S:[S]);for(const w of a.options)w.selected=A.has(w.value);t.setValue(e,{value:d(!0)}),f=d(!1)},multipleSelection(v){a.multiple=!0},remove(v){const S=a.options,A=v.detail.remove;S[A].selected=!1,a.remove(A),S.length>0&&Array.prototype.findIndex.call(S,M=>M.selected)===-1&&(S[0].selected=!0),t.setValue(e,{value:d(!0),items:p(v)}),f=d(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),f=d(!1)},insert(v){const{index:S,displayValue:A,exportValue:w}=v.detail.insert,M=a.children[S],x=document.createElement("option");x.textContent=A,x.value=w,M?M.before(x):a.append(x),t.setValue(e,{value:d(!0),items:p(v)}),f=d(!1)},items(v){const{items:S}=v.detail;for(;a.length!==0;)a.remove(0);for(const A of S){const{displayValue:w,exportValue:M}=A,x=document.createElement("option");x.textContent=w,x.value=M,a.append(x)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:d(!0),items:p(v)}),f=d(!1)},indices(v){const S=new Set(v.detail.indices);for(const A of v.target.options)A.selected=S.has(A.index);t.setValue(e,{value:d(!0)}),f=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,m)}),a.addEventListener("input",m=>{var S;const b=d(!0),v=d(!1);t.setValue(e,{value:b}),m.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):a.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Pv extends Re{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Re._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new dN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${R0}${i}`).join(",")),this.container}}var Bc,Hg,zg,Ic,Po,Se,ia,jc,Td,xd,qc,sa,ji,aa,Rd,ra,Cd,Fo,Ho,se,Jp,Fv,DT,OT,NT,kT,tg,eg,Hv;class dN{constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:o,contentsObj:u,richText:d,parent:f,rect:p,parentRect:m,open:b}){C(this,se);C(this,Bc,T(this,se,NT).bind(this));C(this,Hg,T(this,se,Hv).bind(this));C(this,zg,T(this,se,eg).bind(this));C(this,Ic,T(this,se,tg).bind(this));C(this,Po,null);C(this,Se,null);C(this,ia,null);C(this,jc,null);C(this,Td,null);C(this,xd,null);C(this,qc,null);C(this,sa,!1);C(this,ji,null);C(this,aa,null);C(this,Rd,null);C(this,ra,null);C(this,Cd,null);C(this,Fo,null);C(this,Ho,!1);var v;_(this,Se,t),_(this,Cd,a),_(this,ia,u),_(this,ra,d),_(this,xd,f),_(this,Po,e),_(this,Rd,p),_(this,qc,m),_(this,Td,i),_(this,jc,L0.toDateObject(o)),this.trigger=i.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",h(this,Ic)),S.addEventListener("mouseenter",h(this,zg)),S.addEventListener("mouseleave",h(this,Hg)),S.classList.add("popupTriggerArea");for(const S of i)(v=S.container)==null||v.addEventListener("keydown",h(this,Bc));h(this,Se).hidden=!0,b&&T(this,se,tg).call(this)}render(){if(h(this,ji))return;const t=_(this,ji,document.createElement("div"));if(t.className="popup",h(this,Po)){const o=t.style.outlineColor=dt.makeHexColor(...h(this,Po));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=dt.makeHexColor(...h(this,Po).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=h(this,Cd),t.append(e),h(this,jc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,jc).valueOf()})),e.append(o)}const a=h(this,se,Jp);if(a)xT.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(h(this,ia));t.append(o)}h(this,Se).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let o=0,u=a.length;o<u;++o){const d=a[o];i.append(document.createTextNode(d)),o<u-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;h(this,Fo)||_(this,Fo,{contentsObj:h(this,ia),richText:h(this,ra)}),t&&_(this,aa,null),e&&(_(this,ra,T(this,se,OT).call(this,e)),_(this,ia,null)),(i=h(this,ji))==null||i.remove(),_(this,ji,null)}resetEdited(){var t;h(this,Fo)&&({contentsObj:Tn(this,ia)._,richText:Tn(this,ra)._}=h(this,Fo),_(this,Fo,null),(t=h(this,ji))==null||t.remove(),_(this,ji,null),_(this,aa,null))}forceHide(){_(this,Ho,this.isVisible),h(this,Ho)&&(h(this,Se).hidden=!0)}maybeShow(){h(this,Ho)&&(h(this,ji)||T(this,se,eg).call(this),_(this,Ho,!1),h(this,Se).hidden=!1)}get isVisible(){return h(this,Se).hidden===!1}}Bc=new WeakMap,Hg=new WeakMap,zg=new WeakMap,Ic=new WeakMap,Po=new WeakMap,Se=new WeakMap,ia=new WeakMap,jc=new WeakMap,Td=new WeakMap,xd=new WeakMap,qc=new WeakMap,sa=new WeakMap,ji=new WeakMap,aa=new WeakMap,Rd=new WeakMap,ra=new WeakMap,Cd=new WeakMap,Fo=new WeakMap,Ho=new WeakMap,se=new WeakSet,Jp=function(){const t=h(this,ra),e=h(this,ia);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,ra).html||null},Fv=function(){var t,e,i;return((i=(e=(t=h(this,se,Jp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},DT=function(){var t,e,i;return((i=(e=(t=h(this,se,Jp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},OT=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:h(this,se,DT),fontSize:h(this,se,Fv)?`calc(${h(this,se,Fv)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:a});return i},NT=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,sa))&&T(this,se,tg).call(this)},kT=function(){if(h(this,aa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:o}}}=h(this,xd);let u=!!h(this,qc),d=u?h(this,qc):h(this,Rd);for(const A of h(this,Td))if(!d||dt.intersect(A.data.rect,d)!==null){d=A.data.rect,u=!0;break}const f=dt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=u?d[2]-d[0]+5:0,b=f[0]+m,v=f[1];_(this,aa,[100*(b-a)/e,100*(v-o)/i]);const{style:S}=h(this,Se);S.left=`${h(this,aa)[0]}%`,S.top=`${h(this,aa)[1]}%`},tg=function(){_(this,sa,!h(this,sa)),h(this,sa)?(T(this,se,eg).call(this),h(this,Se).addEventListener("click",h(this,Ic)),h(this,Se).addEventListener("keydown",h(this,Bc))):(T(this,se,Hv).call(this),h(this,Se).removeEventListener("click",h(this,Ic)),h(this,Se).removeEventListener("keydown",h(this,Bc)))},eg=function(){h(this,ji)||this.render(),this.isVisible?h(this,sa)&&h(this,Se).classList.add("focused"):(T(this,se,kT).call(this),h(this,Se).hidden=!1,h(this,Se).style.zIndex=parseInt(h(this,Se).style.zIndex)+1e3)},Hv=function(){h(this,Se).classList.remove("focused"),!(h(this,sa)||!this.isVisible)&&(h(this,Se).hidden=!0,h(this,Se).style.zIndex=parseInt(h(this,Se).style.zIndex)-1e3)};class PT extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Dt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Md;class fN extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Md,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:i,height:a}=va(e.rect),o=this.svgFactory.create(i,a,!0),u=_(this,Md,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Md)}addHighlightArea(){this.container.classList.add("highlightArea")}}Md=new WeakMap;var Ld;class pN extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Ld,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:i,height:a}=va(e.rect),o=this.svgFactory.create(i,a,!0),u=e.borderStyle.width,d=_(this,Ld,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",i-u),d.setAttribute("height",a-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ld=new WeakMap;var Dd;class gN extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Dd,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:i,height:a}=va(e.rect),o=this.svgFactory.create(i,a,!0),u=e.borderStyle.width,d=_(this,Dd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",i/2),d.setAttribute("cy",a/2),d.setAttribute("rx",i/2-u/2),d.setAttribute("ry",a/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Dd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dd=new WeakMap;var Od;class FT extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Od,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:a,popupRef:o}}=this;if(!i)return this.container;const{width:u,height:d}=va(e),f=this.svgFactory.create(u,d,!0);let p=[];for(let b=0,v=i.length;b<v;b+=2){const S=i[b]-e[0],A=e[3]-i[b+1];p.push(`${S},${A}`)}p=p.join(" ");const m=_(this,Od,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",a.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Od)}addHighlightArea(){this.container.classList.add("highlightArea")}}Od=new WeakMap;class mN extends FT{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class yN extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Nd;class z0 extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Nd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Dt.HIGHLIGHT:Dt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:i,borderStyle:a,popupRef:o}}=this,{width:u,height:d}=va(e),f=this.svgFactory.create(u,d,!0);for(const p of i){let m=[];for(let v=0,S=p.length;v<S;v+=2){const A=p[v]-e[0],w=e[3]-p[v+1];m.push(`${A},${w}`)}m=m.join(" ");const b=this.svgFactory.createElement(this.svgElementName);h(this,Nd).push(b),b.setAttribute("points",m),b.setAttribute("stroke-width",a.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nd=new WeakMap;class HT extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Dt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class bN extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class vN extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class AN extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class zT extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Dt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var kd,Pd,zv;class SN extends Re{constructor(e){var a;super(e,{isRenderable:!0});C(this,Pd);C(this,kd,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let a;i.hasAppearance||i.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),a.addEventListener("dblclick",T(this,Pd,zv).bind(this)),_(this,kd,a);const{isMac:o}=Mn.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&T(this,Pd,zv).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return h(this,kd)}addHighlightArea(){this.container.classList.add("highlightArea")}}kd=new WeakMap,Pd=new WeakSet,zv=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Fd,zo,Uo,Hd,ol,UT,Uv,Uw;let EN=(Uw=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:o,viewport:u,structTreeLayer:d}){C(this,ol);C(this,Fd,null);C(this,zo,null);C(this,Uo,new Map);C(this,Hd,null);this.div=t,_(this,Fd,e),_(this,zo,i),_(this,Hd,d||null),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return h(this,Uo).size>0}async render(t){var u;const{annotations:e}=t,i=this.div;il(i,this.viewport);const a=new Map,o={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new H0,annotationStorage:t.annotationStorage||new O0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===ze.POPUP;if(f){const b=a.get(d.id);if(!b)continue;o.elements=b}else{const{width:b,height:v}=va(d.rect);if(b<=0||v<=0)continue}o.data=d;const p=aN.create(o);if(!p.isRenderable)continue;if(!f&&d.popupRef){const b=a.get(d.popupRef);b?b.push(p):a.set(d.popupRef,[p])}const m=p.render();d.hidden&&(m.style.visibility="hidden"),await T(this,ol,UT).call(this,m,d.id),p._isEditable&&(h(this,Uo).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}T(this,ol,Uv).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,il(e,{rotation:t.rotation}),T(this,ol,Uv).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Uo).values())}getEditableAnnotation(t){return h(this,Uo).get(t)}},Fd=new WeakMap,zo=new WeakMap,Uo=new WeakMap,Hd=new WeakMap,ol=new WeakSet,UT=async function(t,e){var u,d;const i=t.firstChild||t,a=i.id=`${R0}${e}`,o=await((u=h(this,Hd))==null?void 0:u.getAriaAttributes(a));if(o)for(const[f,p]of o)i.setAttribute(f,p);this.div.append(t),(d=h(this,Fd))==null||d.moveElementInDOM(this.div,t,i,!1)},Uv=function(){if(!h(this,zo))return;const t=this.div;for(const[e,i]of h(this,zo)){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):a.append(i)}h(this,zo).clear()},Uw);const kp=/\r\n?|\n/g;var qi,ii,zd,Bo,si,Pe,BT,IT,jT,ng,Sa,ig,sg,qT,Iv,GT;const le=class le extends Zt{constructor(e){super({...e,name:"freeTextEditor"});C(this,Pe);C(this,qi);C(this,ii,"");C(this,zd,`${this.id}-editor`);C(this,Bo,null);C(this,si);_(this,qi,e.color||le._defaultColor||Zt._defaultLineColor),_(this,si,e.fontSize||le._defaultFontSize)}static get _keyboardManager(){const e=le.prototype,i=u=>u.isEmpty(),a=sl.TRANSLATE_SMALL,o=sl.TRANSLATE_BIG;return It(this,"_keyboardManager",new cf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:i}]]))}static initialize(e,i){Zt.initialize(e,i);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case _t.FREETEXT_SIZE:le._defaultFontSize=i;break;case _t.FREETEXT_COLOR:le._defaultColor=i;break}}updateParams(e,i){switch(e){case _t.FREETEXT_SIZE:T(this,Pe,BT).call(this,i);break;case _t.FREETEXT_COLOR:T(this,Pe,IT).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,le._defaultFontSize],[_t.FREETEXT_COLOR,le._defaultColor||Zt._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,h(this,si)],[_t.FREETEXT_COLOR,h(this,qi)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-le._internalPadding*e,-(le._internalPadding+h(this,si))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Dt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Bo,new AbortController);const e=this._uiManager.combinedSignal(h(this,Bo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,zd)),this._isDraggable=!0,(e=h(this,Bo))==null||e.abort(),_(this,Bo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,ii),i=_(this,ii,T(this,Pe,jT).call(this).trimEnd());if(e===i)return;const a=o=>{if(_(this,ii,o),!o){this.remove();return}T(this,Pe,sg).call(this),this._uiManager.rebuild(this),T(this,Pe,ng).call(this)};this.addCommands({cmd:()=>{a(i)},undo:()=>{a(e)},mustExec:!1}),T(this,Pe,ng).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){le._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,zd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${h(this,si)}px * var(--scale-factor))`,a.color=h(this,qi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),vg(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[m,b]=this.pageDimensions,[v,S]=this.pageTranslation;let A,w;switch(this.rotation){case 0:A=e+(d[0]-v)/m,w=i+this.height-(d[1]-S)/b;break;case 90:A=e+(d[0]-v)/m,w=i-(d[1]-S)/b,[f,p]=[p,-f];break;case 180:A=e-this.width+(d[0]-v)/m,w=i-(d[1]-S)/b,[f,p]=[-f,-p];break;case 270:A=e+(d[0]-v-this.height*b)/m,w=i+(d[1]-S-this.width*m)/b,[f,p]=[-p,f];break}this.setAt(A*o,w*u,f,p)}else this.setAt(e*o,i*u,this.width*o,this.height*u);T(this,Pe,sg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var A,w,M;const i=e.clipboardData||window.clipboardData,{types:a}=i;if(a.length===1&&a[0]==="text/plain")return;e.preventDefault();const o=T(A=le,Sa,Iv).call(A,i.getData("text")||"").replaceAll(kp,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:p}=d,m=[],b=[];if(f.nodeType===Node.TEXT_NODE){const x=f.parentElement;if(b.push(f.nodeValue.slice(p).replaceAll(kp,"")),x!==this.editorDiv){let L=m;for(const O of this.editorDiv.childNodes){if(O===x){L=b;continue}L.push(T(w=le,Sa,ig).call(w,O))}}m.push(f.nodeValue.slice(0,p).replaceAll(kp,""))}else if(f===this.editorDiv){let x=m,L=0;for(const O of this.editorDiv.childNodes)L++===p&&(x=b),x.push(T(M=le,Sa,ig).call(M,O))}_(this,ii,`${m.join(`
`)}${o}${b.join(`
`)}`),T(this,Pe,sg).call(this);const v=new Range;let S=m.reduce((x,L)=>x+L.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const L=x.nodeValue.length;if(S<=L){v.setStart(x,S),v.setEnd(x,S);break}S-=L}u.removeAllRanges(),u.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,a){var d;let o=null;if(e instanceof PT){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:m,rotation:b,id:v,popupRef:S},textContent:A,textPosition:w,parent:{page:{pageNumber:M}}}=e;if(!A||A.length===0)return null;o=e={annotationType:Dt.FREETEXT,color:Array.from(p),fontSize:f,value:A.join(`
`),position:w,pageIndex:M-1,rect:m.slice(0),rotation:b,id:v,deleted:!1,popupRef:S}}const u=await super.deserialize(e,i,a);return _(u,si,e.fontSize),_(u,qi,dt.makeHexColor(...e.color)),_(u,ii,T(d=le,Sa,Iv).call(d,e.value)),u.annotationElementId=e.id||null,u._initialData=o,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=le._internalPadding*this.parentScale,a=this.getRect(i,i),o=Zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,qi)),u={annotationType:Dt.FREETEXT,color:o,fontSize:h(this,si),value:T(this,Pe,qT).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!T(this,Pe,GT).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:a}=i;a.fontSize=`calc(${h(this,si)}px * var(--scale-factor))`,a.color=h(this,qi),i.replaceChildren();for(const u of h(this,ii).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),i.append(d)}const o=le._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:h(this,ii)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};qi=new WeakMap,ii=new WeakMap,zd=new WeakMap,Bo=new WeakMap,si=new WeakMap,Pe=new WeakSet,BT=function(e){const i=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-h(this,si))*this.parentScale),_(this,si,o),T(this,Pe,ng).call(this)},a=h(this,si);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},IT=function(e){const i=o=>{_(this,qi,this.editorDiv.style.color=o)},a=h(this,qi);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},jT=function(){var a;const e=[];this.editorDiv.normalize();let i=null;for(const o of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(T(a=le,Sa,ig).call(a,o)),i=o);return e.join(`
`)},ng=function(){const[e,i]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),a=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=a.width/e,this.height=a.height/i):(this.width=a.height/e,this.height=a.width/i),this.fixAndSetPosition()},Sa=new WeakSet,ig=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(kp,"")},sg=function(){if(this.editorDiv.replaceChildren(),!!h(this,ii))for(const e of h(this,ii).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},qT=function(){return h(this,ii).replaceAll(""," ")},Iv=function(e){return e.replaceAll(" ","")},GT=function(e){const{value:i,fontSize:a,color:o,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==a||e.color.some((d,f)=>d!==o[f])||e.pageIndex!==u},C(le,Sa),Et(le,"_freeTextDefaultContent",""),Et(le,"_internalPadding",0),Et(le,"_defaultColor",null),Et(le,"_defaultFontSize",10),Et(le,"_type","freetext"),Et(le,"_editorType",Dt.FREETEXT);let Bv=le;class VT{toSVGPath(){ce("Abstract method `toSVGPath` must be implemented.")}get box(){ce("Abstract getter `box` must be implemented.")}serialize(t,e){ce("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ce("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ce("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ai,Gi,Gc,Vc,ys,Ft,Io,jo,Ud,Bd,Xc,Yc,mr,Id,Ug,Bg,qe,Ch,XT,YT,$T,KT,WT,QT;const Xs=class Xs{constructor({x:t,y:e},i,a,o,u,d=0){C(this,qe);C(this,ai);C(this,Gi,[]);C(this,Gc);C(this,Vc);C(this,ys,[]);C(this,Ft,new Float64Array(18));C(this,Io);C(this,jo);C(this,Ud);C(this,Bd);C(this,Xc);C(this,Yc);C(this,mr,[]);_(this,ai,i),_(this,Yc,o*a),_(this,Vc,u),h(this,Ft).set([NaN,NaN,NaN,NaN,t,e],6),_(this,Gc,d),_(this,Bd,h(Xs,Id)*a),_(this,Ud,h(Xs,Bg)*a),_(this,Xc,a),h(this,mr).push(t,e)}isEmpty(){return isNaN(h(this,Ft)[8])}add({x:t,y:e}){var tt;_(this,Io,t),_(this,jo,e);const[i,a,o,u]=h(this,ai);let[d,f,p,m]=h(this,Ft).subarray(8,12);const b=t-p,v=e-m,S=Math.hypot(b,v);if(S<h(this,Ud))return!1;const A=S-h(this,Bd),w=A/S,M=w*b,x=w*v;let L=d,O=f;d=p,f=m,p+=M,m+=x,(tt=h(this,mr))==null||tt.push(t,e);const P=-x/A,F=M/A,j=P*h(this,Yc),V=F*h(this,Yc);return h(this,Ft).set(h(this,Ft).subarray(2,8),0),h(this,Ft).set([p+j,m+V],4),h(this,Ft).set(h(this,Ft).subarray(14,18),12),h(this,Ft).set([p-j,m-V],16),isNaN(h(this,Ft)[6])?(h(this,ys).length===0&&(h(this,Ft).set([d+j,f+V],2),h(this,ys).push(NaN,NaN,NaN,NaN,(d+j-i)/o,(f+V-a)/u),h(this,Ft).set([d-j,f-V],14),h(this,Gi).push(NaN,NaN,NaN,NaN,(d-j-i)/o,(f-V-a)/u)),h(this,Ft).set([L,O,d,f,p,m],6),!this.isEmpty()):(h(this,Ft).set([L,O,d,f,p,m],6),Math.abs(Math.atan2(O-f,L-d)-Math.atan2(x,M))<Math.PI/2?([d,f,p,m]=h(this,Ft).subarray(2,6),h(this,ys).push(NaN,NaN,NaN,NaN,((d+p)/2-i)/o,((f+m)/2-a)/u),[d,f,L,O]=h(this,Ft).subarray(14,18),h(this,Gi).push(NaN,NaN,NaN,NaN,((L+d)/2-i)/o,((O+f)/2-a)/u),!0):([L,O,d,f,p,m]=h(this,Ft).subarray(0,6),h(this,ys).push(((L+5*d)/6-i)/o,((O+5*f)/6-a)/u,((5*d+p)/6-i)/o,((5*f+m)/6-a)/u,((d+p)/2-i)/o,((f+m)/2-a)/u),[p,m,d,f,L,O]=h(this,Ft).subarray(12,18),h(this,Gi).push(((L+5*d)/6-i)/o,((O+5*f)/6-a)/u,((5*d+p)/6-i)/o,((5*f+m)/6-a)/u,((d+p)/2-i)/o,((f+m)/2-a)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,ys),e=h(this,Gi);if(isNaN(h(this,Ft)[6])&&!this.isEmpty())return T(this,qe,XT).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);T(this,qe,$T).call(this,i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return T(this,qe,YT).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,a,o,u){return new ZT(t,e,i,a,o,u)}getOutlines(){var b;const t=h(this,ys),e=h(this,Gi),i=h(this,Ft),[a,o,u,d]=h(this,ai),f=new Float64Array((((b=h(this,mr))==null?void 0:b.length)??0)+2);for(let v=0,S=f.length-2;v<S;v+=2)f[v]=(h(this,mr)[v]-a)/u,f[v+1]=(h(this,mr)[v+1]-o)/d;if(f[f.length-2]=(h(this,Io)-a)/u,f[f.length-1]=(h(this,jo)-o)/d,isNaN(i[6])&&!this.isEmpty())return T(this,qe,KT).call(this,f);const p=new Float64Array(h(this,ys).length+24+h(this,Gi).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){p[v]=p[v+1]=NaN;continue}p[v]=t[v],p[v+1]=t[v+1]}m=T(this,qe,QT).call(this,p,m);for(let v=e.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(e[v+S])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=e[v+S],p[m+1]=e[v+S+1],m+=2}return T(this,qe,WT).call(this,p,m),this.newFreeDrawOutline(p,f,h(this,ai),h(this,Xc),h(this,Gc),h(this,Vc))}};ai=new WeakMap,Gi=new WeakMap,Gc=new WeakMap,Vc=new WeakMap,ys=new WeakMap,Ft=new WeakMap,Io=new WeakMap,jo=new WeakMap,Ud=new WeakMap,Bd=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,mr=new WeakMap,Id=new WeakMap,Ug=new WeakMap,Bg=new WeakMap,qe=new WeakSet,Ch=function(){const t=h(this,Ft).subarray(4,6),e=h(this,Ft).subarray(16,18),[i,a,o,u]=h(this,ai);return[(h(this,Io)+(t[0]-e[0])/2-i)/o,(h(this,jo)+(t[1]-e[1])/2-a)/u,(h(this,Io)+(e[0]-t[0])/2-i)/o,(h(this,jo)+(e[1]-t[1])/2-a)/u]},XT=function(){const[t,e,i,a]=h(this,ai),[o,u,d,f]=T(this,qe,Ch).call(this);return`M${(h(this,Ft)[2]-t)/i} ${(h(this,Ft)[3]-e)/a} L${(h(this,Ft)[4]-t)/i} ${(h(this,Ft)[5]-e)/a} L${o} ${u} L${d} ${f} L${(h(this,Ft)[16]-t)/i} ${(h(this,Ft)[17]-e)/a} L${(h(this,Ft)[14]-t)/i} ${(h(this,Ft)[15]-e)/a} Z`},YT=function(t){const e=h(this,Gi);t.push(`L${e[4]} ${e[5]} Z`)},$T=function(t){const[e,i,a,o]=h(this,ai),u=h(this,Ft).subarray(4,6),d=h(this,Ft).subarray(16,18),[f,p,m,b]=T(this,qe,Ch).call(this);t.push(`L${(u[0]-e)/a} ${(u[1]-i)/o} L${f} ${p} L${m} ${b} L${(d[0]-e)/a} ${(d[1]-i)/o}`)},KT=function(t){const e=h(this,Ft),[i,a,o,u]=h(this,ai),[d,f,p,m]=T(this,qe,Ch).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-a)/u,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-a)/u,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-a)/u],0),this.newFreeDrawOutline(b,t,h(this,ai),h(this,Xc),h(this,Gc),h(this,Vc))},WT=function(t,e){const i=h(this,Gi);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},QT=function(t,e){const i=h(this,Ft).subarray(4,6),a=h(this,Ft).subarray(16,18),[o,u,d,f]=h(this,ai),[p,m,b,v]=T(this,qe,Ch).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/d,(i[1]-u)/f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(a[0]-o)/d,(a[1]-u)/f],e),e+=24},C(Xs,Id,8),C(Xs,Ug,2),C(Xs,Bg,h(Xs,Id)+h(Xs,Ug));let Sg=Xs;var $c,qo,oa,jd,ri,qd,Te,qn,Mh,Lh,JT;class ZT extends VT{constructor(e,i,a,o,u,d){super();C(this,qn);C(this,$c);C(this,qo,null);C(this,oa);C(this,jd);C(this,ri);C(this,qd);C(this,Te);_(this,Te,e),_(this,ri,i),_(this,$c,a),_(this,qd,o),_(this,oa,u),_(this,jd,d),T(this,qn,JT).call(this,d);const{x:f,y:p,width:m,height:b}=h(this,qo);for(let v=0,S=e.length;v<S;v+=2)e[v]=(e[v]-f)/m,e[v+1]=(e[v+1]-p)/b;for(let v=0,S=i.length;v<S;v+=2)i[v]=(i[v]-f)/m,i[v+1]=(i[v+1]-p)/b}toSVGPath(){const e=[`M${h(this,Te)[4]} ${h(this,Te)[5]}`];for(let i=6,a=h(this,Te).length;i<a;i+=6){if(isNaN(h(this,Te)[i])){e.push(`L${h(this,Te)[i+4]} ${h(this,Te)[i+5]}`);continue}e.push(`C${h(this,Te)[i]} ${h(this,Te)[i+1]} ${h(this,Te)[i+2]} ${h(this,Te)[i+3]} ${h(this,Te)[i+4]} ${h(this,Te)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,a,o],u){const d=a-e,f=o-i;let p,m;switch(u){case 0:p=T(this,qn,Mh).call(this,h(this,Te),e,o,d,-f),m=T(this,qn,Mh).call(this,h(this,ri),e,o,d,-f);break;case 90:p=T(this,qn,Lh).call(this,h(this,Te),e,i,d,f),m=T(this,qn,Lh).call(this,h(this,ri),e,i,d,f);break;case 180:p=T(this,qn,Mh).call(this,h(this,Te),a,i,-d,f),m=T(this,qn,Mh).call(this,h(this,ri),a,i,-d,f);break;case 270:p=T(this,qn,Lh).call(this,h(this,Te),a,o,-d,-f),m=T(this,qn,Lh).call(this,h(this,ri),a,o,-d,-f);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return h(this,qo)}newOutliner(e,i,a,o,u,d=0){return new Sg(e,i,a,o,u,d)}getNewOutline(e,i){const{x:a,y:o,width:u,height:d}=h(this,qo),[f,p,m,b]=h(this,$c),v=u*m,S=d*b,A=a*m+f,w=o*b+p,M=this.newOutliner({x:h(this,ri)[0]*v+A,y:h(this,ri)[1]*S+w},h(this,$c),h(this,qd),e,h(this,jd),i??h(this,oa));for(let x=2;x<h(this,ri).length;x+=2)M.add({x:h(this,ri)[x]*v+A,y:h(this,ri)[x+1]*S+w});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}$c=new WeakMap,qo=new WeakMap,oa=new WeakMap,jd=new WeakMap,ri=new WeakMap,qd=new WeakMap,Te=new WeakMap,qn=new WeakSet,Mh=function(e,i,a,o,u){const d=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)d[f]=i+e[f]*o,d[f+1]=a+e[f+1]*u;return d},Lh=function(e,i,a,o,u){const d=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)d[f]=i+e[f+1]*o,d[f+1]=a+e[f]*u;return d},JT=function(e){const i=h(this,Te);let a=i[4],o=i[5],u=a,d=o,f=a,p=o,m=a,b=o;const v=e?Math.max:Math.min;for(let x=6,L=i.length;x<L;x+=6){if(isNaN(i[x]))u=Math.min(u,i[x+4]),d=Math.min(d,i[x+5]),f=Math.max(f,i[x+4]),p=Math.max(p,i[x+5]),b<i[x+5]?(m=i[x+4],b=i[x+5]):b===i[x+5]&&(m=v(m,i[x+4]));else{const O=dt.bezierBoundingBox(a,o,...i.slice(x,x+6));u=Math.min(u,O[0]),d=Math.min(d,O[1]),f=Math.max(f,O[2]),p=Math.max(p,O[3]),b<O[3]?(m=O[2],b=O[3]):b===O[3]&&(m=v(m,O[2]))}a=i[x+4],o=i[x+5]}const S=u-h(this,oa),A=d-h(this,oa),w=f-u+2*h(this,oa),M=p-d+2*h(this,oa);_(this,qo,{x:S,y:A,width:w,height:M,lastPoint:[m,b]})};var Gd,yr,Vi,Dn,tx,ag,ex,nx,jv;class Rw{constructor(t,e=0,i=0,a=!0){C(this,Dn);C(this,Gd);C(this,yr,[]);C(this,Vi,[]);let o=1/0,u=-1/0,d=1/0,f=-1/0;const p=10**-4;for(const{x:M,y:x,width:L,height:O}of t){const P=Math.floor((M-e)/p)*p,F=Math.ceil((M+L+e)/p)*p,j=Math.floor((x-e)/p)*p,V=Math.ceil((x+O+e)/p)*p,W=[P,j,V,!0],tt=[F,j,V,!1];h(this,yr).push(W,tt),o=Math.min(o,P),u=Math.max(u,F),d=Math.min(d,j),f=Math.max(f,V)}const m=u-o+2*i,b=f-d+2*i,v=o-i,S=d-i,A=h(this,yr).at(a?-1:-2),w=[A[0],A[2]];for(const M of h(this,yr)){const[x,L,O]=M;M[0]=(x-v)/m,M[1]=(L-S)/b,M[2]=(O-S)/b}_(this,Gd,{x:v,y:S,width:m,height:b,lastPoint:w})}getOutlines(){h(this,yr).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of h(this,yr))e[3]?(t.push(...T(this,Dn,jv).call(this,e)),T(this,Dn,ex).call(this,e)):(T(this,Dn,nx).call(this,e),t.push(...T(this,Dn,jv).call(this,e)));return T(this,Dn,tx).call(this,t)}}Gd=new WeakMap,yr=new WeakMap,Vi=new WeakMap,Dn=new WeakSet,tx=function(t){const e=[],i=new Set;for(const u of t){const[d,f,p]=u;e.push([d,f,u],[d,p,u])}e.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=e.length;u<d;u+=2){const f=e[u][2],p=e[u+1][2];f.push(p),p.push(f),i.add(f),i.add(p)}const a=[];let o;for(;i.size>0;){const u=i.values().next().value;let[d,f,p,m,b]=u;i.delete(u);let v=d,S=f;for(o=[d,p],a.push(o);;){let A;if(i.has(m))A=m;else if(i.has(b))A=b;else break;i.delete(A),[d,f,p,m,b]=A,v!==d&&(o.push(v,S,d,S===f?f:p),v=d),S=S===f?p:f}o.push(v,S)}return new _N(a,h(this,Gd))},ag=function(t){const e=h(this,Vi);let i=0,a=e.length-1;for(;i<=a;){const o=i+a>>1,u=e[o][0];if(u===t)return o;u<t?i=o+1:a=o-1}return a+1},ex=function([,t,e]){const i=T(this,Dn,ag).call(this,t);h(this,Vi).splice(i,0,[t,e])},nx=function([,t,e]){const i=T(this,Dn,ag).call(this,t);for(let a=i;a<h(this,Vi).length;a++){const[o,u]=h(this,Vi)[a];if(o!==t)break;if(o===t&&u===e){h(this,Vi).splice(a,1);return}}for(let a=i-1;a>=0;a--){const[o,u]=h(this,Vi)[a];if(o!==t)break;if(o===t&&u===e){h(this,Vi).splice(a,1);return}}},jv=function(t){const[e,i,a]=t,o=[[e,i,a]],u=T(this,Dn,ag).call(this,a);for(let d=0;d<u;d++){const[f,p]=h(this,Vi)[d];for(let m=0,b=o.length;m<b;m++){const[,v,S]=o[m];if(!(p<=v||S<=f)){if(v>=f){if(S>p)o[m][1]=p;else{if(b===1)return[];o.splice(m,1),m--,b--}continue}o[m][2]=f,S>p&&o.push([e,p,S])}}}return o};var Vd,Kc;class _N extends VT{constructor(e,i){super();C(this,Vd);C(this,Kc);_(this,Kc,e),_(this,Vd,i)}toSVGPath(){const e=[];for(const i of h(this,Kc)){let[a,o]=i;e.push(`M${a} ${o}`);for(let u=2;u<i.length;u+=2){const d=i[u],f=i[u+1];d===a?(e.push(`V${f}`),o=f):f===o&&(e.push(`H${d}`),a=d)}e.push("Z")}return e.join(" ")}serialize([e,i,a,o],u){const d=[],f=a-e,p=o-i;for(const m of h(this,Kc)){const b=new Array(m.length);for(let v=0;v<m.length;v+=2)b[v]=e+m[v]*f,b[v+1]=o-m[v+1]*p;d.push(b)}return d}get box(){return h(this,Vd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Vd=new WeakMap,Kc=new WeakMap;class qv extends Sg{newFreeDrawOutline(t,e,i,a,o,u){return new wN(t,e,i,a,o,u)}get classNamesForDrawing(){return["highlight","free"]}}class wN extends ZT{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,i,a,o,u=0){return new qv(t,e,i,a,o,u)}}var Xi,Go,Wc,Be,Xd,Qc,Yd,$d,br,Yi,Zc,Kd,ie,Gv,Vv,Xv,Zr,ix,Wa;const zn=class zn{constructor({editor:t=null,uiManager:e=null}){C(this,ie);C(this,Xi,null);C(this,Go,null);C(this,Wc);C(this,Be,null);C(this,Xd,!1);C(this,Qc,!1);C(this,Yd,null);C(this,$d);C(this,br,null);C(this,Yi,null);C(this,Zc);var i;t?(_(this,Qc,!1),_(this,Zc,_t.HIGHLIGHT_COLOR),_(this,Yd,t)):(_(this,Qc,!0),_(this,Zc,_t.HIGHLIGHT_DEFAULT_COLOR)),_(this,Yi,(t==null?void 0:t._uiManager)||e),_(this,$d,h(this,Yi)._eventBus),_(this,Wc,(t==null?void 0:t.color)||((i=h(this,Yi))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(zn,Kd)||_(zn,Kd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return It(this,"_keyboardManager",new cf([[["Escape","mac+Escape"],zn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],zn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],zn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],zn.prototype._moveToPrevious],[["Home","mac+Home"],zn.prototype._moveToBeginning],[["End","mac+End"],zn.prototype._moveToEnd]]))}renderButton(){const t=_(this,Xi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Yi)._signal;t.addEventListener("click",T(this,ie,Zr).bind(this),{signal:e}),t.addEventListener("keydown",T(this,ie,Xv).bind(this),{signal:e});const i=_(this,Go,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=h(this,Wc),t.append(i),t}renderMainDropdown(){const t=_(this,Be,T(this,ie,Gv).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Xi)){T(this,ie,Zr).call(this,t);return}const e=t.target.getAttribute("data-color");e&&T(this,ie,Vv).call(this,e,t)}_moveToNext(t){var e,i;if(!h(this,ie,Wa)){T(this,ie,Zr).call(this,t);return}if(t.target===h(this,Xi)){(e=h(this,Be).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=h(this,Be))==null?void 0:e.firstChild)||t.target===h(this,Xi)){h(this,ie,Wa)&&this._hideDropdownFromKeyboard();return}h(this,ie,Wa)||T(this,ie,Zr).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!h(this,ie,Wa)){T(this,ie,Zr).call(this,t);return}(e=h(this,Be).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,ie,Wa)){T(this,ie,Zr).call(this,t);return}(e=h(this,Be).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,Be))==null||t.classList.add("hidden"),(e=h(this,br))==null||e.abort(),_(this,br,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Qc)){if(!h(this,ie,Wa)){(t=h(this,Yd))==null||t.unselect();return}this.hideDropdown(),h(this,Xi).focus({preventScroll:!0,focusVisible:h(this,Xd)})}}updateColor(t){if(h(this,Go)&&(h(this,Go).style.backgroundColor=t),!h(this,Be))return;const e=h(this,Yi).highlightColors.values();for(const i of h(this,Be).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Xi))==null||t.remove(),_(this,Xi,null),_(this,Go,null),(e=h(this,Be))==null||e.remove(),_(this,Be,null)}};Xi=new WeakMap,Go=new WeakMap,Wc=new WeakMap,Be=new WeakMap,Xd=new WeakMap,Qc=new WeakMap,Yd=new WeakMap,$d=new WeakMap,br=new WeakMap,Yi=new WeakMap,Zc=new WeakMap,Kd=new WeakMap,ie=new WeakSet,Gv=function(){const t=document.createElement("div"),e=h(this,Yi)._signal;t.addEventListener("contextmenu",Li,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,a]of h(this,Yi).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=i,o.setAttribute("data-l10n-id",h(zn,Kd)[i]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=a,o.setAttribute("aria-selected",a===h(this,Wc)),o.addEventListener("click",T(this,ie,Vv).bind(this,a),{signal:e}),t.append(o)}return t.addEventListener("keydown",T(this,ie,Xv).bind(this),{signal:e}),t},Vv=function(t,e){e.stopPropagation(),h(this,$d).dispatch("switchannotationeditorparams",{source:this,type:h(this,Zc),value:t})},Xv=function(t){zn._keyboardManager.exec(this,t)},Zr=function(t){if(h(this,ie,Wa)){this.hideDropdown();return}if(_(this,Xd,t.detail===0),h(this,br)||(_(this,br,new AbortController),window.addEventListener("pointerdown",T(this,ie,ix).bind(this),{signal:h(this,Yi).combinedSignal(h(this,br))})),h(this,Be)){h(this,Be).classList.remove("hidden");return}const e=_(this,Be,T(this,ie,Gv).call(this));h(this,Xi).append(e)},ix=function(t){var e;(e=h(this,Be))!=null&&e.contains(t.target)||this.hideDropdown()},Wa=function(){return h(this,Be)&&!h(this,Be).classList.contains("hidden")},C(zn,Kd,null);let Eg=zn;var Jc,Wd,la,Vo,tu,wi,Qd,Zd,Xo,$i,vn,In,eu,ca,Ie,nu,Ti,Jd,Mt,Yv,rg,sx,ax,rx,$v,Jr,Ci,sc,ox,og,Dh,lx,cx,ux,hx,dx;const Vt=class Vt extends Zt{constructor(e){super({...e,name:"highlightEditor"});C(this,Mt);C(this,Jc,null);C(this,Wd,0);C(this,la);C(this,Vo,null);C(this,tu,null);C(this,wi,null);C(this,Qd,null);C(this,Zd,0);C(this,Xo,null);C(this,$i,null);C(this,vn,null);C(this,In,!1);C(this,eu,null);C(this,ca);C(this,Ie,null);C(this,nu,"");C(this,Ti);C(this,Jd,"");this.color=e.color||Vt._defaultColor,_(this,Ti,e.thickness||Vt._defaultThickness),_(this,ca,e.opacity||Vt._defaultOpacity),_(this,la,e.boxes||null),_(this,Jd,e.methodOfCreation||""),_(this,nu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(_(this,In,!0),T(this,Mt,rg).call(this,e),T(this,Mt,Jr).call(this)):h(this,la)&&(_(this,Jc,e.anchorNode),_(this,Wd,e.anchorOffset),_(this,Qd,e.focusNode),_(this,Zd,e.focusOffset),T(this,Mt,Yv).call(this),T(this,Mt,Jr).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Vt.prototype;return It(this,"_keyboardManager",new cf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,In)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,Ti),methodOfCreation:h(this,Jd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var a;Zt.initialize(e,i),Vt._defaultColor||(Vt._defaultColor=((a=i.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case _t.HIGHLIGHT_DEFAULT_COLOR:Vt._defaultColor=i;break;case _t.HIGHLIGHT_THICKNESS:Vt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return h(this,eu)}updateParams(e,i){switch(e){case _t.HIGHLIGHT_COLOR:T(this,Mt,sx).call(this,i);break;case _t.HIGHLIGHT_THICKNESS:T(this,Mt,ax).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_DEFAULT_COLOR,Vt._defaultColor],[_t.HIGHLIGHT_THICKNESS,Vt._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||Vt._defaultColor],[_t.HIGHLIGHT_THICKNESS,h(this,Ti)||Vt._defaultThickness],[_t.HIGHLIGHT_FREE,h(this,In)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(_(this,tu,new Eg({editor:this})),e.addColorPicker(h(this,tu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(T(this,Mt,Dh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,T(this,Mt,Dh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){T(this,Mt,$v).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(T(this,Mt,Jr).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?T(this,Mt,$v).call(this):e&&(T(this,Mt,Jr).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var o,u,d;const{drawLayer:i}=this.parent;let a;h(this,In)?(e=(e-this.rotation+360)%360,a=T(o=Vt,Ci,sc).call(o,h(this,$i).box,e)):a=T(u=Vt,Ci,sc).call(u,this,e),i.rotate(h(this,vn),e),i.rotate(h(this,Ie),e),i.updateBox(h(this,vn),a),i.updateBox(h(this,Ie),T(d=Vt,Ci,sc).call(d,h(this,wi).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,nu)&&(e.setAttribute("aria-label",h(this,nu)),e.setAttribute("role","mark")),h(this,In)?e.classList.add("free"):this.div.addEventListener("keydown",T(this,Mt,ox).bind(this),{signal:this._uiManager._signal});const i=_(this,Xo,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=h(this,Vo);const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),vg(this,h(this,Xo),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,Ie),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,Ie),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:T(this,Mt,og).call(this,!0);break;case 1:case 3:T(this,Mt,og).call(this,!1);break}}select(){var e,i;super.select(),h(this,Ie)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,Ie),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(h(this,Ie),"selected"))}unselect(){var e;super.unselect(),h(this,Ie)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,Ie),"selected"),h(this,In)||T(this,Mt,og).call(this,!1))}get _mustFixPosition(){return!h(this,In)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,vn),e),this.parent.drawLayer.show(h(this,Ie),e))}static startHighlighting(e,i,{target:a,x:o,y:u}){const{x:d,y:f,width:p,height:m}=a.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),S=w=>{w.preventDefault(),w.stopPropagation()},A=w=>{b.abort(),T(this,Ci,hx).call(this,e,w)};window.addEventListener("blur",A,{signal:v}),window.addEventListener("pointerup",A,{signal:v}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Li,{signal:v}),a.addEventListener("pointermove",T(this,Ci,ux).bind(this,e),{signal:v}),this._freeHighlight=new qv({x:o,y:u},[d,f,p,m],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,i,a){var w,M,x,L;let o=null;if(e instanceof HT){const{data:{quadPoints:O,rect:P,rotation:F,id:j,color:V,opacity:W,popupRef:tt},parent:{page:{pageNumber:at}}}=e;o=e={annotationType:Dt.HIGHLIGHT,color:Array.from(V),opacity:W,quadPoints:O,boxes:null,pageIndex:at-1,rect:P.slice(0),rotation:F,id:j,deleted:!1,popupRef:tt}}else if(e instanceof z0){const{data:{inkLists:O,rect:P,rotation:F,id:j,color:V,borderStyle:{rawWidth:W},popupRef:tt},parent:{page:{pageNumber:at}}}=e;o=e={annotationType:Dt.HIGHLIGHT,color:Array.from(V),thickness:W,inkLists:O,boxes:null,pageIndex:at-1,rect:P.slice(0),rotation:F,id:j,deleted:!1,popupRef:tt}}const{color:u,quadPoints:d,inkLists:f,opacity:p}=e,m=await super.deserialize(e,i,a);m.color=dt.makeHexColor(...u),_(m,ca,p||1),f&&_(m,Ti,e.thickness),m.annotationElementId=e.id||null,m._initialData=o;const[b,v]=m.pageDimensions,[S,A]=m.pageTranslation;if(d){const O=_(m,la,[]);for(let P=0;P<d.length;P+=8)O.push({x:(d[P]-S)/b,y:1-(d[P+1]-A)/v,width:(d[P+2]-d[P])/b,height:(d[P+1]-d[P+5])/v});T(w=m,Mt,Yv).call(w),T(M=m,Mt,Jr).call(M),m.rotate(m.rotation)}else if(f){_(m,In,!0);const O=f[0],P={x:O[0]-S,y:v-(O[1]-A)},F=new qv(P,[0,0,b,v],1,h(m,Ti)/2,!0,.001);for(let W=0,tt=O.length;W<tt;W+=2)P.x=O[W]-S,P.y=v-(O[W+1]-A),F.add(P);const{id:j,clipPathId:V}=i.drawLayer.draw(F,m.color,m._defaultOpacity,!0);T(x=m,Mt,rg).call(x,{highlightOutlines:F.getOutlines(),highlightId:j,clipPathId:V}),T(L=m,Mt,Jr).call(L)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),a=Zt._colorManager.convert(this.color),o={annotationType:Dt.HIGHLIGHT,color:a,opacity:h(this,ca),thickness:h(this,Ti),quadPoints:T(this,Mt,lx).call(this),outlines:T(this,Mt,cx).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:T(this,Mt,Dh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!T(this,Mt,dx).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Jc=new WeakMap,Wd=new WeakMap,la=new WeakMap,Vo=new WeakMap,tu=new WeakMap,wi=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Xo=new WeakMap,$i=new WeakMap,vn=new WeakMap,In=new WeakMap,eu=new WeakMap,ca=new WeakMap,Ie=new WeakMap,nu=new WeakMap,Ti=new WeakMap,Jd=new WeakMap,Mt=new WeakSet,Yv=function(){const e=new Rw(h(this,la),.001);_(this,$i,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,$i).box;const i=new Rw(h(this,la),.0025,.001,this._uiManager.direction==="ltr");_(this,wi,i.getOutlines());const{lastPoint:a}=h(this,wi).box;_(this,eu,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},rg=function({highlightOutlines:e,highlightId:i,clipPathId:a}){var b,v;if(_(this,$i,e),_(this,wi,e.getNewOutline(h(this,Ti)/2+1.5,.0025)),i>=0)_(this,vn,i),_(this,Vo,a),this.parent.drawLayer.finalizeLine(i,e),_(this,Ie,this.parent.drawLayer.drawOutline(h(this,wi)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,vn),e),this.parent.drawLayer.updateBox(h(this,vn),T(b=Vt,Ci,sc).call(b,h(this,$i).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,Ie),h(this,wi)),this.parent.drawLayer.updateBox(h(this,Ie),T(v=Vt,Ci,sc).call(v,h(this,wi).box,S))}const{x:u,y:d,width:f,height:p}=e.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=p;break;case 90:{const[S,A]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*A/S,this.height=p*S/A;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=p;break;case 270:{const[S,A]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*A/S,this.height=p*S/A;break}}const{lastPoint:m}=h(this,wi).box;_(this,eu,[(m[0]-u)/f,(m[1]-d)/p])},sx=function(e){const i=(u,d)=>{var f,p,m;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(h(this,vn),u),(p=h(this,tu))==null||p.updateColor(u),_(this,ca,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,vn),d)},a=this.color,o=h(this,ca);this.addCommands({cmd:i.bind(this,e,Vt._defaultOpacity),undo:i.bind(this,a,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},ax=function(e){const i=h(this,Ti),a=o=>{_(this,Ti,o),T(this,Mt,rx).call(this,o)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},rx=function(e){if(!h(this,In))return;T(this,Mt,rg).call(this,{highlightOutlines:h(this,$i).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)},$v=function(){h(this,vn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,vn)),_(this,vn,null),this.parent.drawLayer.remove(h(this,Ie)),_(this,Ie,null))},Jr=function(e=this.parent){h(this,vn)===null&&({id:Tn(this,vn)._,clipPathId:Tn(this,Vo)._}=e.drawLayer.draw(h(this,$i),this.color,h(this,ca)),_(this,Ie,e.drawLayer.drawOutline(h(this,wi))),h(this,Xo)&&(h(this,Xo).style.clipPath=h(this,Vo)))},Ci=new WeakSet,sc=function({x:e,y:i,width:a,height:o},u){switch(u){case 90:return{x:1-i-o,y:e,width:o,height:a};case 180:return{x:1-e-a,y:1-i-o,width:a,height:o};case 270:return{x:i,y:1-e-a,width:o,height:a}}return{x:e,y:i,width:a,height:o}},ox=function(e){Vt._keyboardManager.exec(this,e)},og=function(e){if(!h(this,Jc))return;const i=window.getSelection();e?i.setPosition(h(this,Jc),h(this,Wd)):i.setPosition(h(this,Qd),h(this,Zd))},Dh=function(){return h(this,In)?this.rotation:0},lx=function(){if(h(this,In))return null;const[e,i]=this.pageDimensions,[a,o]=this.pageTranslation,u=h(this,la),d=new Float32Array(u.length*8);let f=0;for(const{x:p,y:m,width:b,height:v}of u){const S=p*e+a,A=(1-m-v)*i+o;d[f]=d[f+4]=S,d[f+1]=d[f+3]=A,d[f+2]=d[f+6]=S+b*e,d[f+5]=d[f+7]=A+v*i,f+=8}return d},cx=function(e){return h(this,$i).serialize(e,T(this,Mt,Dh).call(this))},ux=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},hx=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},dx=function(e){const{color:i}=this._initialData;return e.color.some((a,o)=>a!==i[o])},C(Vt,Ci),Et(Vt,"_defaultColor",null),Et(Vt,"_defaultOpacity",1),Et(Vt,"_defaultThickness",12),Et(Vt,"_type","highlight"),Et(Vt,"_editorType",Dt.HIGHLIGHT),Et(Vt,"_freeHighlightId",-1),Et(Vt,"_freeHighlight",null),Et(Vt,"_freeHighlightClipId","");let _g=Vt;var Yo,$o,bs,ua,xi,Ko,Wo,Qo,ha,iu,Zo,Jo,vr,it,fx,px,gx,mx,Wv,yx,Qv,bx,vx,Ax,Sx,Ex,to,Zv,Jv,t0,lg,cg,ac,e0,ug,wa,_x,n0,wx,Tx,i0,hg,Oh;const pe=class pe extends Zt{constructor(e){super({...e,name:"inkEditor"});C(this,it);C(this,Yo,0);C(this,$o,0);C(this,bs,null);C(this,ua,new Path2D);C(this,xi,!1);C(this,Ko,null);C(this,Wo,!1);C(this,Qo,!1);C(this,ha,null);C(this,iu,null);C(this,Zo,0);C(this,Jo,0);C(this,vr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,i){Zt.initialize(e,i)}static updateDefaultParams(e,i){switch(e){case _t.INK_THICKNESS:pe._defaultThickness=i;break;case _t.INK_COLOR:pe._defaultColor=i;break;case _t.INK_OPACITY:pe._defaultOpacity=i/100;break}}updateParams(e,i){switch(e){case _t.INK_THICKNESS:T(this,it,fx).call(this,i);break;case _t.INK_COLOR:T(this,it,px).call(this,i);break;case _t.INK_OPACITY:T(this,it,gx).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[_t.INK_THICKNESS,pe._defaultThickness],[_t.INK_COLOR,pe._defaultColor||Zt._defaultLineColor],[_t.INK_OPACITY,Math.round(pe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_t.INK_THICKNESS,this.thickness||pe._defaultThickness],[_t.INK_COLOR,this.color||pe._defaultColor||Zt._defaultLineColor],[_t.INK_OPACITY,Math.round(100*(this.opacity??pe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(T(this,it,lg).call(this),T(this,it,cg).call(this)),this.isAttachedToDOM||(this.parent.add(this),T(this,it,ac).call(this)),T(this,it,Oh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,bs)&&(clearTimeout(h(this,bs)),_(this,bs,null)),(e=h(this,ha))==null||e.disconnect(),_(this,ha,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,i]=this.parentDimensions,a=this.width*e,o=this.height*i;this.setDimensions(a,o)}enableEditMode(){h(this,xi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,T(this,it,Zv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),T(this,it,Jv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,xi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,xi,!0),this.div.classList.add("disabled"),T(this,it,Oh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,xi)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),T(this,it,yx).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),T(this,it,Qv).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),T(this,it,t0).call(this,e)}canvasPointerleave(e){T(this,it,t0).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,xi)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[a,o,u,d]=T(this,it,mx).call(this);if(this.setAt(a,o,0,0),this.setDims(u,d),T(this,it,lg).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(e*f,i*p,this.width*f,this.height*p),_(this,Qo,!0),T(this,it,ac).call(this),this.setDims(this.width*f,this.height*p),T(this,it,to).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return T(this,it,cg).call(this),this.div}setDimensions(e,i){const a=Math.round(e),o=Math.round(i);if(h(this,Zo)===a&&h(this,Jo)===o)return;_(this,Zo,a),_(this,Jo,o),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=e/u,this.height=i/d,this.fixAndSetPosition(),h(this,xi)&&T(this,it,e0).call(this,e,i),T(this,it,ac).call(this),T(this,it,to).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,i,a){var M,x,L;if(e instanceof z0)return null;const o=await super.deserialize(e,i,a);o.thickness=e.thickness,o.color=dt.makeHexColor(...e.color),o.opacity=e.opacity;const[u,d]=o.pageDimensions,f=o.width*u,p=o.height*d,m=o.parentScale,b=e.thickness/2;_(o,xi,!0),_(o,Zo,Math.round(f)),_(o,Jo,Math.round(p));const{paths:v,rect:S,rotation:A}=e;for(let{bezier:O}of v){O=T(M=pe,wa,wx).call(M,O,S,A);const P=[];o.paths.push(P);let F=m*(O[0]-b),j=m*(O[1]-b);for(let W=2,tt=O.length;W<tt;W+=6){const at=m*(O[W]-b),st=m*(O[W+1]-b),gt=m*(O[W+2]-b),bt=m*(O[W+3]-b),ft=m*(O[W+4]-b),ht=m*(O[W+5]-b);P.push([[F,j],[at,st],[gt,bt],[ft,ht]]),F=ft,j=ht}const V=T(this,wa,_x).call(this,P);o.bezierPath2D.push(V)}const w=T(x=o,it,i0).call(x);return _(o,$o,Math.max(Zt.MIN_SIZE,w[2]-w[0])),_(o,Yo,Math.max(Zt.MIN_SIZE,w[3]-w[1])),T(L=o,it,e0).call(L,f,p),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),i=Zt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Dt.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:T(this,it,Tx).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Yo=new WeakMap,$o=new WeakMap,bs=new WeakMap,ua=new WeakMap,xi=new WeakMap,Ko=new WeakMap,Wo=new WeakMap,Qo=new WeakMap,ha=new WeakMap,iu=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,vr=new WeakMap,it=new WeakSet,fx=function(e){const i=o=>{this.thickness=o,T(this,it,Oh).call(this)},a=this.thickness;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},px=function(e){const i=o=>{this.color=o,T(this,it,to).call(this)},a=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gx=function(e){const i=o=>{this.opacity=o,T(this,it,to).call(this)};e/=100;const a=this.opacity;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},mx=function(){const{parentRotation:e,parentDimensions:[i,a]}=this;switch(e){case 90:return[0,a,a,i];case 180:return[i,a,i,a];case 270:return[i,0,a,i];default:return[0,0,i,a]}},Wv=function(){const{ctx:e,color:i,opacity:a,thickness:o,parentScale:u,scaleFactor:d}=this;e.lineWidth=o*u/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${i}${XO(a)}`},yx=function(e,i){this.canvas.addEventListener("contextmenu",Li,{signal:this._uiManager._signal}),T(this,it,Jv).call(this),_(this,Ko,new AbortController);const a=this._uiManager.combinedSignal(h(this,Ko));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:a}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:a}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:a}),this.isEditing=!0,h(this,Qo)||(_(this,Qo,!0),T(this,it,ac).call(this),this.thickness||(this.thickness=pe._defaultThickness),this.color||(this.color=pe._defaultColor||Zt._defaultLineColor),this.opacity??(this.opacity=pe._defaultOpacity)),this.currentPath.push([e,i]),_(this,Wo,!1),T(this,it,Wv).call(this),_(this,vr,()=>{T(this,it,Ax).call(this),h(this,vr)&&window.requestAnimationFrame(h(this,vr))}),window.requestAnimationFrame(h(this,vr))},Qv=function(e,i){const[a,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===a&&i===o)return;const u=this.currentPath;let d=h(this,ua);if(u.push([e,i]),_(this,Wo,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(e,i);return}u.length===3&&(_(this,ua,d=new Path2D),d.moveTo(...u[0])),T(this,it,Sx).call(this,d,...u.at(-3),...u.at(-2),e,i)},bx=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,ua).lineTo(...e)},vx=function(e,i){_(this,vr,null),e=Math.min(Math.max(e,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),T(this,it,Qv).call(this,e,i),T(this,it,bx).call(this);let a;if(this.currentPath.length!==1)a=T(this,it,Ex).call(this);else{const p=[e,i];a=[[p,p.slice(),p.slice(),p]]}const o=h(this,ua),u=this.currentPath;this.currentPath=[],_(this,ua,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(a),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(T(this,it,lg).call(this),T(this,it,cg).call(this)),T(this,it,Oh).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},Ax=function(){if(!h(this,Wo))return;_(this,Wo,!1);const e=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),a=i.map(d=>d[0]),o=i.map(d=>d[1]);Math.min(...a)-e,Math.max(...a)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(h(this,ua)),u.restore()},Sx=function(e,i,a,o,u,d,f){const p=(i+o)/2,m=(a+u)/2,b=(o+d)/2,v=(u+f)/2;e.bezierCurveTo(p+2*(o-p)/3,m+2*(u-m)/3,b+2*(o-b)/3,v+2*(u-v)/3,b,v)},Ex=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const i=[];let a,[o,u]=e[0];for(a=1;a<e.length-2;a++){const[S,A]=e[a],[w,M]=e[a+1],x=(S+w)/2,L=(A+M)/2,O=[o+2*(S-o)/3,u+2*(A-u)/3],P=[x+2*(S-x)/3,L+2*(A-L)/3];i.push([[o,u],O,P,[x,L]]),[o,u]=[x,L]}const[d,f]=e[a],[p,m]=e[a+1],b=[o+2*(d-o)/3,u+2*(f-u)/3],v=[p+2*(d-p)/3,m+2*(f-m)/3];return i.push([[o,u],b,v,[p,m]]),i},to=function(){if(this.isEmpty()){T(this,it,ug).call(this);return}T(this,it,Wv).call(this);const{canvas:e,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),T(this,it,ug).call(this);for(const a of this.bezierPath2D)i.stroke(a)},Zv=function(){if(h(this,iu))return;_(this,iu,new AbortController);const e=this._uiManager.combinedSignal(h(this,iu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Jv=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},t0=function(e){var i;(i=h(this,Ko))==null||i.abort(),_(this,Ko,null),T(this,it,Zv).call(this),h(this,bs)&&clearTimeout(h(this,bs)),_(this,bs,setTimeout(()=>{_(this,bs,null),this.canvas.removeEventListener("contextmenu",Li)},10)),T(this,it,vx).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},lg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},cg=function(){_(this,ha,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),h(this,ha).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,ha))==null||e.disconnect(),_(this,ha,null)},{once:!0})},ac=function(){if(!h(this,Qo))return;const[e,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*i),T(this,it,ug).call(this)},e0=function(e,i){const a=T(this,it,hg).call(this),o=(e-a)/h(this,$o),u=(i-a)/h(this,Yo);this.scaleFactor=Math.min(o,u)},ug=function(){const e=T(this,it,hg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},wa=new WeakSet,_x=function(e){const i=new Path2D;for(let a=0,o=e.length;a<o;a++){const[u,d,f,p]=e[a];a===0&&i.moveTo(...u),i.bezierCurveTo(d[0],d[1],f[0],f[1],p[0],p[1])}return i},n0=function(e,i,a){const[o,u,d,f]=i;switch(a){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]+=o,e[p+1]=f-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const b=e[p];e[p]=e[p+1]+o,e[p+1]=b+u}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=d-e[p],e[p+1]+=u;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const b=e[p];e[p]=d-e[p+1],e[p+1]=f-b}break;default:throw new Error("Invalid rotation")}return e},wx=function(e,i,a){const[o,u,d,f]=i;switch(a){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]-=o,e[p+1]=f-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const b=e[p];e[p]=e[p+1]-u,e[p+1]=b-o}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=d-e[p],e[p+1]-=u;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const b=e[p];e[p]=f-e[p+1],e[p+1]=d-b}break;default:throw new Error("Invalid rotation")}return e},Tx=function(e,i,a,o){var m,b;const u=[],d=this.thickness/2,f=e*i+d,p=e*a+d;for(const v of this.paths){const S=[],A=[];for(let w=0,M=v.length;w<M;w++){const[x,L,O,P]=v[w];if(x[0]===P[0]&&x[1]===P[1]&&M===1){const bt=e*x[0]+f,ft=e*x[1]+p;S.push(bt,ft),A.push(bt,ft);break}const F=e*x[0]+f,j=e*x[1]+p,V=e*L[0]+f,W=e*L[1]+p,tt=e*O[0]+f,at=e*O[1]+p,st=e*P[0]+f,gt=e*P[1]+p;w===0&&(S.push(F,j),A.push(F,j)),S.push(V,W,tt,at,st,gt),A.push(V,W),w===M-1&&A.push(st,gt)}u.push({bezier:T(m=pe,wa,n0).call(m,S,o,this.rotation),points:T(b=pe,wa,n0).call(b,A,o,this.rotation)})}return u},i0=function(){let e=1/0,i=-1/0,a=1/0,o=-1/0;for(const u of this.paths)for(const[d,f,p,m]of u){const b=dt.bezierBoundingBox(...d,...f,...p,...m);e=Math.min(e,b[0]),a=Math.min(a,b[1]),i=Math.max(i,b[2]),o=Math.max(o,b[3])}return[e,a,i,o]},hg=function(){return h(this,xi)?Math.ceil(this.thickness*this.parentScale):0},Oh=function(e=!1){if(this.isEmpty())return;if(!h(this,xi)){T(this,it,to).call(this);return}const i=T(this,it,i0).call(this),a=T(this,it,hg).call(this);_(this,$o,Math.max(Zt.MIN_SIZE,i[2]-i[0])),_(this,Yo,Math.max(Zt.MIN_SIZE,i[3]-i[1]));const o=Math.ceil(a+h(this,$o)*this.scaleFactor),u=Math.ceil(a+h(this,Yo)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=o/d,this.height=u/f,this.setAspectRatio(o,u);const p=this.translationX,m=this.translationY;this.translationX=-i[0],this.translationY=-i[1],T(this,it,ac).call(this),T(this,it,to).call(this),_(this,Zo,o),_(this,Jo,u),this.setDims(o,u);const b=e?a/this.scaleFactor/2:0;this.translate(p-this.translationX-b,m-this.translationY-b)},C(pe,wa),Et(pe,"_defaultColor",null),Et(pe,"_defaultOpacity",1),Et(pe,"_defaultThickness",1),Et(pe,"_type","ink"),Et(pe,"_editorType",Dt.INK);let Kv=pe;var me,un,Ar,da,Sr,su,vs,fa,As,oi,au,Ut,Nh,kh,dg,a0,xx,fg,r0,pg,Rx,Cx;const Hh=class Hh extends Zt{constructor(e){super({...e,name:"stampEditor"});C(this,Ut);C(this,me,null);C(this,un,null);C(this,Ar,null);C(this,da,null);C(this,Sr,null);C(this,su,"");C(this,vs,null);C(this,fa,null);C(this,As,null);C(this,oi,!1);C(this,au,!1);_(this,da,e.bitmapUrl),_(this,Sr,e.bitmapFile)}static initialize(e,i){Zt.initialize(e,i)}static get supportedTypes(){return It(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return It(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,i){i.pasteEditor(Dt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:u,height:d}=e||this.copyCanvas(null,null,!0).imageData,f=await a.guess({name:"altText",request:{data:o,width:u,height:d,channels:o.length/(u*d)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),i&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e,i;h(this,un)&&(_(this,me,null),this._uiManager.imageManager.deleteId(h(this,un)),(e=h(this,vs))==null||e.remove(),_(this,vs,null),(i=h(this,fa))==null||i.disconnect(),_(this,fa,null),h(this,As)&&(clearTimeout(h(this,As)),_(this,As,null))),super.remove()}rebuild(){if(!this.parent){h(this,un)&&T(this,Ut,dg).call(this);return}super.rebuild(),this.div!==null&&(h(this,un)&&h(this,vs)===null&&T(this,Ut,dg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,Ar)||h(this,me)||h(this,da)||h(this,Sr)||h(this,un))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;if(this.width&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,me)?T(this,Ut,a0).call(this):T(this,Ut,dg).call(this),this.width&&!this.annotationElementId){const[a,o]=this.parentDimensions;this.setAt(e*a,i*o,this.width*a,this.height*o)}return this.div}copyCanvas(e,i,a=!1){var S;e||(e=224);const{width:o,height:u}=h(this,me),d=new tv;let f=h(this,me),p=o,m=u,b=null;if(i){if(o>i||u>i){const W=Math.min(i/o,i/u);p=Math.floor(o*W),m=Math.floor(u*W)}b=document.createElement("canvas");const A=b.width=Math.ceil(p*d.sx),w=b.height=Math.ceil(m*d.sy);h(this,oi)||(f=T(this,Ut,fg).call(this,A,w));const M=b.getContext("2d");M.filter=this._uiManager.hcmFilter;let x="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",L="#42414d");const O=15,P=O*d.sx,F=O*d.sy,j=new OffscreenCanvas(P*2,F*2),V=j.getContext("2d");V.fillStyle=x,V.fillRect(0,0,P*2,F*2),V.fillStyle=L,V.fillRect(0,0,P,F),V.fillRect(P,F,P,F),M.fillStyle=M.createPattern(j,"repeat"),M.fillRect(0,0,A,w),M.drawImage(f,0,0,f.width,f.height,0,0,A,w)}let v=null;if(a){let A,w;if(d.symmetric&&f.width<e&&f.height<e)A=f.width,w=f.height;else if(f=h(this,me),o>e||u>e){const L=Math.min(e/o,e/u);A=Math.floor(o*L),w=Math.floor(u*L),h(this,oi)||(f=T(this,Ut,fg).call(this,A,w))}const x=new OffscreenCanvas(A,w).getContext("2d",{willReadFrequently:!0});x.drawImage(f,0,0,f.width,f.height,0,0,A,w),v={width:A,height:w,data:x.getImageData(0,0,A,w).data}}return{canvas:b,width:p,height:m,imageData:v}}getImageForAltText(){return h(this,vs)}static async deserialize(e,i,a){var w;let o=null;if(e instanceof zT){const{data:{rect:M,rotation:x,id:L,structParent:O,popupRef:P},container:F,parent:{page:{pageNumber:j}}}=e,V=F.querySelector("canvas"),W=a.imageManager.getFromCanvas(F.id,V);V.remove();const tt=((w=await i._structTree.getAriaAttributes(`${R0}${L}`))==null?void 0:w.get("aria-label"))||"";o=e={annotationType:Dt.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:j-1,rect:M.slice(0),rotation:x,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:O,popupRef:P}}const u=await super.deserialize(e,i,a),{rect:d,bitmap:f,bitmapUrl:p,bitmapId:m,isSvg:b,accessibilityData:v}=e;m&&a.imageManager.isValidId(m)?(_(u,un,m),f&&_(u,me,f)):_(u,da,p),_(u,oi,b);const[S,A]=u.pageDimensions;return u.width=(d[2]-d[0])/S,u.height=(d[3]-d[1])/A,u.annotationElementId=e.id||null,v&&(u.altTextData=v),u._initialData=o,_(u,au,!!o),u}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:Dt.STAMP,bitmapId:h(this,un),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,oi),structTreeParentId:this._structTreeParentId};if(e)return a.bitmapUrl=T(this,Ut,pg).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a;const{decorative:o,altText:u}=this.serializeAltText(!1);if(!o&&u&&(a.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=T(this,Ut,Cx).call(this,a);if(f.isSame)return null;f.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,i===null)return a;i.stamps||(i.stamps=new Map);const d=h(this,oi)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!i.stamps.has(h(this,un)))i.stamps.set(h(this,un),{area:d,serialized:a}),a.bitmap=T(this,Ut,pg).call(this,!1);else if(h(this,oi)){const f=i.stamps.get(h(this,un));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=T(this,Ut,pg).call(this,!1))}return a}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};me=new WeakMap,un=new WeakMap,Ar=new WeakMap,da=new WeakMap,Sr=new WeakMap,su=new WeakMap,vs=new WeakMap,fa=new WeakMap,As=new WeakMap,oi=new WeakMap,au=new WeakMap,Ut=new WeakSet,Nh=function(e,i=!1){if(!e){this.remove();return}_(this,me,e.bitmap),i||(_(this,un,e.id),_(this,oi,e.isSvg)),e.file&&_(this,su,e.file.name),T(this,Ut,a0).call(this)},kh=function(){if(_(this,Ar,null),this._uiManager.enableWaiting(!1),!!h(this,vs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,me)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,me)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},dg=function(){if(h(this,un)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,un)).then(a=>T(this,Ut,Nh).call(this,a,!0)).finally(()=>T(this,Ut,kh).call(this));return}if(h(this,da)){const a=h(this,da);_(this,da,null),this._uiManager.enableWaiting(!0),_(this,Ar,this._uiManager.imageManager.getFromUrl(a).then(o=>T(this,Ut,Nh).call(this,o)).finally(()=>T(this,Ut,kh).call(this)));return}if(h(this,Sr)){const a=h(this,Sr);_(this,Sr,null),this._uiManager.enableWaiting(!0),_(this,Ar,this._uiManager.imageManager.getFromFile(a).then(o=>T(this,Ut,Nh).call(this,o)).finally(()=>T(this,Ut,kh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Hh.supportedTypesStr;const i=this._uiManager._signal;_(this,Ar,new Promise(a=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),T(this,Ut,Nh).call(this,o)}a()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),a()},{signal:i})}).finally(()=>T(this,Ut,kh).call(this))),e.click()},a0=function(){const{div:e}=this;let{width:i,height:a}=h(this,me);const[o,u]=this.pageDimensions,d=.75;if(this.width)i=this.width*o,a=this.height*u;else if(i>d*o||a>d*u){const b=Math.min(d*o/i,d*u/a);i*=b,a*=b}const[f,p]=this.parentDimensions;this.setDims(i*f/o,a*p/u),this._uiManager.enableWaiting(!1);const m=_(this,vs,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),T(this,Ut,r0).call(this,i,a),T(this,Ut,Rx).call(this),h(this,au)||(this.parent.addUndoableEditor(this),_(this,au,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,su)&&m.setAttribute("aria-label",h(this,su))},xx=function(e,i){var d;const[a,o]=this.parentDimensions;this.width=e/a,this.height=i/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,As)!==null&&clearTimeout(h(this,As)),_(this,As,setTimeout(()=>{_(this,As,null),T(this,Ut,r0).call(this,e,i)},200))},fg=function(e,i){const{width:a,height:o}=h(this,me);let u=a,d=o,f=h(this,me);for(;u>2*e||d>2*i;){const p=u,m=d;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*i&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const b=new OffscreenCanvas(u,d);b.getContext("2d").drawImage(f,0,0,p,m,0,0,u,d),f=b.transferToImageBitmap()}return f},r0=function(e,i){const a=new tv,o=Math.ceil(e*a.sx),u=Math.ceil(i*a.sy),d=h(this,vs);if(!d||d.width===o&&d.height===u)return;d.width=o,d.height=u;const f=h(this,oi)?h(this,me):T(this,Ut,fg).call(this,o,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,o,u)},pg=function(e){if(e){if(h(this,oi)){const o=this._uiManager.imageManager.getSvgUrl(h(this,un));if(o)return o}const i=document.createElement("canvas");return{width:i.width,height:i.height}=h(this,me),i.getContext("2d").drawImage(h(this,me),0,0),i.toDataURL()}if(h(this,oi)){const[i,a]=this.pageDimensions,o=Math.round(this.width*i*Tr.PDF_TO_CSS_UNITS),u=Math.round(this.height*a*Tr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,u);return d.getContext("2d").drawImage(h(this,me),0,0,h(this,me).width,h(this,me).height,0,0,o,u),d.transferToImageBitmap()}return structuredClone(h(this,me))},Rx=function(){this._uiManager._signal&&(_(this,fa,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&T(this,Ut,xx).call(this,i.width,i.height)})),h(this,fa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,fa))==null||e.disconnect(),_(this,fa,null)},{once:!0}))},Cx=function(e){var p;const{rect:i,pageIndex:a,accessibilityData:{altText:o}}=this._initialData,u=e.rect.every((m,b)=>Math.abs(m-i[b])<1),d=e.pageIndex===a,f=(((p=e.accessibilityData)==null?void 0:p.alt)||"")===o;return{isSame:u&&d&&f,isSameAltText:f}},Et(Hh,"_type","stamp"),Et(Hh,"_editorType",Dt.STAMP);let s0=Hh;var tl,ru,Ss,Er,pa,li,_r,ou,lu,An,ga,mt,wr,hn,Mx,l0,c0,u0,gg;const ki=class ki{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:o,annotationLayer:u,drawLayer:d,textLayer:f,viewport:p,l10n:m}){C(this,hn);C(this,tl);C(this,ru,!1);C(this,Ss,null);C(this,Er,null);C(this,pa,null);C(this,li,new Map);C(this,_r,!1);C(this,ou,!1);C(this,lu,!1);C(this,An,null);C(this,ga,null);C(this,mt);const b=[...h(ki,wr).values()];if(!ki._initialized){ki._initialized=!0;for(const v of b)v.initialize(m,t)}t.registerEditorTypes(b),_(this,mt,t),this.pageIndex=e,this.div=i,_(this,tl,o),_(this,Ss,u),this.viewport=p,_(this,An,f),this.drawLayer=d,this._structTree=a,h(this,mt).addLayer(this)}get isEmpty(){return h(this,li).size===0}get isInvisible(){return this.isEmpty&&h(this,mt).getMode()===Dt.NONE}updateToolbar(t){h(this,mt).updateToolbar(t)}updateMode(t=h(this,mt).getMode()){switch(T(this,hn,gg).call(this),t){case Dt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Dt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Dt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of h(ki,wr).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,An))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,mt).getMode()!==Dt.INK)return;if(!t){for(const i of h(this,li).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,mt).setEditingState(t)}addCommands(t){h(this,mt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Ss))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of h(this,li).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,mt).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!h(this,Ss))return;const e=h(this,Ss).getEditableAnnotations();for(const i of e){if(i.hide(),h(this,mt).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}}disable(){var a;_(this,lu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of h(this,li).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(a=this.getEditableAnnotation(o.annotationElementId))==null||a.show(),o.remove()}if(h(this,Ss)){const o=h(this,Ss).getEditableAnnotations();for(const u of o){const{id:d}=u.data;if(h(this,mt).isDeletedAnnotationElement(d))continue;let f=e.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(d),f&&(h(this,mt).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}T(this,hn,gg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const o of h(ki,wr).values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,lu,!1)}getEditableAnnotation(t){var e;return((e=h(this,Ss))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,mt).getActive()!==t&&h(this,mt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,An))!=null&&t.div&&!h(this,ga)){_(this,ga,new AbortController);const e=h(this,mt).combinedSignal(h(this,ga));h(this,An).div.addEventListener("pointerdown",T(this,hn,Mx).bind(this),{signal:e}),h(this,An).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,An))!=null&&t.div&&h(this,ga)&&(h(this,ga).abort(),_(this,ga,null),h(this,An).div.classList.remove("highlighting"))}enableClick(){if(h(this,Er))return;_(this,Er,new AbortController);const t=h(this,mt).combinedSignal(h(this,Er));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,Er))==null||t.abort(),_(this,Er,null)}attach(t){h(this,li).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,mt).isDeletedAnnotationElement(e)&&h(this,mt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,li).delete(t.id),(e=h(this,tl))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,lu)&&t.annotationElementId&&h(this,mt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,mt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,ou)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,mt).addDeletedAnnotationElement(t.annotationElementId),Zt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,mt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,mt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,pa)&&(t._focusEventsAllowed=!1,_(this,pa,setTimeout(()=>{_(this,pa,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,mt)._signal}),e.focus())},0))),t._structTreeParentId=(i=h(this,tl))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return h(this,mt).getId()}combinedSignal(t){return h(this,mt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,hn,l0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,mt).updateToolbar(t),h(this,mt).updateMode(t);const{offsetX:i,offsetY:a}=T(this,hn,u0).call(this),o=this.getNextId(),u=T(this,hn,c0).call(this,{parent:this,id:o,x:i,y:a,uiManager:h(this,mt),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=h(ki,wr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,mt)))||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),o=T(this,hn,c0).call(this,{parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:h(this,mt),isCentered:e,...i});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(T(this,hn,u0).call(this),!0)}setSelected(t){h(this,mt).setSelected(t)}toggleSelected(t){h(this,mt).toggleSelected(t)}unselect(t){h(this,mt).unselect(t)}pointerup(t){const{isMac:e}=Mn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,_r)){if(_(this,_r,!1),!h(this,ru)){_(this,ru,!0);return}if(h(this,mt).getMode()===Dt.STAMP){h(this,mt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,mt).getMode()===Dt.HIGHLIGHT&&this.enableTextSelection(),h(this,_r)){_(this,_r,!1);return}const{isMac:e}=Mn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;_(this,_r,!0);const i=h(this,mt).getActive();_(this,ru,!i||i.isEmpty())}findNewParent(t,e,i){const a=h(this,mt).findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}destroy(){var t,e;((t=h(this,mt).getActive())==null?void 0:t.parent)===this&&(h(this,mt).commitOrRemove(),h(this,mt).setActiveEditor(null)),h(this,pa)&&(clearTimeout(h(this,pa)),_(this,pa,null));for(const i of h(this,li).values())(e=h(this,tl))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,h(this,li).clear(),h(this,mt).removeLayer(this)}render({viewport:t}){this.viewport=t,il(this.div,t);for(const e of h(this,mt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,mt).commitOrRemove(),T(this,hn,gg).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,il(this.div,{rotation:i}),e!==i)for(const a of h(this,li).values())a.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,mt).viewParameters.realScale}};tl=new WeakMap,ru=new WeakMap,Ss=new WeakMap,Er=new WeakMap,pa=new WeakMap,li=new WeakMap,_r=new WeakMap,ou=new WeakMap,lu=new WeakMap,An=new WeakMap,ga=new WeakMap,mt=new WeakMap,wr=new WeakMap,hn=new WeakSet,Mx=function(t){h(this,mt).unselectAll();const{target:e}=t;if(e===h(this,An).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,An).div.contains(e)){const{isMac:i}=Mn.platform;if(t.button!==0||t.ctrlKey&&i)return;h(this,mt).showAllEditors("highlight",!0,!0),h(this,An).div.classList.add("free"),this.toggleDrawing(),_g.startHighlighting(this,h(this,mt).direction==="ltr",{target:h(this,An).div,x:t.x,y:t.y}),h(this,An).div.addEventListener("pointerup",()=>{h(this,An).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,mt)._signal}),t.preventDefault()}},l0=function(){return h(ki,wr).get(h(this,mt).getMode())},c0=function(t){const e=h(this,hn,l0);return e?new e.prototype.constructor(t):null},u0=function(){const{x:t,y:e,width:i,height:a}=this.div.getBoundingClientRect(),o=Math.max(0,t),u=Math.max(0,e),d=Math.min(window.innerWidth,t+i),f=Math.min(window.innerHeight,e+a),p=(o+d)/2-t,m=(u+f)/2-e,[b,v]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:b,offsetY:v}},gg=function(){_(this,ou,!0);for(const t of h(this,li).values())t.isEmpty()&&t.remove();_(this,ou,!1)},Et(ki,"_initialized",!1),C(ki,wr,new Map([Bv,Kv,s0,_g].map(t=>[t._editorType,t])));let o0=ki;var Es,tf,ke,ma,ef,d0,ll,f0,Lx;const on=class on{constructor({pageIndex:t}){C(this,ll);C(this,Es,null);C(this,tf,0);C(this,ke,new Map);C(this,ma,new Map);this.pageIndex=t}setParent(t){if(!h(this,Es)){_(this,Es,t);return}if(h(this,Es)!==t){if(h(this,ke).size>0)for(const e of h(this,ke).values())e.remove(),t.append(e);_(this,Es,t)}}static get _svgFactory(){return It(this,"_svgFactory",new H0)}draw(t,e,i,a=!1){const o=Tn(this,tf)._++,u=T(this,ll,f0).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const d=on._svgFactory.createElement("defs");u.append(d);const f=on._svgFactory.createElement("path");d.append(f);const p=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",p),f.setAttribute("d",t.toSVGPath()),a&&h(this,ma).set(o,f);const m=T(this,ll,Lx).call(this,d,p),b=on._svgFactory.createElement("use");return u.append(b),u.setAttribute("fill",e),u.setAttribute("fill-opacity",i),b.setAttribute("href",`#${p}`),h(this,ke).set(o,u),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const e=Tn(this,tf)._++,i=T(this,ll,f0).call(this,t.box);i.classList.add(...t.classNamesForOutlining);const a=on._svgFactory.createElement("defs");i.append(a);const o=on._svgFactory.createElement("path");a.append(o);const u=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",u),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=on._svgFactory.createElement("mask");a.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=on._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=on._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${u}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=on._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return i.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),h(this,ke).set(e,i),e}finalizeLine(t,e){const i=h(this,ma).get(t);h(this,ma).delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,ke).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,ma).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var i;T(i=on,ef,d0).call(i,h(this,ke).get(t),e)}show(t,e){h(this,ke).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,ke).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,ke).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,ke).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,ke).get(t).classList.add(e)}removeClass(t,e){h(this,ke).get(t).classList.remove(e)}getSVGRoot(t){return h(this,ke).get(t)}remove(t){h(this,ma).delete(t),h(this,Es)!==null&&(h(this,ke).get(t).remove(),h(this,ke).delete(t))}destroy(){_(this,Es,null);for(const t of h(this,ke).values())t.remove();h(this,ke).clear(),h(this,ma).clear()}};Es=new WeakMap,tf=new WeakMap,ke=new WeakMap,ma=new WeakMap,ef=new WeakSet,d0=function(t,{x:e=0,y:i=0,width:a=1,height:o=1}={}){const{style:u}=t;u.top=`${100*i}%`,u.left=`${100*e}%`,u.width=`${100*a}%`,u.height=`${100*o}%`},ll=new WeakSet,f0=function(t){var i;const e=on._svgFactory.create(1,1,!0);return h(this,Es).append(e),e.setAttribute("aria-hidden",!0),T(i=on,ef,d0).call(i,e,t),e},Lx=function(t,e){const i=on._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const o=on._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),a},C(on,ef);let h0=on;var TN=Rt.AbortException,xN=Rt.AnnotationEditorLayer,RN=Rt.AnnotationEditorParamsType,CN=Rt.AnnotationEditorType,MN=Rt.AnnotationEditorUIManager,Dx=Rt.AnnotationLayer,Ox=Rt.AnnotationMode,LN=Rt.ColorPicker,DN=Rt.DOMSVGFactory,ON=Rt.DrawLayer,NN=Rt.FeatureTest,U0=Rt.GlobalWorkerOptions,kN=Rt.ImageKind,PN=Rt.InvalidPDFException,FN=Rt.MissingPDFException,HN=Rt.OPS,zN=Rt.OutputScale,UN=Rt.PDFDataRangeTransport,BN=Rt.PDFDateString,IN=Rt.PDFWorker,jN=Rt.PasswordResponses,qN=Rt.PermissionFlag,GN=Rt.PixelsPerInch,VN=Rt.RenderingCancelledException,Nx=Rt.TextLayer,XN=Rt.UnexpectedResponseException,YN=Rt.Util,$N=Rt.VerbosityLevel,KN=Rt.XfaLayer,WN=Rt.build,QN=Rt.createValidAbsoluteUrl,ZN=Rt.fetchData,kx=Rt.getDocument,JN=Rt.getFilenameFromUrl,tk=Rt.getPdfFilenameFromUrl,ek=Rt.getXfaPageViewport,nk=Rt.isDataScheme,ik=Rt.isPdfFile,sk=Rt.noContextMenu,ak=Rt.normalizeUnicode,rk=Rt.setLayerDimensions,ok=Rt.shadow,lk=Rt.version;const ck=Object.freeze(Object.defineProperty({__proto__:null,AbortException:TN,AnnotationEditorLayer:xN,AnnotationEditorParamsType:RN,AnnotationEditorType:CN,AnnotationEditorUIManager:MN,AnnotationLayer:Dx,AnnotationMode:Ox,ColorPicker:LN,DOMSVGFactory:DN,DrawLayer:ON,FeatureTest:NN,GlobalWorkerOptions:U0,ImageKind:kN,InvalidPDFException:PN,MissingPDFException:FN,OPS:HN,OutputScale:zN,PDFDataRangeTransport:UN,PDFDateString:BN,PDFWorker:IN,PasswordResponses:jN,PermissionFlag:qN,PixelsPerInch:GN,RenderingCancelledException:VN,TextLayer:Nx,UnexpectedResponseException:XN,Util:YN,VerbosityLevel:$N,XfaLayer:KN,build:WN,createValidAbsoluteUrl:QN,fetchData:ZN,getDocument:kx,getFilenameFromUrl:JN,getPdfFilenameFromUrl:tk,getXfaPageViewport:ek,isDataScheme:nk,isPdfFile:ik,noContextMenu:sk,normalizeUnicode:ak,setLayerDimensions:rk,shadow:ok,version:lk},Symbol.toStringTag,{value:"Module"}));var We=function(l,t,e){if(e||arguments.length===2)for(var i=0,a=t.length,o;i<a;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return l.concat(o||Array.prototype.slice.call(t))},uk=["onCopy","onCut","onPaste"],hk=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],dk=["onFocus","onBlur"],fk=["onInput","onInvalid","onReset","onSubmit"],pk=["onLoad","onError"],gk=["onKeyDown","onKeyPress","onKeyUp"],mk=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],yk=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],bk=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],vk=["onSelect"],Ak=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Sk=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Ek=["onScroll"],_k=["onWheel"],wk=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Tk=["onTransitionEnd"],xk=["onToggle"],Rk=["onChange"],Ck=We(We(We(We(We(We(We(We(We(We(We(We(We(We(We(We(We(We([],uk,!0),hk,!0),dk,!0),fk,!0),pk,!0),gk,!0),mk,!0),yk,!0),bk,!0),vk,!0),Ak,!0),Sk,!0),Ek,!0),_k,!0),wk,!0),Tk,!0),Rk,!0),xk,!0);function Px(l,t){var e={};return Ck.forEach(function(i){var a=l[i];a&&(t?e[i]=function(o){return a(o,t(i))}:e[i]=a)}),e}function hf(l){var t=!1,e=new Promise(function(i,a){l.then(function(o){return!t&&i(o)}).catch(function(o){return!t&&a(o)})});return{promise:e,cancel:function(){t=!0}}}function Fx(l){var t,e,i="";if(typeof l=="string"||typeof l=="number")i+=l;else if(typeof l=="object")if(Array.isArray(l)){var a=l.length;for(t=0;t<a;t++)l[t]&&(e=Fx(l[t]))&&(i&&(i+=" "),i+=e)}else for(e in l)l[e]&&(i&&(i+=" "),i+=e);return i}function sm(){for(var l,t,e=0,i="",a=arguments.length;e<a;e++)(l=arguments[e])&&(t=Fx(l))&&(i&&(i+=" "),i+=t);return i}var Mk="Invariant failed";function re(l,t){if(!l)throw new Error(Mk)}var Bb,Cw;function Lk(){if(Cw)return Bb;Cw=1;var l=function(){};return Bb=l,Bb}var Dk=Lk();const En=uM(Dk);var Mw=Object.prototype.hasOwnProperty;function Lw(l,t,e){for(e of l.keys())if(cc(e,t))return e}function cc(l,t){var e,i,a;if(l===t)return!0;if(l&&t&&(e=l.constructor)===t.constructor){if(e===Date)return l.getTime()===t.getTime();if(e===RegExp)return l.toString()===t.toString();if(e===Array){if((i=l.length)===t.length)for(;i--&&cc(l[i],t[i]););return i===-1}if(e===Set){if(l.size!==t.size)return!1;for(i of l)if(a=i,a&&typeof a=="object"&&(a=Lw(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(l.size!==t.size)return!1;for(i of l)if(a=i[0],a&&typeof a=="object"&&(a=Lw(t,a),!a)||!cc(i[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)l=new Uint8Array(l),t=new Uint8Array(t);else if(e===DataView){if((i=l.byteLength)===t.byteLength)for(;i--&&l.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(l)){if((i=l.byteLength)===t.byteLength)for(;i--&&l[i]===t[i];);return i===-1}if(!e||typeof l=="object"){i=0;for(e in l)if(Mw.call(l,e)&&++i&&!Mw.call(t,e)||!(e in t)||!cc(l[e],t[e]))return!1;return Object.keys(t).length===i}}return l!==l&&t!==t}const Hx=z.createContext(null);function uc({children:l,type:t}){return yt.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:l})}const Ok="noopener noreferrer nofollow";class Nk{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return re(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){re(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{re(this.pdfDocument),re(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{re(Array.isArray(e));const i=e[0];new Promise(a=>{re(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{a(o)}).catch(()=>{re(!1)}):typeof i=="number"?a(i):re(!1)}).then(a=>{const o=a+1;re(this.pdfViewer),re(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;re(this.pdfViewer),re(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||Ok,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Dw={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},am=typeof window<"u",zx=am&&window.location.protocol==="file:";function kk(l){return typeof l<"u"}function Wr(l){return kk(l)&&l!==null}function Pk(l){return typeof l=="string"}function Fk(l){return l instanceof ArrayBuffer}function Hk(l){return re(am),l instanceof Blob}function p0(l){return Pk(l)&&/^data:/.test(l)}function Ow(l){re(p0(l));const[t="",e=""]=l.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function zk(){return am&&window.devicePixelRatio||1}const Ux="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Nw(){En(!zx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Ux}`)}function Uk(){En(!zx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Ux}`)}function rl(l){l!=null&&l.cancel&&l.cancel()}function g0(l,t){return Object.defineProperty(l,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(l,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(l,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(l,"originalHeight",{get(){return this.view[3]},configurable:!0}),l}function Bk(l){return l.name==="RenderingCancelledException"}function Ik(l){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:o}=a.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(l)})}function jk(l,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return l}}function cu(){return z.useReducer(jk,{value:void 0,error:void 0})}var qk=function(l,t,e,i){function a(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function d(m){try{p(i.next(m))}catch(b){u(b)}}function f(m){try{p(i.throw(m))}catch(b){u(b)}}function p(m){m.done?o(m.value):a(m.value).then(d,f)}p((i=i.apply(l,t||[])).next())})},kw=function(l,t){var e={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&t.indexOf(i)<0&&(e[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(l);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(l,i[a])&&(e[i[a]]=l[i[a]]);return e};const{PDFDataRangeTransport:Gk}=ck,Vk=(l,t)=>{switch(t){case Dw.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");l(e);break}case Dw.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");l(e);break}}};function Pw(l){return typeof l=="object"&&l!==null&&("data"in l||"range"in l||"url"in l)}const Xk=z.forwardRef(function(t,e){var{children:i,className:a,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:d,file:f,inputRef:p,imageResourcesPath:m,loading:b="Loading PDF",noData:v="No PDF file specified.",onItemClick:S,onLoadError:A,onLoadProgress:w,onLoadSuccess:M,onPassword:x=Vk,onSourceError:L,onSourceSuccess:O,options:P,renderMode:F,rotate:j}=t,V=kw(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,tt]=cu(),{value:at,error:st}=W,[gt,bt]=cu(),{value:ft,error:ht}=gt,B=z.useRef(new Nk),Y=z.useRef([]),J=z.useRef(void 0),wt=z.useRef(void 0);f&&f!==J.current&&Pw(f)&&(En(!cc(f,J.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),J.current=f),P&&P!==wt.current&&(En(!cc(P,wt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),wt.current=P);const N=z.useRef({scrollPageIntoView:Xt=>{const{dest:ue,pageNumber:Ge,pageIndex:Me=Ge-1}=Xt;if(S){S({dest:ue,pageIndex:Me,pageNumber:Ge});return}const nn=Y.current[Me];if(nn){nn.scrollIntoView();return}En(!1,`An internal link leading to page ${Ge} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});z.useImperativeHandle(e,()=>({linkService:B,pages:Y,viewer:N}),[]);function K(){O&&O()}function nt(){st&&(En(!1,st.toString()),L&&L(st))}function et(){tt({type:"RESET"})}z.useEffect(et,[f,tt]);const lt=z.useCallback(()=>qk(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return p0(f)?{data:Ow(f)}:(Nw(),{url:f});if(f instanceof Gk)return{range:f};if(Fk(f))return{data:f};if(am&&Hk(f))return{data:yield Ik(f)};if(re(typeof f=="object"),re(Pw(f)),"url"in f&&typeof f.url=="string"){if(p0(f.url)){const{url:Xt}=f,ue=kw(f,["url"]),Ge=Ow(Xt);return Object.assign({data:Ge},ue)}Nw()}return f}),[f]);z.useEffect(()=>{const Xt=hf(lt());return Xt.promise.then(ue=>{tt({type:"RESOLVE",value:ue})}).catch(ue=>{tt({type:"REJECT",error:ue})}),()=>{rl(Xt)}},[lt,tt]),z.useEffect(()=>{if(!(typeof at>"u")){if(at===!1){nt();return}K()}},[at]);function Tt(){ft&&(M&&M(ft),Y.current=new Array(ft.numPages),B.current.setDocument(ft))}function ct(){ht&&(En(!1,ht.toString()),A&&A(ht))}z.useEffect(function(){bt({type:"RESET"})},[bt,at]),z.useEffect(function(){if(!at)return;const ue=P?Object.assign(Object.assign({},at),P):at,Ge=kx(ue);w&&(Ge.onProgress=w),x&&(Ge.onPassword=x);const Me=Ge,nn=Me.promise.then(Lr=>{bt({type:"RESOLVE",value:Lr})}).catch(Lr=>{Me.destroyed||bt({type:"REJECT",error:Lr})});return()=>{nn.finally(()=>Me.destroy())}},[P,bt,at]),z.useEffect(()=>{if(!(typeof ft>"u")){if(ft===!1){ct();return}Tt()}},[ft]),z.useEffect(function(){B.current.setViewer(N.current),B.current.setExternalLinkRel(u),B.current.setExternalLinkTarget(d)},[u,d]);const xt=z.useCallback((Xt,ue)=>{Y.current[Xt]=ue},[]),Bt=z.useCallback(Xt=>{delete Y.current[Xt]},[]),Ce=z.useMemo(()=>({imageResourcesPath:m,linkService:B.current,onItemClick:S,pdf:ft,registerPage:xt,renderMode:F,rotate:j,unregisterPage:Bt}),[m,S,ft,xt,F,j,Bt]),Jt=z.useMemo(()=>Px(V,()=>ft),[V,ft]);function Qi(){return yt.jsx(Hx.Provider,{value:Ce,children:i})}function Ts(){return f?ft==null?yt.jsx(uc,{type:"loading",children:typeof b=="function"?b():b}):ft===!1?yt.jsx(uc,{type:"error",children:typeof o=="function"?o():o}):Qi():yt.jsx(uc,{type:"no-data",children:typeof v=="function"?v():v})}return yt.jsx("div",Object.assign({className:sm("react-pdf__Document",a),ref:p,style:{"--scale-factor":"1"}},Jt,{children:Ts()}))});function Bx(){return z.useContext(Hx)}function Ix(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];var e=l.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(o){e.forEach(function(u){typeof u=="function"?u(o):u&&(u.current=o)})}}const jx=z.createContext(null),qx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Yk=/^H(\d+)$/;function $k(l){return l in qx}function rm(l){return"children"in l}function Gx(l){return rm(l)?l.children.length===1&&0 in l.children&&"id"in l.children[0]:!1}function Kk(l){const t={};if(rm(l)){const{role:e}=l,i=e.match(Yk);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if($k(e)){const a=qx[e];a&&(t.role=a)}}return t}function Vx(l){const t={};if(rm(l)){if(l.alt!==void 0&&(t["aria-label"]=l.alt),l.lang!==void 0&&(t.lang=l.lang),Gx(l)){const[e]=l.children;if(e){const i=Vx(e);return Object.assign(Object.assign({},t),i)}}}else"id"in l&&(t["aria-owns"]=l.id);return t}function Wk(l){return l?Object.assign(Object.assign({},Kk(l)),Vx(l)):null}function Xx({className:l,node:t}){const e=z.useMemo(()=>Wk(t),[t]),i=z.useMemo(()=>!rm(t)||Gx(t)?null:t.children.map((a,o)=>yt.jsx(Xx,{node:a},o)),[t]);return yt.jsx("span",Object.assign({className:l},e,{children:i}))}function om(){return z.useContext(jx)}function Qk(){const l=om();re(l);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=l,[i,a]=cu(),{value:o,error:u}=i,{customTextRenderer:d,page:f}=l;function p(){o&&e&&e(o)}function m(){u&&(En(!1,u.toString()),t&&t(u))}return z.useEffect(function(){a({type:"RESET"})},[a,f]),z.useEffect(function(){if(d||!f)return;const v=hf(f.getStructTree()),S=v;return v.promise.then(A=>{a({type:"RESOLVE",value:A})}).catch(A=>{a({type:"REJECT",error:A})}),()=>rl(S)},[d,f,a]),z.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}p()}},[o]),o?yt.jsx(Xx,{className:"react-pdf__Page__structTree structTree",node:o}):null}const Fw=Ox;function Zk(l){const t=om();re(t);const e=Object.assign(Object.assign({},t),l),{_className:i,canvasBackground:a,devicePixelRatio:o=zk(),onRenderError:u,onRenderSuccess:d,page:f,renderForms:p,renderTextLayer:m,rotate:b,scale:v}=e,{canvasRef:S}=l;re(f);const A=z.useRef(null);function w(){f&&d&&d(g0(f,v))}function M(P){Bk(P)||(En(!1,P.toString()),u&&u(P))}const x=z.useMemo(()=>f.getViewport({scale:v*o,rotation:b}),[o,f,b,v]),L=z.useMemo(()=>f.getViewport({scale:v,rotation:b}),[f,b,v]);z.useEffect(function(){if(!f)return;f.cleanup();const{current:F}=A;if(!F)return;F.width=x.width,F.height=x.height,F.style.width=`${Math.floor(L.width)}px`,F.style.height=`${Math.floor(L.height)}px`,F.style.visibility="hidden";const j={annotationMode:p?Fw.ENABLE_FORMS:Fw.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:x};a&&(j.background=a);const V=f.render(j),W=V;return V.promise.then(()=>{F.style.visibility="",w()}).catch(M),()=>rl(W)},[a,f,p,x,L]);const O=z.useCallback(()=>{const{current:P}=A;P&&(P.width=0,P.height=0)},[]);return z.useEffect(()=>O,[O]),yt.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:Ix(S,A),style:{display:"block",userSelect:"none"},children:m?yt.jsx(Qk,{}):null})}function Jk(l){return"str"in l}function tP(){const l=om();re(l);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:o,page:u,pageIndex:d,pageNumber:f,rotate:p,scale:m}=l;re(u);const[b,v]=cu(),{value:S,error:A}=b,w=z.useRef(null);En(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){S&&i&&i(S)}function x(){A&&(En(!1,A.toString()),e&&e(A))}z.useEffect(function(){v({type:"RESET"})},[u,v]),z.useEffect(function(){if(!u)return;const W=hf(u.getTextContent()),tt=W;return W.promise.then(at=>{v({type:"RESOLVE",value:at})}).catch(at=>{v({type:"REJECT",error:at})}),()=>rl(tt)},[u,v]),z.useEffect(()=>{if(S!==void 0){if(S===!1){x();return}M()}},[S]);const L=z.useCallback(()=>{o&&o()},[o]),O=z.useCallback(V=>{En(!1,V.toString()),a&&a(V)},[a]);function P(){const V=w.current;V&&V.classList.add("selecting")}function F(){const V=w.current;V&&V.classList.remove("selecting")}const j=z.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);return z.useLayoutEffect(function(){if(!u||!S)return;const{current:W}=w;if(!W)return;W.innerHTML="";const tt=u.streamTextContent({includeMarkedContent:!0}),at={container:W,textContentSource:tt,viewport:j},st=new Nx(at),gt=st;return st.render().then(()=>{const bt=document.createElement("div");bt.className="endOfContent",W.append(bt);const ft=W.querySelectorAll('[role="presentation"]');if(t){let ht=0;S.items.forEach((B,Y)=>{if(!Jk(B))return;const J=ft[ht];if(!J)return;const wt=t(Object.assign({pageIndex:d,pageNumber:f,itemIndex:Y},B));J.innerHTML=wt,ht+=B.str&&B.hasEOL?2:1})}L()}).catch(O),()=>rl(gt)},[t,O,L,u,d,f,S,j]),yt.jsx("div",{className:sm("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:P,ref:w})}function eP(){const l=Bx(),t=om();re(t);const e=Object.assign(Object.assign({},l),t),{imageResourcesPath:i,linkService:a,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:p,pdf:m,renderForms:b,rotate:v,scale:S=1}=e;re(m),re(p),re(a);const[A,w]=cu(),{value:M,error:x}=A,L=z.useRef(null);En(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){M&&u&&u(M)}function P(){x&&(En(!1,x.toString()),o&&o(x))}z.useEffect(function(){w({type:"RESET"})},[w,p]),z.useEffect(function(){if(!p)return;const tt=hf(p.getAnnotations()),at=tt;return tt.promise.then(st=>{w({type:"RESOLVE",value:st})}).catch(st=>{w({type:"REJECT",error:st})}),()=>{rl(at)}},[w,p]),z.useEffect(()=>{if(M!==void 0){if(M===!1){P();return}O()}},[M]);function F(){f&&f()}function j(W){En(!1,`${W}`),d&&d(W)}const V=z.useMemo(()=>p.getViewport({scale:S,rotation:v}),[p,v,S]);return z.useEffect(function(){if(!m||!p||!a||!M)return;const{current:tt}=L;if(!tt)return;const at=V.clone({dontFlip:!0}),st={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:tt,l10n:null,page:p,structTreeLayer:null,viewport:at},gt={annotations:M,annotationStorage:m.annotationStorage,div:tt,imageResourcesPath:i,linkService:a,page:p,renderForms:b,viewport:at};tt.innerHTML="";try{new Dx(st).render(gt),F()}catch(bt){j(bt)}return()=>{}},[M,i,a,p,m,b,V]),yt.jsx("div",{className:sm("react-pdf__Page__annotations","annotationLayer"),ref:L})}var nP=function(l,t){var e={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&t.indexOf(i)<0&&(e[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(l);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(l,i[a])&&(e[i[a]]=l[i[a]]);return e};const Hw=1;function iP(l){const t=Bx(),e=Object.assign(Object.assign({},t),l),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:o,canvasRef:u,children:d,className:f,customRenderer:p,customTextRenderer:m,devicePixelRatio:b,error:v="Failed to load the page.",height:S,inputRef:A,loading:w="Loading page",noData:M="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:L,onGetStructTreeError:O,onGetStructTreeSuccess:P,onGetTextError:F,onGetTextSuccess:j,onLoadError:V,onLoadSuccess:W,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:at,onRenderError:st,onRenderSuccess:gt,onRenderTextLayerError:bt,onRenderTextLayerSuccess:ft,pageIndex:ht,pageNumber:B,pdf:Y,registerPage:J,renderAnnotationLayer:wt=!0,renderForms:N=!1,renderMode:K="canvas",renderTextLayer:nt=!0,rotate:et,scale:lt=Hw,unregisterPage:Tt,width:ct}=e,xt=nP(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Bt,Ce]=cu(),{value:Jt,error:Qi}=Bt,Ts=z.useRef(null);re(Y);const Xt=Wr(B)?B-1:ht??null,ue=B??(Wr(ht)?ht+1:null),Ge=et??(Jt?Jt.rotate:null),Me=z.useMemo(()=>{if(!Jt)return null;let Le=1;const Xn=lt??Hw;if(ct||S){const Ve=Jt.getViewport({scale:1,rotation:Ge});ct?Le=ct/Ve.width:S&&(Le=S/Ve.height)}return Xn*Le},[S,Jt,Ge,lt,ct]);z.useEffect(function(){return()=>{Wr(Xt)&&a&&Tt&&Tt(Xt)}},[a,Y,Xt,Tt]);function nn(){if(W){if(!Jt||!Me)return;W(g0(Jt,Me))}if(a&&J){if(!Wr(Xt)||!Ts.current)return;J(Xt,Ts.current)}}function Lr(){Qi&&(En(!1,Qi.toString()),V&&V(Qi))}z.useEffect(function(){Ce({type:"RESET"})},[Ce,Y,Xt]),z.useEffect(function(){if(!Y||!ue)return;const Xn=hf(Y.getPage(ue)),Ve=Xn;return Xn.promise.then(pu=>{Ce({type:"RESOLVE",value:pu})}).catch(pu=>{Ce({type:"REJECT",error:pu})}),()=>rl(Ve)},[Ce,Y,ue]),z.useEffect(()=>{if(Jt!==void 0){if(Jt===!1){Lr();return}nn()}},[Jt,Me]);const df=z.useMemo(()=>Jt&&Wr(Xt)&&ue&&Wr(Ge)&&Wr(Me)?{_className:i,canvasBackground:o,customTextRenderer:m,devicePixelRatio:b,onGetAnnotationsError:x,onGetAnnotationsSuccess:L,onGetStructTreeError:O,onGetStructTreeSuccess:P,onGetTextError:F,onGetTextSuccess:j,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:at,onRenderError:st,onRenderSuccess:gt,onRenderTextLayerError:bt,onRenderTextLayerSuccess:ft,page:Jt,pageIndex:Xt,pageNumber:ue,renderForms:N,renderTextLayer:nt,rotate:Ge,scale:Me}:null,[i,o,m,b,x,L,O,P,F,j,tt,at,st,gt,bt,ft,Jt,Xt,ue,N,nt,Ge,Me]),ff=z.useMemo(()=>Px(xt,()=>Jt&&(Me?g0(Jt,Me):void 0)),[xt,Jt,Me]),xs=`${Xt}@${Me}/${Ge}`;function lm(){switch(K){case"custom":return re(p),yt.jsx(p,{},`${xs}_custom`);case"none":return null;case"canvas":default:return yt.jsx(Zk,{canvasRef:u},`${xs}_canvas`)}}function pf(){return nt?yt.jsx(tP,{},`${xs}_text`):null}function cm(){return wt?yt.jsx(eP,{},`${xs}_annotations`):null}function um(){return yt.jsxs(jx.Provider,{value:df,children:[lm(),pf(),cm(),d]})}function Dr(){return ue?Y===null||Jt===void 0||Jt===null?yt.jsx(uc,{type:"loading",children:typeof w=="function"?w():w}):Y===!1||Jt===!1?yt.jsx(uc,{type:"error",children:typeof v=="function"?v():v}):um():yt.jsx(uc,{type:"no-data",children:typeof M=="function"?M():M})}return yt.jsx("div",Object.assign({className:sm(i,f),"data-page-number":ue,ref:Ix(A,Ts),style:{"--scale-factor":`${Me}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ff,{children:Dr()}))}Uk();U0.workerSrc="pdf.worker.mjs";U0.workerSrc="/pdf.worker.min.mjs";function sP(){const[l,t]=z.useState(1),[e,i]=z.useState(null),a=z.useRef(null),[o,u]=z.useState(600),d=({numPages:m})=>{i(m),t(1)},f=()=>t(m=>Math.max(m-1,1)),p=()=>t(m=>Math.min(m+1,e));return z.useEffect(()=>{function m(){if(a.current){const b=a.current.offsetWidth;u(b>800?800:b-20)}}return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),yt.jsxs("div",{ref:a,style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",minHeight:"100vh",boxSizing:"border-box"},children:[yt.jsx("h3",{children:"Novel Reader"}),yt.jsxs("div",{style:{marginBottom:"10px",display:"flex",justifyContent:"center",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[yt.jsx("button",{onClick:f,disabled:l<=1,children:"Previous"}),yt.jsxs("span",{children:["Page ",l," of ",e]}),yt.jsx("button",{onClick:p,disabled:l>=e,children:"Next"})]}),yt.jsx("div",{style:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)",width:"100%",maxWidth:"820px",maxHeight:"80vh",overflow:"auto",borderRadius:"4px"},children:yt.jsx(Xk,{file:"http://localhost:5294/api/novels/read/1",onLoadSuccess:d,onLoadError:console.error,loading:yt.jsx("div",{children:"Loading PDF..."}),error:yt.jsx("div",{children:"Failed to load PDF"}),children:yt.jsx(iP,{pageNumber:l,width:o})})})]})}function aP(){return yt.jsx(FL,{children:yt.jsxs(dL,{children:[yt.jsx(jb,{path:"/",element:yt.jsx(EO,{})}),yt.jsx(jb,{path:"/novel/:id",element:yt.jsx(sP,{})})]})})}AM.createRoot(document.getElementById("root")).render(yt.jsx(z.StrictMode,{children:yt.jsx(aP,{})}));
